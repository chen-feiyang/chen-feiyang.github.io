<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.58.1" />

  
  <meta name="description" content="Some description">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://chen-feiyang.github.io/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://chen-feiyang.github.io/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://chen-feiyang.github.io/favicon-16x16.png">

  
  <link rel="manifest" href="https://chen-feiyang.github.io/site.webmanifest">

  
  <link rel="mask-icon" href="https://chen-feiyang.github.io/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://chen-feiyang.github.io/css/bootstrap.min.css" />

  
  <title>more_math_into_latex | Feiyang Chen&#39;s Blog</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #ffffff;
}



body {
  color: #212529;
}



a {
  color: #212529;
}



a:hover,
a:focus {
  color: #212529;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>more_math_into_latex</h1>


<!-- TOC -->

<ul>
<li><a href="#about-this-book">about this book</a>

<ul>
<li><a href="#foreword">Foreword</a></li>
<li><a href="#preface-to-the-fifth-edition">Preface to the fifth edition</a></li>
<li><a href="#introduction">Introduction</a>

<ul>
<li><a href="#is-this-book-for-you">Is this book for you?</a></li>
<li><a href="#what-is-document-markup">What is document markup?</a></li>
<li><a href="#the-three-layers">The three layers</a></li>
<li><a href="#the-three-platforms">The three platforms</a></li>
<li><a href="#whats-in-the-book">What’s in the book?</a></li>
<li><a href="#mission-statement">Mission statement</a></li>
<li><a href="#conventions">Conventions</a></li>
</ul></li>
</ul></li>
<li><a href="#i-mission-impossible">I Mission Impossible</a>

<ul>
<li><a href="#short-course">Short course</a>

<ul>
<li><a href="#getting-started">Getting started</a>

<ul>
<li><a href="#your-latex">Your LATEX</a></li>
<li><a href="#sample-files">Sample files</a></li>
<li><a href="#editing-cycle">Editing cycle</a></li>
<li><a href="#typing-the-source-file">Typing the source file</a></li>
</ul></li>
<li><a href="#the-keyboard">The keyboard</a></li>
<li><a href="#your-first-text-notes">Your first text notes</a></li>
<li><a href="#lines-too-wide">Lines too wide</a></li>
<li><a href="#a-note-with-formulas">A note with formulas</a></li>
<li><a href="#the-building-blocks-of-a-formula">The building blocks of a formula</a></li>
<li><a href="#displayed-formulas">Displayed formulas</a>

<ul>
<li><a href="#equations">Equations</a></li>
<li><a href="#symbolic-referencing">Symbolic referencing</a></li>
<li><a href="#aligned-formulas">Aligned formulas</a></li>
<li><a href="#cases">Cases</a></li>
</ul></li>
<li><a href="#the-anatomy-of-a-document">The anatomy of a document</a></li>
<li><a href="#your-own-commands">Your own commands</a></li>
<li><a href="#adding-an-illustration">Adding an illustration</a></li>
<li><a href="#the-anatomy-of-a-presentation">The anatomy of a presentation</a></li>
</ul></li>
<li><a href="#and-a-few-more-things">And a few more things</a>

<ul>
<li><a href="#structure">Structure</a></li>
<li><a href="#auxiliary-files">Auxiliary files</a></li>
<li><a href="#logical-and-visual-design">Logical and visual design</a></li>
<li><a href="#general-error-messages">General error messages</a></li>
<li><a href="#errors-in-math">Errors in math</a></li>
<li><a href="#your-errors-daveys-dos-and-donts">Your errors: Davey’s Dos and Don’ts</a></li>
</ul></li>
</ul></li>
<li><a href="#ii-text-and-math">II Text and Math</a>

<ul>
<li><a href="#typing-text">Typing text</a>

<ul>
<li><a href="#the-keyboard">The keyboard</a>

<ul>
<li><a href="#basic-keys">Basic keys</a></li>
<li><a href="#special-keys">Special keys</a></li>
<li><a href="#prohibited-keys">Prohibited keys</a></li>
</ul></li>
<li><a href="#words-sentences-and-paragraphs">Words, sentences, and paragraphs</a>

<ul>
<li><a href="#spacing-rules">Spacing rules</a></li>
<li><a href="#periods">Periods</a></li>
</ul></li>
<li><a href="#commanding-latex">Commanding LATEX</a>

<ul>
<li><a href="#commands-and-environments">Commands and environments</a></li>
<li><a href="#scope">Scope</a></li>
<li><a href="#types-of-commands">Types of commands</a></li>
</ul></li>
<li><a href="#symbols-not-on-the-keyboard">Symbols not on the keyboard</a>

<ul>
<li><a href="#quotation-marks">Quotation marks</a></li>
<li><a href="#dashes">Dashes</a></li>
<li><a href="#ties-or-nonbreakable-spaces">Ties or nonbreakable spaces</a></li>
<li><a href="#special-characters">Special characters</a></li>
<li><a href="#ellipses">Ellipses</a></li>
<li><a href="#ligatures">Ligatures</a></li>
<li><a href="#accents-and-symbols-in-text">Accents and symbols in text</a></li>
<li><a href="#logos-and-dates">Logos and dates</a></li>
<li><a href="#hyphenation">Hyphenation</a></li>
</ul></li>
<li><a href="#comments-and-footnotes">Comments and footnotes</a>

<ul>
<li><a href="#comments">Comments</a></li>
<li><a href="#footnotes">Footnotes</a></li>
</ul></li>
<li><a href="#changing-font-characteristics">Changing font characteristics</a>

<ul>
<li><a href="#basic-font-characteristics">Basic font characteristics</a></li>
<li><a href="#document-font-families">Document font families</a></li>
<li><a href="#shape-commands">Shape commands</a></li>
<li><a href="#italic-corrections">Italic corrections</a></li>
<li><a href="#series">Series</a></li>
<li><a href="#size-changes">Size changes</a></li>
<li><a href="#orthogonality">Orthogonality</a></li>
<li><a href="#obsolete-two-letter-commands">Obsolete two-letter commands</a></li>
<li><a href="#low-level-commands">Low-level commands</a></li>
</ul></li>
<li><a href="#lines-paragraphs-and-pages">Lines, paragraphs, and pages</a>

<ul>
<li><a href="#lines">Lines</a></li>
<li><a href="#paragraphs">Paragraphs</a></li>
<li><a href="#pages">Pages</a></li>
<li><a href="#multicolumn-printing">Multicolumn printing</a></li>
</ul></li>
<li><a href="#spaces">Spaces</a>

<ul>
<li><a href="#horizontal-spaces">Horizontal spaces</a></li>
<li><a href="#vertical-spaces">Vertical spaces</a></li>
<li><a href="#relative-spaces">Relative spaces</a></li>
<li><a href="#expanding-spaces">Expanding spaces</a></li>
</ul></li>
<li><a href="#boxes">Boxes</a>

<ul>
<li><a href="#line-boxes">Line boxes</a></li>
<li><a href="#frame-boxes">Frame boxes</a></li>
<li><a href="#paragraph-boxes">Paragraph boxes</a></li>
<li><a href="#marginal-comments">Marginal comments</a></li>
<li><a href="#solid-boxes">Solid boxes</a></li>
<li><a href="#fine-tuning-boxes">Fine tuning boxes</a></li>
</ul></li>
</ul></li>
<li><a href="#text-environments">Text environments</a>

<ul>
<li><a href="#some-general-rules-for-displayed-text-environments">Some general rules for displayed text environments</a></li>
<li><a href="#list-environments">List environments</a>

<ul>
<li><a href="#numbered-lists">Numbered lists</a></li>
<li><a href="#bulleted-lists">Bulleted lists</a></li>
<li><a href="#captioned-lists">Captioned lists</a></li>
<li><a href="#a-rule-and-combinations">A rule and combinations</a></li>
</ul></li>
<li><a href="#style-and-size-environments">Style and size environments</a></li>
<li><a href="#proclamations-theorem-like-structures">Proclamations (theorem-like structures)</a>

<ul>
<li><a href="#the-full-syntax">The full syntax</a></li>
<li><a href="#proclamations-with-style">Proclamations with style</a></li>
</ul></li>
<li><a href="#proof-environments">Proof environments</a></li>
<li><a href="#tabular-environments">Tabular environments</a>

<ul>
<li><a href="#table-styles">Table styles</a></li>
</ul></li>
<li><a href="#tabbing-environments">Tabbing environments</a></li>
<li><a href="#miscellaneous-displayed-text-environments">Miscellaneous displayed text environments</a></li>
</ul></li>
<li><a href="#typing-math">Typing math</a>

<ul>
<li><a href="#math-environments">Math environments</a></li>
<li><a href="#spacing-rules">Spacing rules</a></li>
<li><a href="#equations">Equations</a></li>
<li><a href="#basic-constructs">Basic constructs</a>

<ul>
<li><a href="#arithmetic-operations">Arithmetic operations</a></li>
<li><a href="#binomial-coefficients">Binomial coefficients</a></li>
<li><a href="#ellipses">Ellipses</a></li>
<li><a href="#integrals">Integrals</a></li>
<li><a href="#roots">Roots</a></li>
<li><a href="#text-in-math">Text in math</a></li>
<li><a href="#hebrew-and-greek-letters">Hebrew and Greek letters</a></li>
</ul></li>
<li><a href="#delimiters">Delimiters</a>

<ul>
<li><a href="#stretching-delimiters">Stretching delimiters</a></li>
<li><a href="#delimiters-that-do-not-stretch">Delimiters that do not stretch</a></li>
<li><a href="#limitations-of-stretching">Limitations of stretching</a></li>
<li><a href="#delimiters-as-binary-relations">Delimiters as binary relations</a></li>
</ul></li>
<li><a href="#operators">Operators</a>

<ul>
<li><a href="#operator-tables">Operator tables</a></li>
<li><a href="#congruences">Congruences</a></li>
<li><a href="#large-operators">Large operators</a></li>
<li><a href="#multiline-subscripts-and-superscripts">Multiline subscripts and superscripts</a></li>
</ul></li>
<li><a href="#math-accents">Math accents</a></li>
<li><a href="#stretchable-horizontal-lines">Stretchable horizontal lines</a>

<ul>
<li><a href="#horizontal-braces">Horizontal braces</a></li>
<li><a href="#overlines-and-underlines">Overlines and underlines</a></li>
<li><a href="#stretchable-arrow-math-symbols">Stretchable arrow math symbols</a></li>
</ul></li>
<li><a href="#building-a-formula-step-by-step">Building a formula step-by-step</a></li>
<li><a href="#formula-gallery">Formula Gallery</a></li>
</ul></li>
<li><a href="#more-math">More math</a>

<ul>
<li><a href="#spacing-of-symbols">Spacing of symbols</a>

<ul>
<li><a href="#classification">Classification</a></li>
<li><a href="#three-exceptions">Three exceptions</a></li>
<li><a href="#spacing-commands">Spacing commands</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#the-phantom-command">The phantom command</a></li>
</ul></li>
<li><a href="#the-stix-math-symbols">The STIX math symbols</a>

<ul>
<li><a href="#swinging-it">Swinging it</a></li>
<li><a href="#the-stix-project">The STIX project</a></li>
<li><a href="#installation-and-usage">Installation and usage</a></li>
</ul></li>
<li><a href="#building-new-symbols">Building new symbols</a>

<ul>
<li><a href="#stacking-symbols">Stacking symbols</a></li>
<li><a href="#negating-and-side-setting-symbols">Negating and side-setting symbols</a></li>
<li><a href="#changing-the-type-of-a-symbol">Changing the type of a symbol</a></li>
</ul></li>
<li><a href="#math-alphabets-and-symbols">Math alphabets and symbols</a>

<ul>
<li><a href="#math-alphabets">Math alphabets</a></li>
<li><a href="#math-symbol-alphabets">Math symbol alphabets</a></li>
<li><a href="#bold-math-symbols">Bold math symbols</a></li>
<li><a href="#size-changes">Size changes</a></li>
<li><a href="#continued-fractions">Continued fractions</a></li>
</ul></li>
<li><a href="#vertical-spacing">Vertical spacing</a></li>
<li><a href="#tagging-and-grouping">Tagging and grouping</a></li>
<li><a href="#miscellaneous">Miscellaneous</a>

<ul>
<li><a href="#generalized-fractions">Generalized fractions</a></li>
<li><a href="#boxed-formulas">Boxed formulas</a></li>
</ul></li>
</ul></li>
<li><a href="#multiline-math-displays">Multiline math displays</a>

<ul>
<li><a href="#visual-guide">Visual Guide</a>

<ul>
<li><a href="#columns">Columns</a></li>
<li><a href="#subsidiary-math-environments">Subsidiary math environments</a></li>
<li><a href="#adjusted-columns">Adjusted columns</a></li>
<li><a href="#aligned-columns">Aligned columns</a></li>
<li><a href="#touring-the-visual-guide">Touring the Visual Guide</a></li>
</ul></li>
<li><a href="#gathering-formulas">Gathering formulas</a></li>
<li><a href="#splitting-long-formulas">Splitting long formulas</a></li>
<li><a href="#some-general-rules">Some general rules</a>

<ul>
<li><a href="#general-rules">General rules</a></li>
<li><a href="#subformula-rules">Subformula rules</a></li>
<li><a href="#breaking-and-aligning-formulas">Breaking and aligning formulas</a></li>
<li><a href="#numbering-groups-of-formulas">Numbering groups of formulas</a></li>
</ul></li>
<li><a href="#aligned-columns">Aligned columns</a>

<ul>
<li><a href="#an-align-variant">An align variant</a></li>
<li><a href="#eqnarray-the-ancestor-of-align">eqnarray, the ancestor of align</a></li>
<li><a href="#the-subformula-rule-revisited">The subformula rule revisited</a></li>
<li><a href="#the-alignat-environment">The alignat environment</a></li>
<li><a href="#inserting-text">Inserting text</a></li>
</ul></li>
<li><a href="#aligned-subsidiary-math-environments">Aligned subsidiary math environments</a>

<ul>
<li><a href="#subsidiary-variants">Subsidiary variants</a></li>
<li><a href="#split">Split</a></li>
</ul></li>
<li><a href="#adjusted-columns">Adjusted columns</a>

<ul>
<li><a href="#matrices">Matrices</a></li>
<li><a href="#arrays">Arrays</a></li>
<li><a href="#cases">Cases</a></li>
</ul></li>
<li><a href="#commutative-diagrams">Commutative diagrams</a></li>
<li><a href="#adjusting-the-display">Adjusting the display</a></li>
</ul></li>
</ul></li>
<li><a href="#iii-document-structure">III Document Structure</a>

<ul>
<li><a href="#documents">Documents</a>

<ul>
<li><a href="#the-structure-of-a-document">The structure of a document</a></li>
<li><a href="#the-preamble">The preamble</a></li>
<li><a href="#top-matter">Top matter</a>

<ul>
<li><a href="#abstract">Abstract</a></li>
</ul></li>
<li><a href="#main-matter">Main matter</a>

<ul>
<li><a href="#sectioning">Sectioning</a></li>
<li><a href="#cross-referencing">Cross-referencing</a></li>
<li><a href="#floating-tables-and-illustrations">Floating tables and illustrations</a></li>
</ul></li>
<li><a href="#back-matter">Back matter</a>

<ul>
<li><a href="#bibliographies-in-articles">Bibliographies in articles</a></li>
<li><a href="#simple-indexes">Simple indexes</a></li>
</ul></li>
<li><a href="#visual-design">Visual design</a></li>
</ul></li>
<li><a href="#the-ams-article-document-class">The AMS article document class</a>

<ul>
<li><a href="#why-amsart">Why amsart?</a>

<ul>
<li><a href="#submitting-an-article-to-the-ams">Submitting an article to the AMS</a></li>
<li><a href="#submitting-an-article-to-algebra-universalis">Submitting an article to Algebra Universalis</a></li>
<li><a href="#submitting-to-other-journals">Submitting to other journals</a></li>
<li><a href="#submitting-to-conference-proceedings">Submitting to conference proceedings</a></li>
</ul></li>
<li><a href="#the-top-matter">The top matter</a>

<ul>
<li><a href="#article-information">Article information</a></li>
<li><a href="#author-information">Author information</a></li>
<li><a href="#ams-information">AMS information</a></li>
<li><a href="#multiple-authors">Multiple authors</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#abstract">Abstract</a></li>
</ul></li>
<li><a href="#the-sample-article">The sample article</a></li>
<li><a href="#article-templates">Article templates</a></li>
<li><a href="#options">Options</a></li>
<li><a href="#the-ams-packages">The AMS packages</a></li>
</ul></li>
<li><a href="#legacy-documents">Legacy documents</a>

<ul>
<li><a href="#articles-and-reports">Articles and reports</a>

<ul>
<li><a href="#top-matter">Top matter</a></li>
<li><a href="#options">Options</a></li>
</ul></li>
<li><a href="#letters">Letters</a></li>
<li><a href="#the-latex-distribution">The LATEX distribution</a>

<ul>
<li><a href="#tools">Tools</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#iv-pdf-documents">IV PDF Documents</a>

<ul>
<li><a href="#the-pdf-file-format">The PDF file format</a>

<ul>
<li><a href="#postscript-and-pdf">PostScript and PDF</a>

<ul>
<li><a href="#postscript">PostScript</a></li>
<li><a href="#pdf">PDF</a></li>
<li><a href="#hyperlinks">Hyperlinks</a></li>
</ul></li>
<li><a href="#hyperlinks-for-latex">Hyperlinks for LATEX</a>

<ul>
<li><a href="#using-hyperref">Using hyperref</a></li>
<li><a href="#backref-and-colorlinks">backref and colorlinks</a></li>
<li><a href="#bookmarks">Bookmarks</a></li>
<li><a href="#additional-commands">Additional commands</a></li>
</ul></li>
</ul></li>
<li><a href="#presentations">Presentations</a>

<ul>
<li><a href="#quick-and-dirty-beamer">Quick and dirty beamer</a>

<ul>
<li><a href="#first-changes">First changes</a></li>
<li><a href="#changes-in-the-body">Changes in the body</a></li>
<li><a href="#making-things-prettier">Making things prettier</a></li>
<li><a href="#adjusting-the-navigation">Adjusting the navigation</a></li>
</ul></li>
<li><a href="#baby-beamers">Baby beamers</a>

<ul>
<li><a href="#overlays">Overlays</a></li>
<li><a href="#understanding-overlays">Understanding overlays</a></li>
<li><a href="#more-on-the-only-and-onslide-commands">More on the \only and \onslide commands</a></li>
<li><a href="#lists-as-overlays">Lists as overlays</a></li>
<li><a href="#out-of-sequence-overlays">Out of sequence overlays</a></li>
<li><a href="#blocks-and-overlays">Blocks and overlays</a></li>
<li><a href="#links">Links</a></li>
<li><a href="#columns">Columns</a></li>
<li><a href="#coloring">Coloring</a></li>
</ul></li>
<li><a href="#the-structure-of-a-presentation">The structure of a presentation</a>

<ul>
<li><a href="#longer-presentations">Longer presentations</a></li>
<li><a href="#navigation-symbols">Navigation symbols</a></li>
</ul></li>
<li><a href="#notes">Notes</a></li>
<li><a href="#themes">Themes</a></li>
<li><a href="#planning-your-presentation">Planning your presentation</a></li>
<li><a href="#what-did-i-leave-out">What did I leave out?</a></li>
</ul></li>
<li><a href="#illustrations">Illustrations</a>

<ul>
<li><a href="#your-first-picture">Your first picture</a></li>
<li><a href="#the-building-blocks-of-an-illustration">The building blocks of an illustration</a></li>
<li><a href="#transformations">Transformations</a></li>
<li><a href="#path-attributes">Path attributes</a></li>
<li><a href="#coding-the-example">Coding the example</a></li>
<li><a href="#what-did-i-leave-out">What did I leave out?</a></li>
</ul></li>
</ul></li>
<li><a href="#v-customization">V Customization</a>

<ul>
<li><a href="#commands-and-environments">Commands and environments</a>

<ul>
<li><a href="#custom-commands">Custom commands</a>

<ul>
<li><a href="#examples-and-rules">Examples and rules</a></li>
<li><a href="#arguments">Arguments</a></li>
<li><a href="#short-arguments">Short arguments</a></li>
<li><a href="#optional-arguments">Optional arguments</a></li>
<li><a href="#redefining-commands">Redefining commands</a></li>
<li><a href="#defining-operators">Defining operators</a></li>
<li><a href="#redefining-names">Redefining names</a></li>
<li><a href="#showing-the-definitions-of-commands">Showing the definitions of commands</a></li>
<li><a href="#delimited-commands">Delimited commands</a></li>
</ul></li>
<li><a href="#custom-environments">Custom environments</a>

<ul>
<li><a href="#modifying-existing-environments">Modifying existing environments</a></li>
<li><a href="#arguments">Arguments</a></li>
<li><a href="#optional-arguments-with-default-values">Optional arguments with default values</a></li>
<li><a href="#short-contents">Short contents</a></li>
<li><a href="#brand-new-environments">Brand-new environments</a></li>
</ul></li>
<li><a href="#a-custom-command-file">A custom command file</a></li>
<li><a href="#the-sample-article-with-custom-commands">The sample article with custom commands</a></li>
<li><a href="#numbering-and-measuring">Numbering and measuring</a>

<ul>
<li><a href="#counters">Counters</a></li>
<li><a href="#length-commands">Length commands</a></li>
</ul></li>
<li><a href="#custom-lists">Custom lists</a>

<ul>
<li><a href="#length-commands-for-the-list-environment">Length commands for the list environment</a></li>
<li><a href="#the-list-environment">The list environment</a></li>
<li><a href="#two-complete-examples">Two complete examples</a></li>
<li><a href="#the-trivlist-environment">The trivlist environment</a></li>
</ul></li>
<li><a href="#the-dangers-of-customization">The dangers of customization</a></li>
</ul></li>
</ul></li>
<li><a href="#vi-long-documents">VI Long Documents</a>

<ul>
<li><a href="#bibtex">BIBTEX</a>

<ul>
<li><a href="#the-database">The database</a>

<ul>
<li><a href="#entry-types">Entry types</a></li>
<li><a href="#typing-fields">Typing fields</a></li>
<li><a href="#articles">Articles</a></li>
<li><a href="#books">Books</a></li>
<li><a href="#conference-proceedings-and-collections">Conference proceedings and collections</a></li>
<li><a href="#theses">Theses</a></li>
<li><a href="#technical-reports">Technical reports</a></li>
<li><a href="#manuscripts-and-other-entry-types">Manuscripts and other entry types</a></li>
<li><a href="#abbreviations">Abbreviations</a></li>
</ul></li>
<li><a href="#using-bibtex">Using BIBTEX</a>

<ul>
<li><a href="#sample-files">Sample files</a></li>
<li><a href="#setup">Setup</a></li>
<li><a href="#four-steps-of-bibtexing">Four steps of BIBTEXing</a></li>
<li><a href="#bibtex-files">BIBTEX files</a></li>
<li><a href="#bibtex-rules-and-messages">BIBTEX rules and messages</a></li>
<li><a href="#submitting-an-article">Submitting an article</a></li>
</ul></li>
<li><a href="#concluding-comments">Concluding comments</a></li>
</ul></li>
<li><a href="#makeindex">MakeIndex</a>

<ul>
<li><a href="#preparing-the-document">Preparing the document</a></li>
<li><a href="#index-commands">Index commands</a></li>
<li><a href="#processing-the-index-entries">Processing the index entries</a></li>
<li><a href="#rules">Rules</a></li>
<li><a href="#multiple-indexes">Multiple indexes</a></li>
<li><a href="#glossary">Glossary</a></li>
<li><a href="#concluding-comments">Concluding comments</a></li>
</ul></li>
<li><a href="#books-in-latex">Books in LATEX</a>

<ul>
<li><a href="#book-document-classes">Book document classes</a>

<ul>
<li><a href="#sectioning">Sectioning</a></li>
<li><a href="#division-of-the-body">Division of the body</a></li>
<li><a href="#document-class-options">Document class options</a></li>
<li><a href="#title-pages">Title pages</a></li>
</ul></li>
<li><a href="#tables-of-contents-lists-of-tables-and-figures">Tables of contents, lists of tables and figures</a>

<ul>
<li><a href="#tables-of-contents">Tables of contents</a></li>
<li><a href="#lists-of-tables-and-figures">Lists of tables and figures</a></li>
<li><a href="#exercises">Exercises</a></li>
</ul></li>
<li><a href="#organizing-the-files-for-a-book">Organizing the files for a book</a>

<ul>
<li><a href="#the-folders-and-the-master-document">The folders and the master document</a></li>
<li><a href="#inclusion-and-selective-inclusion">Inclusion and selective inclusion</a></li>
<li><a href="#organizing-your-files">Organizing your files</a></li>
</ul></li>
<li><a href="#logical-design">Logical design</a></li>
<li><a href="#final-preparations-for-the-publisher">Final preparations for the publisher</a></li>
<li><a href="#if-you-create-the-pdf-file-for-your-book">If you create the PDF file for your book</a></li>
</ul></li>
<li><a href="#a-math-symbol-tables">A Math symbol tables</a>

<ul>
<li><a href="#a1-hebrew-and-greek-letters">A.1 Hebrew and Greek letters</a></li>
<li><a href="#a2-binary-relations">A.2 Binary relations</a></li>
<li><a href="#a3-binary-operations">A.3 Binary operations</a></li>
<li><a href="#a4-arrows">A.4 Arrows</a></li>
<li><a href="#a5-miscellaneous-symbols">A.5 Miscellaneous symbols</a></li>
<li><a href="#a6-delimiters">A.6 Delimiters</a></li>
<li><a href="#a7-operators">A.7 Operators</a>

<ul>
<li><a href="#a71-large-operators">A.7.1 Large operators</a></li>
</ul></li>
<li><a href="#a8-math-accents-and-fonts">A.8 Math accents and fonts</a></li>
<li><a href="#a9-math-spacing-commands">A.9 Math spacing commands</a></li>
</ul></li>
<li><a href="#b-text-symbol-tables">B Text symbol tables</a>

<ul>
<li><a href="#b1-some-european-characters">B.1 Some European characters</a></li>
<li><a href="#b2-text-accents">B.2 Text accents</a></li>
<li><a href="#b3-text-font-commands">B.3 Text font commands</a>

<ul>
<li><a href="#b31-text-font-family-commands">B.3.1 Text font family commands</a></li>
<li><a href="#b32-text-font-size-changes">B.3.2 Text font size changes</a></li>
</ul></li>
<li><a href="#b4-additional-text-symbols">B.4 Additional text symbols</a></li>
<li><a href="#b5-additional-text-symbols-with-t1-encoding">B.5 Additional text symbols with T1 encoding</a></li>
<li><a href="#b6-text-spacing-commands">B.6 Text spacing commands</a></li>
</ul></li>
<li><a href="#c-some-background">C Some background</a>

<ul>
<li><a href="#c1-a-short-history">C.1 A short history</a>

<ul>
<li><a href="#c11-tex">C.1.1 TEX</a></li>
<li><a href="#c12-latex-209-and-ams-tex">C.1.2 LATEX 2.09 and AMS-TEX</a></li>
<li><a href="#c13-latex-3">C.1.3 LATEX 3</a></li>
<li><a href="#c14-more-recent-developments">C.1.4 More recent developments</a></li>
</ul></li>
<li><a href="#c2-how-latex-works">C.2 How LATEX works</a>

<ul>
<li><a href="#c21-the-layers">C.2.1 The layers</a></li>
<li><a href="#c22-typesetting">C.2.2 Typesetting</a></li>
<li><a href="#c23-viewing-and-printing">C.2.3 Viewing and printing</a></li>
<li><a href="#c24-latexs-files">C.2.4 LATEX’s files</a></li>
</ul></li>
<li><a href="#c3-interactive-latex">C.3 Interactive LATEX</a></li>
<li><a href="#c4-separating-form-and-content">C.4 Separating form and content</a></li>
</ul></li>
<li><a href="#d-latex-and-the-internet">D LATEX and the Internet</a>

<ul>
<li><a href="#d1-obtaining-files-from-the-internet">D.1 Obtaining files from the Internet</a></li>
<li><a href="#d2-the-tex-users-group">D.2 The TEX Users Group</a></li>
<li><a href="#d3-some-useful-sources-of-latex-information">D.3 Some useful sources of LATEX information</a></li>
</ul></li>
<li><a href="#e-postscript-fonts">E PostScript fonts</a>

<ul>
<li><a href="#e1-the-times-font-and-mathtıme">E.1 The Times font and MathTıme</a></li>
<li><a href="#e2-lucida-bright-fonts">E.2 Lucida Bright fonts</a></li>
<li><a href="#e3-more-postscript-fonts">E.3 More PostScript fonts</a></li>
</ul></li>
<li><a href="#f-latex-localized">F LATEX localized</a></li>
<li><a href="#g-latex-on-the-ipad">G LATEX on the iPad</a>

<ul>
<li><a href="#g1-the-ipad-as-a-computer">G.1 The iPad as a computer</a>

<ul>
<li><a href="#g11-file-system">G.1.1 File system</a></li>
<li><a href="#g12-fileapp">G.1.2 FileApp</a></li>
<li><a href="#g13-printing">G.1.3 Printing</a></li>
<li><a href="#g14-text-editors">G.1.4 Text editors</a></li>
</ul></li>
<li><a href="#g2-files">G.2 Files</a></li>
<li><a href="#g3-two-latex-implementations-for-the-ipad">G.3 Two LATEX implementations for the iPad</a>

<ul>
<li><a href="#g31-texpad">G.3.1 Texpad</a></li>
<li><a href="#g32-tex-writer">G.3.2 TeX Writer</a></li>
</ul></li>
<li><a href="#g4-conclusion">G.4 Conclusion</a></li>
</ul></li>
<li><a href="#h-final-thoughts">H Final thoughts</a>

<ul>
<li><a href="#h1-what-was-left-out">H.1 What was left out?</a>

<ul>
<li><a href="#h11-latex-omissions">H.1.1 LATEX omissions</a></li>
<li><a href="#h12-tex-omissions">H.1.2 TEX omissions</a></li>
</ul></li>
<li><a href="#h2-further-reading">H.2 Further reading</a></li>
</ul></li>
<li><a href="#bibliography">Bibliography</a></li>
<li><a href="#index">Index</a></li>
</ul></li>
</ul>

<!-- /TOC -->

<p>关于为什么找这本书？</p>

<p>需要用到latex编辑数学公式。但是latex不仅可编辑数学公式，还可编辑文字等，所以需要专门将公式编辑的。</p>

<h1 id="about-this-book">about this book</h1>

<h2 id="foreword">Foreword</h2>

<p>It was the autumn of 1989—a few weeks before the Berlin wall came down, President George H. W. Bush was president, and the American Mathematical Society decided to outsource TEX programming to Frank Mittelbach and me.</p>

<p>那是1989年的秋天——在柏林墙倒塌的几个星期前，乔治·布什总统当总统，美国数学会决定把TEX节目外包给弗兰克·米特尔巴赫和我。</p>

<p>Why did the AMS outsource TEX programming to us? This was, after all, a decade before the words “outsourcing” and “off-shore” entered the lexicon. There were many American TEX experts. Why turn elsewhere?</p>

<p>为什么 AMS 将 TEX 编程外包给我们？毕竟，在&quot;外包&quot;和&quot;离岸&quot;这两个词进入词典之前，这已经十年了。有许多美国TEX专家。为什么要转到别处去？</p>

<p>For a number of years, the AMS tried to port the mathematical typesetting features of AMS-TEX to LATEX, but they made little progress with the AMSFonts. Frank and I had just published the New Font Selection Scheme for LATEX, which went a long way to satisfy what they wanted to accomplish. So it was logical that the AMS turned to us to add AMSFonts to LATEX. Being young and enthusiastic, we convinced the AMS that the AMS-TEX commands should be changed to conform to the LATEX standards. Michael Downes was assigned as our AMS contact; his insight was a tremendous help.</p>

<p>多年来，AMS 试图将 AMS-TEX 的数学排版功能移植到 LATEX，但它们在 AMSFonts 方面进展甚微。Frank 和我刚刚发布了 LATEX 的新字体选择方案，该计划在满足他们想要完成的任务方面大有作为。因此，AMS 转向我们向 LATEX 添加 AMSFonts 是合乎逻辑的。由于年轻和热情，我们说服AMS，AMS-TEX命令应该改变，以符合LATEX标准。迈克尔·唐斯被指派为我们的AMS联系人;他的洞察力是一个巨大的帮助。</p>

<p>We already had LATEX-NFSS, which could be run in two modes: compatible with the old LATEX or enabled with the new font features. We added the reworked AMSTEX code to LATEX-NFSS, thus giving birth to AMS-LATEX , released by the AMS at the August 1990 meeting of the International Mathematical Union in Kyoto.</p>

<p>我们已经有LATEX-NFSS，它可以在两种模式下运行：与旧的LATEX兼容，或启用新的字体功能。我们将返工的AMSTEX代码添加到LATEX-NFSS中，从而产生了AMS-LATEX，由AMS在1990年8月于京都举行的国际数学联盟会议上发布。</p>

<p>AMS-LATEX was another variant of LATEX. Many installations had several LATEX variants to satisfy the needs of their users: with old and new font changing commands, with and without AMS-LATEX , a single and a multi-language version. We decided to develop a Standard LATEX that would reconcile all the variants. Out of a group of interested people grew what was later called the LATEX3 team—and the LATEX3 project got 1994. This standard LATEX incorporates all the improvements we wanted back in 1989. It is now very stable and it is uniformly used.</p>

<p>AMS-LATEX 是 LATEX 的另一个变体。许多安装有几个LATEX变种，以满足他们的用户的需求：与旧的和新的字体更改命令，有和没有AMS-LATEX，一个单一和多语言版本。我们决定开发一个标准 LATEX，可以协调所有变体。在一群感兴趣的人中，他们成长了后来被称为LATEX3的团队——LATEX3项目获得了1994年。此标准 LATEX 包含了我们在 1989 年想要的所有改进。它现在非常稳定，它是统一使用的。</p>

<p>Under the direction of Michael Downes, our AMS-LATEX code was turned into AMS packages that run under LATEX just like other packages. Of course, the LATEX3 team recognizes that these are special; we call them  “required packages” because they are part and parcel of a mathematician’s standard toolbox.</p>

<p>在迈克尔·唐斯的指导下，我们的 AMS-LATEX 代码变成了像其他软件包一样在 LATEX 下运行的 AMS 程序包。当然，LATEX3 团队认识到这些是特殊的;我们称它们为&quot;必需包&quot;，因为它们是数学家标准工具箱的一部分。</p>

<p>Since then a lot has been achieved to make an author’s task easier. A tremendous number of additional packages are available today. The LATEX Companion, 2nd edition, describes many of my favorite packages.</p>

<p>自那时以来，为了让作者的任务更容易，已经取得了许多成就。现在有大量的附加软件包。LATEX助手，第二版，描述了许多我最喜欢的软件包。</p>

<p>George Grätzer got involved with these developments in 1990, when he got his copy of AMS-LATEX in Kyoto. The documentation he received explained that AMSLATEX is a LATEX variant—read Lamport’s LATEX book to get the proper background. AMS-LATEX is not AMS-TEX either—read Spivak’s AMS-TEX book to get the proper background. The rest of the document explained in what way AMS-LATEX differs from LATEX and AMS-TEX. Talk about a steep learning curve . . .</p>

<p>乔治·格鲁策在1990年参与了这些发展，当时他在京都拿到了AMS-LATEX的拷贝。他收到的文档解释说，AMSLATEX 是一个 LATEX 变体 — 阅读 Lamport 的 LATEX 书籍以获取正确的背景。AMS-LATEX 也不是 AMS-TEX — 阅读斯皮瓦克的 AMS-TEX 书籍以获取正确的背景。本文档的其余部分以何种方式解释了 AMS-LATEX 与 LATEX 和 AMS-TEX 的区别。谈论一个陡峭的学习曲线。</p>

<p>Luckily, George’s frustration working through this nightmare was eased by his lengthy e-mail correspondence with Frank and lots of telephone calls to Michael. Three years of labor turned into his first book on LATEX, providing a “simple introduction to AMS-LATEX ”. This edition is more mature, but preserves what made his first book such a success. Just as in the first book, Part I, Mission Impossible, is a short introduction for the beginner. Chapter 1, Short Course, dramatically reducing the steep learning curve of a few weeks to a few hours in only 30 pages. Chapter 2, And a few more things. . .
adds a few more advanced topics useful already at this early stage.</p>

<p>幸运的是，乔治在做这场噩梦时，他与弗兰克的冗长电子邮件和给迈克尔的很多电话缓解了他的沮丧情绪。三年的劳动变成了他的第一本关于LATEX的书，提供了&quot;关于AMS-LATEX的简单介绍&quot;。这个版本更成熟，但保留了是什么使他的第一本书如此成功。正如在第一本书中，第一部分，不可能的任务，是初学者的简短介绍。第 1 章，短课程，在 30 页中，将几周的陡峭学习曲线显著缩短到几个小时。第2章，还有一些事情。 .添加了一些更高级的主题，这些主题在早期阶段非常有用。</p>

<p>The rest of the book is a detailed presentation of everything you may need to know. George “teaches by example”. You find in this book many illustrations of even the simplest concepts. For articles, he presents the  LATEX source file and the typeset result. For formulas, he discusses the building blocks with examples, presents a Formula Gallery, and a Visual Guide for multiline formulas. Going forth and creating “masterpieces of the typesetting art”—as Donald Knuth put it at the end of the TEXbook—requires a fair bit of initiation. This is the book for the LATEX beginner as well as for the advanced user. You just start at a different point.
The topics covered include everything you need for mathematical publishing.</p>

<p>本书的其余部分详细介绍了您可能需要了解的一切。乔治&quot;以身作则&quot;。在这本书中，你找到许多甚至最简单的概念的插图。对于文章，他呈现 LATEX 源文件和排型结果。对于公式，他使用示例讨论了构建基块，提供了公式库和多行公式的可视化指南。正如唐纳德·克努斯在TEXbook的结尾所说，去创作&quot;排版艺术的杰作&quot;——需要相当一部分的启动。这是LATEX初学者和高级用户的书。你只是从另一个点开始。涵盖的主题包括数学出版所需的一切。</p>

<ul>
<li>Instructions on creating articles, from the simple to the complex Converting an article to a presentation</li>
<li>Customize LATEX to your own needs</li>
<li>The secrets of writing a book</li>

<li><p>Where to turn to get more information</p></li>

<li><p>关于创建文章的说明，从简单到复杂，将文章转换为演示文稿</p></li>

<li><p>根据您自己的需求定制 LATEX</p></li>

<li><p>写书的秘密</p></li>

<li><p>何处获取更多信息</p></li>
</ul>

<p>The many examples are complemented by a number of easily recognizable features:</p>

<p>许多例子是补充了一些容易辨认的特点:</p>

<ul>
<li>Rules which you must follow</li>
<li>Tips on what to be careful about and how to achieve some specific results</li>

<li><p>Experiments to show what happens when you make mistakes—sometimes, it can be difficult to understand what went wrong when all you see is an obscure LATEX message</p></li>

<li><p>您必须遵循的规则</p></li>

<li><p>关于需要注意的内容以及如何实现某些特定结果的提示</p></li>

<li><p>实验来显示你犯错时会发生什么——有时，当你看到的只是一个模糊的LATEX消息时，很难理解出了什么问题</p></li>
</ul>

<p>This book teaches you how to convert your mathematical masterpieces into typographical ones, giving you a lot of useful advice on the way. How to avoid the traps for the unwary and how to make your editor happy. And hopefully, you’ll experience the fascination of doing it right. Using good typography to better express your ideas.</p>

<p>这本书教你如何把你的数学杰作转换成排版，给你很多有用的建议的方式。如何避免为不谨慎的人设置陷阱，以及如何让你的编辑快乐。希望您能体验到正确工作的魅力。使用良好的排版可以更好地表达您的想法。</p>

<p>If you want to learn LATEX, buy this book and start with the Short Course. If you can have only one book on LATEX next to your computer, this is the one to have. And if you want to learn about the world of LATEX packages as of 2004, also buy a second book, the LATEX Companion, 2nd edition.</p>

<p>如果你想学习LATEX，买这本书，从短期课程开始。如果计算机旁边只有一本书在 LATEX 上，则是该书籍。如果你想了解2004年LATEX软件包的世界，也买第二本书，LATEX伴侣，第二版。</p>

<p>Rainer Schöpf</p>

<p>LATEX3 team</p>

<h2 id="preface-to-the-fifth-edition">Preface to the fifth edition</h2>

<p>My book Practical LATEX [42] was published last year. Many of the changes in this fifth edition are based on Practical LATEX and on my articles “What Is New in LATEX?” in the Notices of the American Mathematical Society [36–41] and [43].</p>

<p>我的书《实用LATEX》[42]是去年出版的。 第五版的许多变化都基于实用LATEX和我在《美国数学会通知》[36[41]和[43]中的文章“LATEX有什么新内容”？</p>

<p>Part I. Short Course of the fourth edition was revised under the title Chapter 1. Short Course. I renamed Part I: Mission Impossible. This part now has a second chapter: And a few more things . . . The new Chapter 1 is what you absolutely, unquestionably must know to write your first TEX document. It’s only 30 pages long, should not take more than a few hours to read and understand. No typing is necessary, the files you need are provided for you, see Section 1.1.2.</p>

<p>第四版《第一部分：短期课程》的《第1章：短期课程》作了修订。我改名为《第一部分：不可能的任务》。这部分现在有《第2章：还有一些事情...》，新的第1章是写你的第一个TEX文档时毫无疑问绝对需要知道的。它只有30页长，应该需要超过几个小时来阅读和理解。无需键入，需要为您提供所需的文件，请参阅第1.1.2节。</p>

<p>The new Chapter 2 adds a few more topics that is helpful to know such as the aux files, what is their role, how to handle them. It deals in some detail with error messages. Finally, it contains Brian Davey’s list of LATEX mistakes most often made by authors. To create “vector graphics” illustrations (see page 343 for an example), many users switched to Till Tantau’s TikZ package. We introduce TikZ in Chapter 13. We hope that the few commands we discuss are sufficient to get you started.</p>

<p>新的第2章增加了一些有助于了解的主题，例如辅助文件、它们的角色、如何处理它们。它处理错误消息的一些细节。最后，它包含了布赖恩·戴维著述的《LATEX常见错误列表》。要创建&quot;矢量图形&quot;插图（例如，请参阅第343页），许多用户切换到Till Tantau的TikZ包。我们将在第13章中介绍TikZ。我们希望我们讨论的几个命令足以帮助您入门。</p>

<p>I carefully revised all the material in this book. One would think that this is not necessary in a fifth edition. But as Fred says, there are infinitely many typos in any book, and even our best efforts remove only finitely many. And so many of the links have changed. . .</p>

<p>我仔细修改了这本书中的所有材料。人们可能会认为，这在第五版中是没有必要的。但是，正如弗雷德所说，任何一本书中都有无限多的拼写错误，即使我们尽了最大的努力，也只能删除有限的拼写错误。这么多的链接都变了...</p>

<p>Finally, I should mention that I renamed the awkward user-defined commands to custom commands. How come I have not thought of this before?</p>

<p>我仔细修改了这本书中的所有材料。人们可能会认为，这在第五版中是没有必要的。但是，正如弗雷德所说，任何一本书中都有无限多的拼写错误，即使我们尽了最大的努力，也只能删除有限的拼写错误。这么多的链接都变了...</p>

<p>Toronto, ON, Canada George Grätzer</p>

<h2 id="introduction">Introduction</h2>

<h3 id="is-this-book-for-you">Is this book for you?</h3>

<p>This book is for the mathematician, physicist, engineer, scientist, linguist, or technical typist who has to learn how to typeset articles containing mathematical formulas or diacritical marks. It teaches you how to use LATEX, a typesetting markup language based on Donald E. Knuth’s typesetting language TEX, designed and implemented by Leslie Lamport, and greatly improved under the guidance of AMS.</p>

<p>这本书是为数学家，物理学家，工程师，科学家，语言学家，或技术打字员谁必须学习如何排版的文章包含数学公式或对角标记。它教你如何使用LATEX，一种基于唐纳德·克努斯的排版语言TEX，由莱斯利·兰波特设计和实施，并在AMS的指导下得到了很大的改进的排版标记语言。</p>

<p>Part I provides a quick introduction to LATEX, from typing examples of text and math to typing your first article such as the sample article on page 4 and creating your first presentation such as the sample presentation—four slides of which you find in Figure 1.5—in a very short time. The rest of the book provides a detailed exposition of LATEX.</p>

<p>第一部分对 LATEX 进行了快速介绍，从键入文本和数学示例到键入第一篇文章（如第4页的示例文章）以及创建第一个演示文稿（如示例演示文稿（在图 1.5 中找到的四张幻灯片）等，非常短的时间。本书的其余部分详细介绍了LATEX。</p>

<p>LATEX has a huge collection of rules and commands. While the basics in Part I should serve you well in all your writings, most articles and presentations also require you to look up special topics. Learn Part I well and become passingly familiar with the rest of the book, so when the need arises you know where to turn with your problems.</p>

<p>LATEX拥有大量的规则和命令集合。虽然第一部分的基础知识应该为您在您的所有著作中很好地服务，但大多数文章和演示文稿也需要您查找特殊主题。好好学习第一部分，并顺便熟悉本书的其余部分，所以当需要时，你知道在哪里解决你的问题。</p>

<p>You can find specific topics in the Short Contents, the detailed Contents, and the Index.</p>

<p>您可以在《简短内容》、《详细内容》和《索引》中找到特定主题。</p>

<p>Mathematicians find LATEX very strange. A typical article in mathematics deals with a field defined by a few axioms, and the topic of the article needs only a few more. In contrast, LATEX has hundreds of axioms. We try to ease the transition by introducing at the start as few commands as possible. For instance, we introduce presentations with only five new commands.</p>

<p>数学家们发现LATEX很奇怪。数学中一个典型的文章涉及由几个公理定义的领域，而本文的主题只需要几个。相比之下，LATEX有数百种公理。我们尝试通过在开始时引入尽可能少的命令来简化转换。例如，我们仅介绍包含五个新命令的演示文稿。</p>

<h3 id="what-is-document-markup">What is document markup?</h3>

<p>When you work with a word processor, you see your document on the computer monitor more or less as it looks when printed, with its various fonts, font sizes, font shapes (e.g.,roman, italic) and weights (e.g., normal, boldface), interline spacing, indentation, and so on.</p>

<p>使用文字处理器时，在计算机监视器上看到文档或多或少的打印时的样子，即字体、字体大小、字体形状（例如罗马语、斜体）和粗细（例如，普通、粗体）、行间距、缩进等。</p>

<p>Working with a markup language is different. You type the source file of your article in a text editor, in which all characters appear in the same font. To indicate changes in the typeset text, you must add text markup commands to the source file. For instance, to emphasize the phrase detailed description in a LATEX source file, type</p>

<p>使用标记语言是不同的。在文本编辑器中键入文章的源文件，其中所有字符都以相同的字体显示。要指示排型文本中的更改，必须向源文件添加文本标记命令。例如，要强调 LATEX 源文件中的短语详细说明，键入</p>

<p><code>\emph{detailed description}</code></p>

<p>The <code>\emph</code> command is a markup command. The marked-up text yields the typeset output</p>

<p>命令<code>\emph</code>是标记语言，标记的文本生成排版输出</p>

<p><code>$\emph{detailed description}$</code></p>

<p>注：</p>

<ol>
<li>显然我的环境不能正确显示这个强调。</li>
</ol>

<p>In order to typeset math, you need math markup commands. As a simple example, consider the formula $\int \sqrt{\alpha^{2} + x^{2}}\,dx$. To mark it up in LATEX, type</p>

<p>为了排版数学，你需要数学标记命令。作为一个简单的示例，如$\int \sqrt{\alpha^{2} + x^{2}}\,dx$。输入以下以用LATEX实现</p>

<p>\$\int \sqrt{\alpha^{2} + x^{2}}\,dx\$</p>

<p>You do not have to worry about determining the size of the integral symbol or how to construct the square root symbol that covers $\alpha^{2} + x^{2}$. LATEX does it all for you.</p>

<p>您不必担心确定积分符号的大小或如何构积分和平方根符号来包裹$\alpha^{2} + x^{2}$，为您做这一切。</p>

<h3 id="the-three-layers">The three layers</h3>

<p>The markup language we shall discuss comes in three layers: TEX, LATEX, and the AMS packages, described in detail in Appendix C. Most LATEX installations automatically place all three on your computer. You do not have to know what comes from which layer, so we consider the three together and call it LATEX.</p>

<p>我们将讨论的标记语言分三层：TEX、LATEX和AMS包，附录C中详细介绍了这些包。大多数LATEX安装会自动将所有三个放在您的计算机上。您不必知道来自哪一层，因此我们将这三层放在一起，并将其称为LATEX。</p>

<h3 id="the-three-platforms">The three platforms</h3>

<p>Most of you run LATEX on one of the following three computer types:</p>

<p>你们中的大多数人在以下三种计算机类型之一上运行 LATEX：</p>

<ul>
<li>A Windows computer, a computer running Microsoft Windows</li>
<li>A Mac, a Macintosh computer running OS X</li>

<li><p>A computer running a UNIX variant such as Solaris or Linux</p></li>

<li><p>一台Windows计算机，一台运行微软视窗的计算机</p></li>

<li><p>Mac，运行OS X的Macintosh计算机</p></li>

<li><p>运行UNIX变体的计算机，如Solaris或Linux</p></li>
</ul>

<p>The LATEX source file and the typeset version both look the same independent of what computer you have. However, the way you type your source file, the way you typeset it, and the way you look at the typeset version depends on the computer and on the LATEX implementation you use.</p>

<p>ATEX 源文件和排版版本看起来都与您拥有的计算机相同。但是，键入源文件的方式、键入文件的方式以及查看排版版本的方式取决于计算机和您使用的 LATEX 实现。</p>

<h3 id="what-s-in-the-book">What’s in the book?</h3>

<p>Part I is Mission Impossible; it helps you to get started quickly with LATEX, to type your first articles, to make your first presentations, and it prepares you to tackle LATEX in more depth in the subsequent parts.</p>

<p>第一部分是不可能的任务；它可以帮助您快速开始使用 LATEX，键入您的第一篇文章，进行首次演示，并帮助您在后续部分中更深入地处理LATEX。</p>

<p>Chapter 1 is the Short Course. You start writing your first article—as typeset on page 4—and prepare your first presentation—see some of the slides typeset on page 27. This chapter introduces how LATEX uses the keyboard and how to type text. You do not need to learn much to understand the basics. Text markup is quite easy. You also learn math markup, which is not so straightforward. Several sections in this chapter ease you into mathematical typesetting. There is a section on the basic building blocks of math formulas. Another one discusses equations. Finally, we present the two simplest multiline formulas, which should cover most of your everyday needs. We also cover the elements of presentations with a simple example.</p>

<p>第 1 章是短期课程。您开始撰写第一篇文章（如第4页的排版）并准备第一个演示文稿，请参阅第27页的一些幻灯片类型。本章介绍LATEX如何使用键盘以及如何键入文本。你不需要学习很多来理解基础知识。文本标记非常简单。您还将学习数学标记，这不是那么简单。本章的几个部分使您易于进行数学排版。有一节关于数学公式的基本构建基块。另一个讨论方程。最后，我们介绍了两个最简单的多行公式，它们应涵盖您大部分的日常需求。我们还用一个简单的示例来介绍演示文稿的元素。</p>

<p>In Chapter 2, we explain how things work, the structure of LATEX, the auxiliary files, the logical and visual design of an article, LATEX error messages. Finally, we present a long list of dos and don’t to help you write good LATEX.</p>

<p>在第2章中，我们将解释事物的工作原理、LATEX 的结构、辅助文件、文章的逻辑和可视化设计、LATEX错误消息。最后，我们提出了一长列表，列举了能做和不能的事项，帮你写好LATEX。</p>

<p>Part II introduces the two most basic skills for writing with LATEX in depth, typing text and typing math.</p>

<p>第二部分介绍了使用LATEX深度写作的两种最基本的技能，即键入文本和键入数学。</p>

<p>Chapters 3 and 4 introduce text and displayed text. Chapter 3 is especially important because, when you type a LATEX document, most of your time is spent typing text. The topics covered include special characters and accents, hyphenation, fonts, and spacing. Chapter 4 covers displayed text, including lists and tables, and for the mathematician, proclamations (theorem-like structures) and proofs.</p>

<p>第 3 章和第 4 章介绍文本和显示的文本。第 3 章尤其重要，因为当您键入 LATEX 文档时，您的大部分时间都花在键入文本上。涵盖的主题包括特殊字符和重音、连字符、字体和间距。第 4 章涵盖显示的文本，包括列表和表格，以及数学家、公告（类似定理的结构）和证明。</p>

<p>Typing math is the heart of any mathematical typesetting system. Chapter 5 discusses inline formulas in detail, including basic constructs, delimiters, operators, math accents, and horizontally stretchable lines. The chapter concludes with the Formula Gallery.</p>

<p>输入数学是任何数学排版系统的核心。第5章详细讨论了内联公式，包括基本构造、分隔符、运算符、数学重音和水平可拉伸线。本章以公式库结尾。</p>

<p>Math symbols are covered in three sections in Chapter 6. How to space them, how to build new ones; we introduce the new set of some 2,000 STIX math symbols. We also look at the closely related subjects of math alphabets and fonts. Then we discuss tagging and grouping equations.</p>

<p>第 6 章的三个部分介绍了数学符号。如何将它们空间，如何构建新的空间；我们介绍了大约 2000 个STIX数学符号的新集。我们还查看了数学字母表和字体的密切相关的主题。然后，我们讨论标记和分组方程。</p>

<p>LATEX knows a lot about typesetting an inline formula, but not much about how to display a multiline formula. Chapter 7 presents the numerous tools LATEX offers to help you do that. We start with a Visual Guide to help you get oriented.</p>

<p>LATEX 对排版内联公式了解很多，但对如何显示多行公式知之甚少。第 7 章介绍了LATEX提供的众多工具，以帮助您做到这一点。我们从视觉指南开始，帮助您定位。</p>

<p>Part III discusses the parts of a LATEX document. In Chapter 8, you learn about the structure of a LATEX document. The most important topics are sectioning and crossreferencing. In Chapter 9, we discuss the amsart document classfor articles. In particular, I present the title page information. Chapter 9 also feature secondarticle.tex, a sample article for amsart, somewhat more advanced than firstarticle.tex typeset on page 4. You can learn a lot about LATEX just by reading the source file one paragraph at a time and seeing how that paragraph is typeset. We conclude this chapter with a brief description of the AMS distribution, the packages and document classes, of which amsart is a part.</p>

<p>第三部分讨论了LATEX文档的各个部分。在第8章中，您将了解LATEX文档的结构。最重要的主题是分段和交叉。在第9章中，我们将讨论文章的amsart文档类。特别是，我提出标题页信息。第9章还介绍了secondarticle.tex，这是amsart的一个示例文章，比第4页的firstarticle.tex集要先进一些。只需一次读取源文件一个段落并查看该段落的排集方式，即可了解有关LATEX的很多东西。本章结束时，我们将简要介绍AMS分发、包和文档类，Amsart是其中的一部分。</p>

<p>In Chapter 10 the most commonly used legacy document classes are presented, article, report, and letter (the book class is discussed in Chapter 17), along with a description of the standard LATEX distribution. Although article is not as sophisticated as amsart, it is commonly used for articles not meant for publication.</p>

<p>在第 10 章中，介绍了最常用的遗留文档类、文章、报告和信函（第17章中讨论了书籍类），以及标准LATEX分发的说明。虽然文章不像amsart那样复杂，但它通常用于不用于出版的文章。</p>

<p>In Part IV, we start with Chapter 11, discussing PDF files, hyperlinks, and the hyperref package. This prepares you for presentations, which are PDF files with hyperlinks. In Chapter 12 we utilize the beamer package for making LATEX presentations and Chapter 13 introduces its sister package TikZ for illustrations.</p>

<p>在第四部分中，我们从第11章开始，讨论PDF文件、超链接和hyperref包。这可为演示文稿做好准备，这些演示文稿是带有超链接的PDF文件。在第12章中，我们使用beamer包进行LATEX演示，第13章介绍其姐妹包TikZ作为插图。</p>

<p>Part V (Chapter 14) introduces techniques to customize LATEX: custom commands and environments created by users, and command files. We present a sample command file, newlattice.sty, and a version of the second sample article utilizing this command file. You learn how parameters that affect LATEX’s behavior are stored in counters and length commands, how to change them, and how to design your own custom lists. A final section discusses the pitfalls of customization.</p>

<p>第五部分（第14章）介绍了自定义LATEX的技术：用户创建的自定义命令和环境以及命令文件。我们演示了一个示例命令文件newlattice.sty，以及使用此命令文件的第二个示例文章的版本。您将了解影响 LATEX行为的参数如何存储在计数器和长度命令中，如何更改它们，以及如何设计自己的自定义列表。最后一节讨论了自定义的陷阱。</p>

<p>In Part VI (Chapters 15 and 16), we discuss the special needs of longer documents. Two applications, contained in the standard LATEX distribution, BIBTEX and MakeIndex, make compiling large bibliographies and indexes much easier.</p>

<p>在第六部分（第15章和第16章）中，我们讨论了较长文档的特殊需求。标准LATEX分发中的两个应用程序BIBTEX和MakeIndex，使编译大型书目和索引变得更加容易。</p>

<p>LATEX provides the book and the amsbook document classes to serve as foundations for well-designed books. We discuss these in Chapter 17. Better quality books have to use document classes designed by professionals.</p>

<p>LATEX提供书籍和amsbook文档类，作为精心设计书籍的基础。我们将在第17章中讨论这些。质量更好的书籍必须使用由专业人士设计的文档类。</p>

<p>You will probably find yourself referring to Appendices A and B time and again. They contain the math and text symbol tables. You can also find them in the samples file.</p>

<p>您可能会发现自己一次又一次地提到附录A和B。它们包含数学和文本符号表。您还可以在示例文件中找到它们。</p>

<p>Appendix C relates some historical background material on LATEX. It gives you some insight into how LATEX developed and how it works. Appendix D discusses the many ways we can find LATEX material on the Internet. Appendix E is a short introduction to the use of PostScript fonts in a LATEX document. Appendix F briefly describes the use of LATEX for languages other than American English.</p>

<p>附录C涉及LATEX的一些历史背景材料。它让您深入了解LATEX如何发展及其工作原理。附录D讨论了我们在互联网上找到LATEX材料的多种方法。附录E是LATEX文档中使用PostScript字体的简短介绍。附录F简要描述了LATEX对美国英语以外的语言的使用。</p>

<p>LATEX on an iPad is introduced in Appendix G.</p>

<p>附录G中介绍了iPad上的LATEX。</p>

<p>Finally, Appendix H discusses what we left out, points you towards some areas for further reading, and mentions some recent developments. Lots of sample files help you save typing examples, see Section 1.1.2. You also get PDF files of Mission Impossible, the symbol tables, and the STIX symbols.</p>

<p>最后，附录H讨论了我们遗漏的内容，为您指出一些需要进一步阅读的领域，并提到一些最近的发展。大量示例文件可帮助您保存键入示例，请参阅第1.1.2节。您还可以获得&quot;不可能的任务&quot;的PDF文件、符号表和STIX符号。</p>

<h3 id="mission-statement">Mission statement</h3>

<p>This book is a guide for typesetting mathematical documents within the constraints imposed by LATEX, an elaborate system with hundreds of rules. LATEX allows you to perform almost any mathematical typesetting task through the appropriate application of its rules. You can customize LATEX by introducing custom commands and environments and by changing LATEX parameters. You can also extend LATEX by invoking packages that accomplish special tasks.</p>

<p>本书是一本在LATEX所施加的限制范围内排版数学文档的指南，这是一个有着数百条规则的精密系统。LATEX允许您通过适当应用其规则来执行几乎任何数学排版任务。您可以通过引入自定义命令和环境以及更改LATEX参数来自定义LATEX。还可以通过调用完成特殊任务的包来扩展LATEX。</p>

<p>It is not my goal</p>

<p>这不是我的目标：</p>

<ul>
<li>to survey the hundreds of LATEX packages you can utilize to enhance LATEX</li>
<li>to teach how to write TEX code to create your own packages</li>

<li><p>to discuss how to design beautiful documents by writing document classes</p></li>

<li><p>调查数百个 LATEX 软件包，您可以使用这些软件包来增强 LATEX</p></li>

<li><p>教如何编写TEX代码来创建自己的软件包</p></li>

<li><p>讨论如何通过编写文档类来设计漂亮的文档</p></li>
</ul>

<p>The definitive book on the first topic, as of 2004, is Frank Mittelbach and Michel Goosens’s The LATEX Companion, 2nd edition <a href="in collaboration with Johannes Braams, David Carlisle, and Chris Rowley">56</a>. The second and third topics still await authoritative treatment.</p>

<p>关于第一个主题的权威书，截至2004年，是弗兰克·米特尔巴赫和米歇尔·古森的LATEX伴侣，第二版[56]。第二和第三个主题仍在等待权威处理。</p>

<h3 id="conventions">Conventions</h3>

<p>To make this book easy to read, I use some simple conventions:</p>

<p>为了使这本书易于阅读，我使用一些简单的约定：</p>

<ul>
<li>Explanatory text is set in this typeface: Times.解释性文字用Times字体</li>
<li>Computer Modern typewriter is used to show what you should type, as well as messages from LaTeX. All the characters in this typeface have the same width, making it easy to recognize.显示你应该键入的内容，以及来自LaTeX的消息用Computer Modern typewriter。此字体中的所有字符具有相同的宽度，便于识别。</li>
<li>I also use Computer Modern typewriter to indicate也使用Computer Modern typewriter来表示：

<ul>
<li>Commands (\newpage)命令</li>
<li>Environments (\align)环境</li>
<li>Documents (firstarticle.tex)文档</li>
<li>Document classes (amsart)文档类</li>
<li>Document class options (draft)文档类选项</li>
<li>Folders or directories (work)文件夹或目录</li>
<li>The names of packages—extensions of LATEX (verbatim)包的名称 — LATEX 的扩展</li>
</ul></li>

<li><p>When I show you how something looks when typeset, I use Computer Modern, TEX’s standard typeface:当我向您展示排版时的外观时，我使用Computer Modern，TEX的标准字体：</p>

<blockquote>
<p>I think you find this typeface sufficiently different from the other typefaces I have used. The strokes are much lighter so that you should not have much difficulty recognizing typeset LATEX material. When the typeset material is a separate paragraph or paragraphs, corner brackets in the margin set it off from the rest of the text—unless it is a displayed formula.我认为您发现这种字体与我用的其他字体完全不同。笔画要轻得多，因此识别排型LATEX材质时不会遇到太大困难。当排型材质是单独的段落或段落时，边距中的角括号会将其与文本的其余部分分开，除非它是显示的公式。</p>
</blockquote></li>

<li><p>For explanations in the text, such as对于文本中的解释，例如</p>

<p>Compare iff with iff, typed as iff and if{f}, respectively.将 iff 与 iff 进行比较，分别键入 iff 和 if{f}。</p>

<p>the same typefaces are used. Because they are not set off spatially, it may be a little more difficult to see that iff is set in Computer Modern roman (in Times, it looks like this: iff ), whereas iff is set in the Computer Modern typewriter typeface. Compare: iff, iff, iff, and a larger version: iff, iff, iff.使用相同的字体。因为它们没有在空间上设置，它可能更难以看到iff设置在计算机现代罗马（在时代，它看起来像这样：iff），而iff设置在计算机现代打字机字体。比较：iff、iff、iff 和较大版本：iff、iff、iff。</p></li>

<li><p>I usually introduce commands with examples, such as我通常介绍一些示例的命令，例如</p>

<p>\[22pt]</p>

<p>However, it is sometimes necessary to define the syntax of a command more formally. For instance,但是，有时需要更正式地定义命令的语法。例如，</p>

<p>\[length ]</p>

<p>where length, typeset in Computer Modern typewriter italic font, represents the value you have to supply.其中长度，在计算机现代打字机斜体字体的排位，表示你必须提供的值。</p></li>
</ul>

<p>Good luck and have fun.祝你好运，玩得开心。</p>

<p>E-mail:</p>

<p>gratzer@me.com</p>

<p>Home page:</p>

<p><a href="http://server.maths.umanitoba.ca/homepages/gratzer/">http://server.maths.umanitoba.ca/homepages/gratzer/</a></p>

<h1 id="i-mission-impossible">I Mission Impossible</h1>

<h2 id="1-short-course">1 Short course</h2>

<p>It happens to most of us. We live a happy life without LATEX and then, all of a sudden, we have to do something urgent that requires it. If you are a student, maybe your professor turned to you and said “I need the solutions to these exercises typed up and distributed to the class by tomorrow” and the solutions are chock-full of formulas, difficult to do in Word.</p>

<p>它发生在我们大多数人身上。我们过着没有LATEX的幸福生活，然后，突然间，我们必须做一些紧急的事情，需要它。如果你是一个学生，也许你的教授转向你，说&quot;我需要这些练习的解决方案，明天就打上并分发给全班&quot;，而且解决方案充满了公式，很难在Word中完成。</p>

<p>Or you are a researcher whose documents have always been typed up by a secretary. You have to attend a conference and give a presentation. Your secretary is on vacation. In my case, it was a letter (this was before e-mail) from the American Mathematical Society, in which they informed me that my paper, written in Word, was accepted for publication. The AMS will publish the paper in nine months. However, a LATEX version would be published in three months! So I had to learn LATEX in a hurry.</p>

<p>或者你是一个研究员，他的文件总是由秘书来输入。你必须参加一个会议并作一个演讲。你的秘书正在度假。就我而言，这是美国数学会的一封信（这是在电子邮件之前），他们告诉我，用Word写的论文被接受发表。AMS将在九个月内发表该文件。但是，LATEX版本将在三个月内发布！所以我必须赶时间学习LATEX。</p>

<blockquote>
<p>The mission, should you choose to accept it, is to get started really fast in LATEX. Our goal is to produce in LATEX the little article printed on the next page.</p>

<p>使命，如果你选择接受它，是开始真正快在LATEX。我们的目标是在LATEX中制作下一页印刷的小文章。</p>
</blockquote>

<p>Relax, this chapter will not self-destruct in five seconds.</p>

<p>放松，本章不会在五秒内自毁。</p>

<h3 id="1-1-getting-started">1.1 Getting started</h3>

<h4 id="1-1-1-your-latex">1.1.1 Your LATEX</h4>

<p>Are you sitting in front of your computer that has a LATEX implementation? If you use a UNIX computer, you surely are. If you are in front of a Windows computer or a Mac, point your Internet browser at tug.org. Choose to download MikTeX for a Windows computer and MacTeX for a Mac. Follow the easy instructions (and be patient, these are big downloads) and you are done.</p>

<p>你是坐在你的电脑前，有一个LATEX实施?如果您使用的是UNIX计算机，那么您肯定是。如果你是在Windows电脑或Mac电脑前，把你的互联网浏览器指向tug.org。选择在Windows电脑上下载MikTeX，在Mac电脑上下载MacTeX。按照简单的说明(耐心点，这些都是大下载)，你就完成了。</p>

<p>Even better, find a friend who can help.</p>

<p>更好的是，找一个能帮忙的朋友。</p>

<h4 id="1-1-2-sample-files">1.1.2 Sample files</h4>

<p>We work with a few sample documents. Download them from the Springer page for this book:
<a href="http://www.springer.com/us/book/9783319237954">http://www.springer.com/us/book/9783319237954</a></p>

<p>我们使用一些示例文档。从本书的Springer页面下载：
<a href="http://www.springer.com/us/book/9783319237954">http://www.springer.com/us/book/9783319237954</a></p>

<p>I suggest you create a folder, samples, on your computer to store the downloaded sample files, and another folder called work, where you will keep your working files. Copy the documents from the samples to the work folder as needed. In this book, the samples and work folders refer to the folders you created.</p>

<p>我建议您在您的计算机上创建一个文件夹，sample，来存储下载的sample文件，以及另一个名为work的文件夹，您将在其中保存工作文件。根据需要将文档从示例复制到工作文件夹。在本书中，示例和工作文件夹指的是您创建的文件夹。</p>

<p>One of the sample files is sample.cls. Make sure it is in the work folder when you typeset a sample document.</p>

<p>其中一个示例文件是sample.cls。在键入示例文档时，请确保它位于工作文件夹中。</p>

<h4 id="1-1-3-editing-cycle">1.1.3 Editing cycle</h4>

<p>Watch a friend type a document in LATEX and learn the basic steps.</p>

<ol>
<li><p>A text editor is used to create a LATEX source file. A source file might look like this:</p>

<pre><code>\documentclass{amsart}
\begin{document}
Then $\delta$ is a congruence relation. I can type formulas!
\end{document}
</code></pre>

<p>Note that the source file is different from a typical word processor file. All characters are displayed in the same font and size.</p></li>

<li><p>Your friend “typesets” the source file (tells the application to produce a typeset version) and views the result on the monitor:
&gt;Then 𝛿 is a congruence relation. I can type formulas!</p></li>

<li><p>The editing cycle continues. Your friend goes back and forth between the source file and the typeset version, making changes and observing the results of these changes.</p></li>

<li><p>The file is viewed/printed. View the typeset version as a pdf file or print it to get a paper version.</p></li>
</ol>

<p>观看朋友在LATEX中输入文档，学习基本的步骤。</p>

<ol>
<li><p>文本编辑器用于创建LATEX源文件。一个源文件可能是这样的:</p>

<pre><code>\documentclass{amsart}
\begin{document}
Then $\delta$ is a congruence relation. I can type formulas!
\end{document}
</code></pre></li>
</ol>

<p>注意，源文件与典型的字处理器文件不同。所有的文字以相同的字体和大小显示。
2. 你的朋友“排版”源文件(告诉应用程序生成排版版本)并在监视器上查看结果:
    &gt;然后$\delta$同余关系。我会打公式!
3. 编辑工作仍在继续。您的朋友在源文件和类型集版本之间来回切换，进行更改并观察这些更改的结果。
4. 文件是viewed/printed。以pdf文件查看排版版本或打印它以获得纸质版本。</p>

<p>If LATEX finds a mistake when typesetting the source file, it records this in the log file. The log window (some call it console) displays a shorter version.</p>

<p>如果LATEX在对源文件进行排版时发现了错误，它会将其记录到日志文件中。日志窗口(有些人称之为控制台)显示了一个更短的版本。</p>

<p>Various LATEX implementations have different names for the source file, the text editor, the typeset file, the typeset window, the log file, and the log window. Become familiar with these names, so you can follow along with our discussions.</p>

<p>不同的LATEX实现对源文件、文本编辑器、类型集文件、类型集窗口、日志文件和日志窗口有不同的名称。熟悉这些名称，这样您就可以跟随我们的讨论。</p>

<h4 id="1-1-4-typing-the-source-file">1.1.4 Typing the source file</h4>

<p>A source file is made up of text, formulas, and instructions (commands) to LATEX. For instance, consider the following variant of the first sentence of this paragraph:</p>

<p>源文件由LATEX的文本、公式和指令(命令)组成。例如，考虑本段第一句的下列变体：</p>

<pre><code>A source file is made up of text, formulas (e.g.,
$\sqrt{5}$), and $\emph{instructions to}$ $\la$.
</code></pre>

<p>This typesets as</p>

<p>A source file is made up of text, formulas (e.g.,
$\sqrt{5}$), and \emph{instructions to} \la.</p>

<p>In this sentence, the first part</p>

<p>本句为第一部分</p>

<pre><code>A source file is made up of text, formulas (e.g.,
</code></pre>

<p>is text. Then</p>

<p>是文本。然后</p>

<pre><code>$\sqrt{5}$
</code></pre>

<p>is a formula</p>

<p>是一个公式</p>

<pre><code>), and
</code></pre>

<p>is text again. Finally,</p>

<p>再次是文本。最后,</p>

<pre><code>\emph{instructions to} \la.
</code></pre>

<p>The instruction \emph is a command with an argument, while the instruction \LaTeX is a command without an argument. Commands, as a rule, start with a backslash ( \ ) and tell LATEX to do something special. In this case, the command \emph emphasizes its argument (the text between the braces). Another kind of instruction to LATEX is called an environment. For instance, the commands</p>

<p>指令\emph是带参数的命令，而指令\LaTeX是没有参数的命令。命令通常以反斜杠( \ )开头，并告诉LATEX做一些特殊的事情。在本例中，命令\emph强调其参数(大括号之间的文本)。另一种指令LATEX被称为环境。例如，命令</p>

<pre><code>\begin{center}
\end{center}
</code></pre>

<p>enclose a center environment; the contents (the text typed between these two commands) are centered when typeset.</p>

<p>封闭中心环境；内容(在这两个命令之间键入的文本)在排版时居中。</p>

<p>In practice, text, formulas, and instructions (commands) are mixed. For example,</p>

<p>实际上，文本、公式和指令(命令)是混合在一起的。例如,</p>

<pre><code>My first integral: $\int \zeta^{2}(x) \, dx$.
</code></pre>

<p>is a mixture of all three; it typesets as</p>

<p>My first integral: $\int \zeta^{2}(x) \, dx$.</p>

<p>Creating a document in LATEX requires that we type in the source file. So we start with the keyboard, proceed to type a short note, and learn some simple rules for typing text in LATEX.</p>

<p>在LATEX中创建文档需要输入源文件。因此，我们从键盘开始，接着输入一个简短的笔记，并学习在LATEX中输入文本的一些简单规则。</p>

<h3 id="1-2-the-keyboard">1.2 The keyboard</h3>

<p>The following keys are used to type the source file:</p>

<pre><code>a-z A-Z 0-9
+=*/()[]
</code></pre>

<p>You can also use the following punctuation marks:</p>

<pre><code>,;.?!:‘’-
</code></pre>

<p>and the space bar, the Tab key, and the Return (or Enter) key.</p>

<p>Finally, there are thirteen special keys that are mostly used in LATEX commands:</p>

<pre><code>#$%&amp;~_^\{}@&quot;|
</code></pre>

<p>If you need to have these characters typeset in your document, there are commands to produce them. For instance, the dollar sign, $ is typed as \$, the underscore, _ , is typed as _, and the percent sign, %, is typed as \%. Only @ requires no special command, type @ to print @; see Sections 3.1.2 and B.4.</p>

<p>There are also commands to produce composite characters, such as accented characters, for example ä, which is typed as \&quot;{a}. LATEX prohibits the use of other keys on your keyboard unless you have special support for it. See the text accent table in Sections 3.4.7 and B.2. If you want to use accented characters in your source file, then you must use the inputenc package.</p>

<p><strong>Tip</strong></p>

<ul>
<li>The text accent table looks formidable. Don’t even dream of memorizing it. You will need very few. When you need a text accent, look it up. I know only one: \&quot;a (LOL). If you use a name with accented characters, figure out once how to type it, and then any time you need it you can just copy and paste (chances are that the name is in your list of references).</li>
</ul>

<h3 id="1-3-your-first-text-notes">1.3 Your first text notes</h3>

<p>We start our discussion on how to type a note in LATEX with a simple example. Suppose
you want to use LATEX to produce the following:
It is of some concern to me that the terminology used in multi-section math
courses is not uniform.
In several sections of the course on matrix theory, the term “hamiltonianreduced” is used. I, personally, would rather call these “hyper-simple”. I invite
others to comment on this problem.
To produce this typeset document, create a new file in your work folder with
the name textnote1.tex. Type the following, including the spacing and linebreaks
shown, but not the line numbers:
1 % Sample file: textnote1.tex
2 \documentclass{sample}
3
4 \begin{document}
5 It is of some concern to me that
6 the terminology used in multi-section
7 math courses is not uniform.
8
9 In several sections of the course on
10 matrix theory, the term
11 ‘‘hamiltonian-reduced’’ is used.
12 I, personally, would rather call these
13 ‘‘hyper-simple’’. I invite others
14 to comment on this problem.
15 \end{document}
Alternatively, copy the textnote1.tex file from the samples folder (see page 5).
The first line of textnote1.tex starts with %. Such lines are called comments
and are ignored by LATEX. Commenting is very useful. For example, if you want to add
some notes to your source file and you do not want those notes to appear in the typeset
version of your document, begin those lines with a %. You can also comment out part
of a line:
simply put, we believe % actually, it’s not so simple
Everything on the line after the % character is ignored by LATEX.
Line 2 specifies the document class, sample (the special class we provided for the
sample documents), which controls how the document is formatted.
The text of the note is typed within the document environment, that is, between
\begin{document} and \end{document}.
Now typeset textnote1.tex. You should get the typeset document as shown.
As you can see from this example, LATEX is different from a word processor. It disregards
the way you input and position the text, and follows only the formatting instructions
given by the document class and the markup commands. LATEX notices when you put a
blank space in the text, but it ignores how many blank spaces have been typed. LATEX
does not distinguish between a blank space (hitting the space bar), a tab (hitting the Tab
key), and a single carriage return (hitting Return once). However, hitting Return twice
gives a blank line; one or more blank lines mark the end of a paragraph. There is also
a command for a new paragraph: \par.
LATEX, by default, fully justifies text by placing a flexible amount of space between
words—the interword space—and a somewhat larger space between sentences—the intersentence space. If you have to force an interword space, you can use the \␣ command
(in LATEX books, we use the symbol ␣ to mean a blank space). The ˜ (tilde) command
also forces an interword space, but with a difference: it keeps the words on the same
line. This command produces a tie or nonbreakable space.
Note that on lines 11 and 13, the left double quotes is typed as two left single
quotes and the right double quote is typed as two right single quotes, apostrophes.
We numbered the lines of the source file for easy reference. Sometimes you may
want the same for the typeset file. This is really easy. Just add the two lines
\usepackage{lineno}
\linenumbers
after the \documentclass line and you get:
1 It is of some concern to me that the terminology used in multi-section math
2 courses is not uniform.
3 In several sections of the course on matrix theory, the term “hamiltonian4 reduced” is used. I, personally, would rather call these “hyper-simple”. I invite
5 others to comment on this problem.
Next, we produce the following note:
January 5, 2015
From the desk of George Grätzer
February 7–21 please use my temporary e-mail address:
George_Gratzer@yahoo.com
Type the source file, without the line numbers. Save it in your work folder as
textnote2.tex (textnote2.tex can also be found in the samples folder):
1 % Sample file: textnote2.tex
2 \documentclass{sample}
3
4 \begin{document}
5 \begin{flushright}
6 \today
7 \end{flushright}
8 \textbf{From the desk of George Gr\&quot;{a}tzer}
9
10 February 7--21 \emph{please} use my
11 temporary e-mail address:
12 \begin{center}
13 \texttt{George_Gratzer@yahoo.com}
14 \end{center}
15 \end{document}
This note introduces several additional text features of LATEX.
The \today command (in line 6) to display the date on which the document is typeset, so you will see a date different from the date shown above in your own typeset
document (see also Section 3.4.8).
The environments to right justify (lines 5–7) and center (lines 12–14) text.
The commands to change the text style, including the \emph command (line 10) to
emphasize text, the \textbf command (line 8) for bold text (text bold font), and
the \texttt command (line 13) to produce typewriter style text. These are
commands with arguments.
The form of the LATEX commands. As we have noted already, almost all LATEX commands start with a backslash ( \ ) followed by the command name. For instance,
\textbf is a command and textbf is the command name. The command name is
terminated by the first non-alphabetic character, that is, by any character other than
a–z or A–Z.</p>

<p><strong>Tip</strong></p>

<ul>
<li>textnote2.tex is a file name but textbf1 is not a command name. \textbf1
typesets as 1. Let’s look at this a bit more closely. \textbf is a valid command.
If a command needs an argument and it is not followed by braces, then it takes the
next character as its argument. So \textbf1 is the command \textbf with the
argument 1; it typesets as 1.</li>
</ul>

<p>The multiple role of hyphens: Double hyphens are used for number ranges. For example, 7--21 (in line 10) typesets as 7–21. The punctuation mark – is called an en
dash. Use triple hyphens for the em dash punctuation mark—such as the one in this
sentence.
Special rules for special characters (see Section 1.2), for accented characters, and for
some European characters. For instance, the accented character ä is typed as \&quot;{a}.
(But I confess, I always type my name as Gr\&quot;atzer without the braces.)
See Section 3.4 for more detail. In Appendix B, all the text symbols are organized
into tables. We also have the SymbolTables.pdf in the samples folder.
Tip Keep SymbolTables.pdf handy on your computer!</p>

<h3 id="1-4-lines-too-wide">1.4 Lines too wide</h3>

<p>LATEX reads the text in the source file one line at a time and typesets the entire paragraph when the end of a paragraph is reached. Occasionally, LATEX gets into trouble
when trying to split the paragraph into typeset lines. To illustrate this situation, modify
textnote1.tex. In the second sentence, replace term by strange term. Now save
this modified file in your work folder using the name textnote1bad.tex (or copy the
file from the samples folder).
Typesetting textnote1bad.tex, you obtain the following:
1 It is of some concern to me that the terminology used in multi-section math
2 courses is not uniform.
3 In several sections of the course on matrix theory, the term “hamiltonian4 reduced” is used. I, personally, would rather call these “hyper-simple”. I invite
5 others to comment on this problem.
The first line of paragraph two is too wide. In the log window, LATEX displays the
following messages:
Overfull \hbox (15.38948pt
too wide) in paragraph at lines 9--15 []\OT1/cmr/m/n/10 In sev-eral
sec-tions of the course on ma-trix the-ory, the strange term
‘‘hamiltonianIt informs you that the typeset version of this paragraph has a line that is 15.38948 points
too wide. LATEX uses points (pt) to measure distances; there are about 72 points in 1 inch.
Then it identifies the source of the problem: LATEX did not properly hyphenate the word
hamiltonian-reduced because it (automatically) hyphenates a hyphenated word only at
the hyphen.</p>

<p>What to do, when a line is too long?
Tip Your first line of defense: reword the offending line. Write
The strange term ‘‘hamiltonian-reduced’’ is used
in several sections of the course on matrix theory.
and the problem goes away.
Your second line of defense: insert one or more optional hyphen commands(-), which
tell LATEX where it can hyphenate the word. Write:
hamil-tonian-reduced</p>

<h3 id="1-5-a-note-with-formulas">1.5 A note with formulas</h3>

<p>In addition to the regular text keys and the 13 special keys discussed in Section 1.2, two more
keys are used to type formulas: &lt; and &gt;. The formula 2 &lt; |𝑥| &gt; 𝑦 (typed as $2 &lt; |x| &gt;y$)
uses both. Note that such a formula, called inline, is enclosed by a pair of $ symbols.
We begin typesetting formulas with the following note:
In first-year calculus, we define intervals such as (𝑢, 𝑣) and (𝑢, ∞). Such an interval
is a neighborhood of 𝑎 if 𝑎 is in the interval. Students should realize that ∞ is only
a symbol, not a number. This is important since we soon introduce concepts such as
lim𝑥→∞ 𝑓(𝑥).
When we introduce the derivative
lim
𝑥→𝑎
𝑓(𝑥) − 𝑓(𝑎)
𝑥 − 𝑎 ,
we assume that the function is defined and continuous in a neighborhood of 𝑎.
To create the source file for this mixed text and formula note, create a new document
with your text editor. Name it formulanote.tex, place it in the work folder, and type the
following, without the line numbers (or simply copy formulanote.tex from the samples
folder):
1 % Sample file: formulanote.tex
2 \documentclass{sample}
3
4 \begin{document}
5 In first-year calculus, we define intervals such
6 as $(u, v)$ and $(u, \infty)$. Such an interval
7 is a \emph{neighborhood} of $a$
8 if $a$ is in the interval. Students should
9 realize that $\infty$ is only a
10 symbol, not a number. This is important since
11 we soon introduce concepts</p>

<p>12 such as $\lim<em>{x \to \infty} f(x)$.
13
14 When we introduce the derivative
15 [
16 \lim</em>{x \to a} \frac{f(x) - f(a)}{x - a},
17 ]
18 we assume that the function is defined and
19 continuous in a neighborhood of $a$.
20 \end{document}
This note introduces several basic concepts of formulas in LATEX.
There are two kinds of math formulas and environments in formulanote.tex:
– Inline formulas; they open and close with $ or open with ( and close with ).
– Displayed math environments; they open with [ and close with ]. (We will introduce
many other displayed math environments in Section 1.7 and Chapter 7.)
LATEX uses its own spacing rules within math environments, and completely ignores the
white spaces you type, with two exceptions:
– Spaces that terminate commands. So in $\infty a$ the space is not ignored; $\inftya$
produces an error.
– Spaces in the arguments of commands that temporarily revert to regular text. \text is
such a command; see Sections 1.6 and 5.4.6.
The white space that you add when typing formulas is important only for the readability
of the source file.
A math symbol is invoked by a command. For example, the command for ∞ is \infty and
the command for → is \to. The math symbols are organized into tables in Appendix A;
see also SymbolTables.pdf in the samples folder.
Some commands, such as \sqrt, need arguments enclosed by { and }. To typeset √
5,
type $\sqrt{5}$, where \sqrt is the command and 5 is the argument.
Some commands need more than one argument. To get
3 + 𝑥
5
type
[
\frac{3+x}{5}
]
where \frac is the command, 3+x and 5 are the arguments.
There is no blank line before a displayed formula!</p>

<p>Tip Keep in mind that many spaces equal one space in text, whereas your spacing is ignored in
formulas, unless the space terminates a command.</p>

<h3 id="1-6-the-building-blocks-of-a-formula">1.6 The building blocks of a formula</h3>

<p>A formula (inline or displayed) is built from components. We group them as follows:
Arithmetic
Binomial coefficients
Congruences
Delimiters
Ellipses
Integrals
Math accents
Matrices
Operators
Roots
Text
In this section, I describe each of these groups, and provide examples illustrating their use.
Read carefully the groups you need!
Arithmetic We type the arithmetic operations 𝑎 + 𝑏, 𝑎 − 𝑏, −𝑎, 𝑎∕𝑏, and 𝑎𝑏 in the natural
way: $a + b$, $a - b$, $-a$, $a / b$, and $a b$ (the spaces are typed only for
readability).
If you wish to use ⋅ or × for multiplication, as in 𝑎⋅𝑏 or 𝑎×𝑏, use \cdot or \times, respectively. The formulas 𝑎⋅𝑏 and 𝑎×𝑏 are typed as $a \cdot b$ and $a \times b$.
Displayed fractions, such as
1+2𝑥
𝑥 + 𝑦 + 𝑥𝑦
are typed with \frac:
[
\frac{1 + 2x}{x + y + xy}
]
Subscripts and superscripts Subscripts are typed with _ and superscripts with ˆ
(caret). Subscripts and superscripts should be enclosed in braces, that is, typed
between { and }. To get 𝑎1, type $a<em>{1}$. Omitting the braces in this example
causes no harm, but to get 𝑎10, you must type $a</em>{10}$. Indeed, $a_10$ is
typeset as 𝑎10.
There is one symbol, the prime (’), that is automatically superscripted in a formula.
To get 𝑓′
(𝑥), just type $f’(x)$. (On many keyboards, the symbol on the key looks
like this: `)
See Section 5.4.1 for more detail.</p>

<p>Binomial coefficients Binomial coefficients are typeset with the \binom command.
\binom{a}{b + c} is here inline: ( 𝑎
𝑏+𝑐
)
, whereas
( 𝑎
𝑏 + 𝑐
)
is the displayed version.
See Section 5.4.2 for more detail.
Congruences The two most important forms are
𝑎 ≡ 𝑣 (mod 𝜃) typed as $a \equiv v \pmod{\theta}$
𝑎 ≡ 𝑣 (𝜃) typed as $a \equiv v \pod{\theta}$
See Section 5.6.2 for more detail.
Delimiters Parentheses and square brackets are examples of delimiters. They are used to
delimit some subformulas, as in $[(a*b)+(c*d)]^{2}$, which typesets as [(𝑎 ∗ 𝑏)+
(𝑐 ∗ 𝑑)]2. LATEX can be instructed to expand them vertically to enclose a formula such
as ( 1 + 𝑥
2 + 𝑦2
)2
which is typed as
[
\left( \frac{1 + x}{2 + y^{2}} \right)^{2}
]
The \left( and \right) commands tell LATEX to size the parentheses correctly, relative to the size of the formula inside the parentheses; sometimes the result is pleasing,
sometimes not.
We dedicate Section 5.5 to this topic.
Ellipses In a formula, the ellipsis is printed either as low (or on-the-line) dots:
𝐹(𝑥1,… , 𝑥𝑛) is typed as $F(x<em>{1}, \dots, x</em>{n})$
or as centered dots:
𝑥1 + ⋯ + 𝑥𝑛 is typed as
$x<em>{1} + \dots + x</em>{n}$
Use \cdots and \ldots if \dots does not work as expected.
See Section 5.4.3 for more detail.</p>

<p>Integrals The command for an integral is \int. The lower limit is specified as a subscript and the upper limit is specified as a superscript. For example, the formula
∫ 𝜋
0 sin 𝑥 𝑑𝑥 = 2 is typed as
$\int_{0}^{\pi} \sin x \, dx = 2$
where \, is a spacing command.
The formula looks bad without the spacing command: ∫ 𝜋
0 sin 𝑥𝑑𝑥 = 2.
See Section 5.4.4 for more complicated integrals.
Math accents The four most frequently used math accents are:
𝑎̄ typed as $\bar{a}$ 𝑎̂ typed as $\hat{a}$
𝑎̃ typed as $\tilde{a}$ 𝑎⃗ typed as $\vec{a}$
See Section 5.7 for more detail. See Sections 5.7 and A.8 for complete lists.
Matrices You type the matrix
𝑎 + 𝑏 + 𝑐 𝑢𝑣 𝑥 − 𝑦 27
𝑎 + 𝑏 𝑢 + 𝑣 𝑧 134
with the \matrix command
[
\begin{matrix}
a + b + c &amp; uv &amp; x - y &amp; 27<br />
a + b &amp; u + v &amp; z &amp; 134
\end{matrix}
]
The matrix environment separates adjacent matrix elements within a row with ampersands. Rows are separated by new line commands, \.
Tip Do not end the last row with a new line command.
The matrix environment has to appear within a formula, as a rule, in a displayed
formula. It can be used in the align environment discussed in Sections 1.7.3 and 7.5.
The matrix environment does not provide delimiters. Several variants do, including
pmatrix and vmatrix. For example,
𝐀 =
(
𝑎 + 𝑏 + 𝑐 𝑢𝑣
𝑎 + 𝑏 𝑢 + 𝑣
) |
|
|
|
|
30 7
3 17
|
|
|
|
|</p>

<p>is typed as follows:
[
\mathbf{A} =
\begin{pmatrix}
a+b+c&amp; uv<br />
a+b&amp;u+v
\end{pmatrix}
\begin{vmatrix}
30 &amp; 7<br />
3 &amp; 17
\end{vmatrix}
]
As you can see, pmatrix typesets as a matrix between a pair of \left( and \right)
commands, while vmatrix typesets as a matrix between a pair of \left| and \right|
commands. There is also bmatrix for square brackets.
See Section 7.7.1 for a listing of all the matrix variants and Sections 5.5 and A.6 for
lists of delimiters.
Operators To typeset the sine function, sin 𝑥, type $\sin x$. Note that $sin x$ would
be typeset as 𝑠𝑖𝑛𝑥—-how awful. LATEX calls \sin an operator. Sections 5.6 and A.7
list a number of operators. Some are just like \sin. Others produce a more complex
display, for example,
lim
𝑥→0
𝑓(𝑥)=0
is typed as
[
\lim<em>{x \to 0} f(x) = 0
]
See Section 5.6 for more detail.
Large operators The command for sum is \sum and for product is \prod. The following two examples:
∑𝑛
𝑖=1
𝑥2
𝑖
∏𝑛
𝑖=1
𝑥2
𝑖
are typed as
[
\sum</em>{i=1}^{n} x<em>{i}^{2}\ \ \prod</em>{i=1}^{n} x_{i}^{2}
]
Sum and product are examples of large operators. They are typeset larger in
displayed math than in an inline formula. They are listed in Sections 5.6.3
and A.7.1. See Section 5.6.3 for more detail.</p>

<p>ss</p>

<h3 id="1-7-displayed-formulas">1.7 Displayed formulas</h3>

<h4 id="1-7-1-equations">1.7.1 Equations</h4>

<p>The equation environment creates a displayed formula and automatically generates an
equation number. The equation
(1) ∫
𝜋
0
sin 𝑥 𝑑𝑥 = 2
is typed as
\begin{equation}\label{E:firstIntegral}
\int_{0}^{\pi} \sin x \, dx = 2
\end{equation}
The equation number, which is automatically generated, depends on how many numbered
displayed formulas occur before the given equation. You can choose to have equations numbered within each section—(1.1), (1.2), ..., in Section 1; (2.1), (2.2), ..., in Section 2; and
so on—by including, in the preamble (see Sections 1.8 and 5.3), the command
\numberwithin{equation}{section}
You can choose to have the equation numbers on the right; see the reqno option of the
amsart document class in Section 10.1.2.
The equation* environment is the same as the displayed formula opened with [ and
closed with ] we discussed in Section 1.5. Sometimes you may want to use equation* for
the ease of deleting the *-s if you wish.</p>

<p>To reference a formula without having to remember a number—which can change when
you edit your document—give the equation a symbolic label by using the \label command
and refer to the equation in your document by using the symbolic label, the argument of
the \label command. In this example, I have called the first equation firstIntegral, and
used the convention that the label of an equation starts with E:, so that the complete \label
command is \label{E:firstIntegral}.
The number of this formula is referenced with the \ref command. Its page is referenced using the \pageref command. For example, to get
see (1) on page 18.
type (see Sections 1.3 and Section 3.4.3 for ~)
see~(\ref{E:firstIntegral}) on page~\pageref{E:firstIntegral}.
The \eqref command provides the reference number in parentheses. So the last example could be typed
see~\eqref{E:firstIntegral} on page~\pageref{E:firstIntegral}.
The \eqref command is smart. Even if the equation number is referenced in emphasized
or italicized text, the reference typesets upright (in roman type).
The main advantage of this cross-referencing system is that when you add, delete, or rearrange equations, LATEX automatically renumbers the equations and adjusts the
references that appear in your typeset document. For bibliographic references, LATEX uses
the \bibitem command to define a bibliographic item and the \cite command to cite it.
Tip For renumbering to work, you have to typeset twice.
Tip It is a good idea to check the LATEX warnings periodically in the log file. If you forget to
typeset the source file twice when necessary, LATEX issues a warning.
What happens if you misspell a reference, e.g., typing \ref{E:FirstIntegral} instead of \ref{E:firstIntegral}? LATEX typesets ??. There are two warnings in the log
file:
LaTeX Warning: Reference ‘E:FirstIntegral’ on page 39
undefined on input line 475.
for the typeset page and the other one close to the end:
LaTeX Warning: There were undefined references.</p>

<p>If the argument of \cite is misspelled, you get [?] and similar warnings.
Check the Tip on page 69.</p>

<h4 id="1-7-2-absolute-referencing">1.7.2 Absolute referencing</h4>

<p>Equations can also be tagged by attaching a name to the formula with the \tag command.
The tag replaces the equation number.
For example,
(Int) ∫
𝜋
0
sin 𝑥 𝑑𝑥 = 2
is typed as
\begin{equation}
\int_{0}^{\pi} \sin x \, dx = 2 \tag{Int}
\end{equation}
Tags are absolute. This equation is always referred to as (Int). Equation numbers, on
the other hand, are relative, they may change when the file is edited.</p>

<h4 id="1-7-3-aligned-formulas">1.7.3 Aligned formulas</h4>

<p>LATEX has many ways to typeset multiline formulas. We discuss three constructs in this section: simple alignment, annotated alignment, and cases. For more constructs, see Chapter 7.
For simple and annotated alignment we use the align environment. Each line in the
align environment is a separate equation, which LATEX automatically numbers.
Simple alignment
Simple alignment is used to align two or more formulas. To obtain the formulas
𝑟2 = 𝑠2 + 𝑡
2 (2) ,
2𝑢 +1= 𝑣 + 𝑤𝛼 (3) .
type the following, using \ as the line separator and &amp; as the alignment point:
\begin{align}
r^{2} &amp;= s^{2} + t^{2}, \label{E:Pyth}\%\eqref{E:Pyth}
2u + 1 &amp;= v + w^{\alpha}. \label{E:alpha}%\eqref{E:alpha}
\end{align}
Figure 1.1 may help visualize the placements of the ampersands.
Tip In this displayed formula, \ is a line separator, not a new line command. Do not place a
\ to terminate the last line!</p>

<p>These formulas are numbered (2) and (3) because they are preceded by one numbered
equation earlier in this section.
The align environment can also be used to break a long formula into two or more
parts. Since numbering both lines in such a case would be undesirable, you can prevent
the numbering of the second line by using the \notag command in the second part of the
formula. For example,
ℎ(𝑥) = ∫
(
𝑓(𝑥) + 𝑔(𝑥)
1 + 𝑓2(𝑥)
+
1 + 𝑓(𝑥)𝑔(𝑥)
√
1 − sin 𝑥
)
(4) 𝑑𝑥
= ∫
1 + 𝑓(𝑥)
1 + 𝑔(𝑥)
𝑑𝑥 − 2 tan−1(𝑥 − 2)
is typed as follows:
\begin{align}
h(x) &amp;= \int \left( \frac{f(x) + g(x)}{1+ f^{2}(x)}
+ \frac{1+ f(x)g(x)}{\sqrt{1 - \sin x}}
\right) \, dx\label{E:longInt}\%\eqref{E:longInt}
&amp;= \int \frac{1 + f(x)}{1 + g(x) } \, dx
- 2 \tan^{-1}(x-2)\notag
\end{align}
The rules for simple alignment are easy to remember.
Rule Simple alignments
Use the align environment.
Separate the lines with \.</p>

<p>In each line, indicate the alignment point with &amp;, one &amp; per line. If the alignment point is
adjacent to an =, +, and so on, place the &amp; before to ensure proper spacing.
Place a \notag command in each line that you do not wish numbered.
If no line should be numbered, use the align* environment.
Place a \label command in each numbered line you can want to reference with \ref,
\eqref, or \pageref.
Annotated alignment
Annotated alignment allows you to align formulas and their annotations, that is, explanatory
text, separately:
(5) 𝑥 = 𝑥 ∧ (𝑦 ∨ 𝑧) (by distributivity)
= (𝑥 ∧ 𝑦)∨(𝑥 ∧ 𝑧) (by condition (M))
= 𝑦 ∨ 𝑧
This is typed as
\begin{align}
x &amp;= x \wedge (y \vee z)
&amp;&amp;\text{(by distributivity)}\label{E:Align}%\eqref{E:Align}<br />
&amp;= (x \wedge y) \vee (x \wedge z)
&amp;&amp;\text{(by condition (M))} \notag<br />
&amp;= y \vee z \notag
\end{align}
Figure 1.2 may help visualize the placements of the ampersands.
Rule Annotated alignment
The rules for annotated alignment are similar to the rules of simple alignment. In each line,
in addition to the alignment point marked by &amp;, there is also a mark for the start of the
annotation: &amp;&amp;.</p>

<h4 id="1-7-4-cases">1.7.4 Cases</h4>

<p>The cases construct is a specialized matrix. It has to appear within a math environment
such as the equation environment or the align environment. Here is a typical example:
𝑓(𝑥) =
⎧
⎪
⎨
⎪
⎩
−𝑥2, if 𝑥 &lt; 0;
𝛼 + 𝑥, if 0 ≤ 𝑥 ≤ 1;
𝑥2, otherwise.</p>

<p>It is typed as follows:
[
f(x)=
\begin{cases}
-x^{2}, &amp;\text{if $x &lt; 0$;}<br />
\alpha + x, &amp;\text{if $0 \leq x \leq 1$;}<br />
x^{2}, &amp;\text{otherwise.}
\end{cases}
]
The rules for using the cases environment are the same as for matrices. Separate the
lines with \ and indicate the annotation with &amp;.</p>

<h3 id="1-8-the-anatomy-of-a-document">1.8 The anatomy of a document</h3>

<p>To begin, we use the sample document firstarticle.tex (in the samples folder) to examine the anatomy of an document.
Every LATEX document has two parts, the preamble and the body. The preamble of a
document is everything from the first line of the source file down to the line
\begin{document}
The body is the contents of the document environment. For a schematic view of a
document, see Figure 1.3.
Figure 1.2: Annotated alignment: source and typeset.</p>

<p>The preamble contains instructions affecting the entire document. The only required
command in the preamble is the \documentclass command. There are other commands
(such as the \usepackage commands, see Section 8.2) that must be placed in the preamble
if they are used, but such commands do not have to be present in every document.
Here is the preamble and top matter of firstarticle:
%First document, firstarticle.tex
\documentclass{amsart}
\usepackage{amssymb,latexsym}
\newtheorem{theorem}{Theorem}
\begin{document}
\title{A technical result\ for congruences of finite lattices}
\author{G. Gr\&quot;atzer}
\address{Department of Mathematics<br />
University of Manitoba<br />
Winnipeg, MB R3T 2N2<br />
Canada}
Figure 1.3: A schematic view of a document</p>

<p>\email[G. Gr\&quot;atzer]{gratzer@me.com}
\urladdr[G. Gr\&quot;atzer]{<a href="http://tinyurl.com/gratzerhomepage">http://tinyurl.com/gratzerhomepage</a>}
\date{March 21, 2015}
\subjclass[2010]{Primary: 06B10.}
\keywords{finite lattice, congruence.}
\maketitle
\begin{abstract}
We present a technical result for congruences on finite lattices.
\end{abstract}
You find the source file, firstarticle.tex, in the samples folder and the typeset document
on page 4.
To simplify the discussion in Part I, we discuss only one document class for articles:
amsart. You may come across its predecessor, article, which handles a limited set of
commands for the preamble and the top matter and displays them differently. We shall
discuss in detail the amsart document class in Chapter 9. For the article document class,
see Section 10.1.</p>

<h3 id="1-9-your-own-commands">1.9 Your own commands</h3>

<p>Over time, LATEX can be adjusted to fit your needs. You add packages to enable LATEX to do
new things (such as the graphicx package, see Sections 1.10 and 8.4.3) and introduce your
own commands to facilitate typing and make the source file more readable.
We can add two new commands to the sample article firstarticle.tex:
\newcommand{\pdelta}{\pmod{\delta}}
\DeclareMathOperator{\length}{length}
So instead of
$x \equiv y \pmod{\delta}$+
we can type
$x \equiv y \pdelta$
and instead of length\,$U$, we can type $\length U$ (see Section 14.1.6). Notice how
the spacing is now done by LATEX!
We’ll dedicate Chapter 14 to customizing LATEX</p>

<p>“And what is the use of a book,” thought Alice, “without pictures or conversations?” I am
not sure what to suggest about conversations, but illustrations we can tackle with ease. Let
us add an illustration, covers.pdf to firstarticle. First, add
\usepackage{graphicx}</p>

<h3 id="1-10-adding-an-illustration">1.10 Adding an illustration</h3>

<p>“And what is the use of a book,” thought Alice, “without pictures or conversations?” I am
not sure what to suggest about conversations, but illustrations we can tackle with ease. Let
us add an illustration, covers.pdf to firstarticle. First, add
\usepackage{graphicx}</p>

<p>as the fourth line of the document, to the preamble. This will enable LATEX to tackle illustrations. Secondly, add the following lines to firstarticle.tex, say, as the second paragraph
of the introduction:
\begin{figure}[hbt]
{\centering\includegraphics{covers}}
\caption{Theorem~\ref{T:technical} illustrated}\label{F:Theorem}
\end{figure}
We place the illustration covers.pdf in the same folder as firstarticle.tex.
That’s it. You find covers.pdf and firstarticleill.tex in the samples folder.
Tip Make sure that the \label command follows the \caption command! You may have hard
to explain troubles otherwise.
See Section 8.4.3 for more information.
Most people in my field used the vector graphics application Adobe Illustrator to produce the PDF files for illustrations. Quite recently, it became prohibitively expensive. Luckily, many reasonably priced alternatives are available. In Chapter 13, we discuss an alternative, TikZ, built for LATEX. Inkspace is an alternative, available for all platforms.</p>

<h3 id="1-11-the-anatomy-of-a-presentation">1.11 The anatomy of a presentation</h3>

<p>Chances are, one of your first exposures to LATEX was watching a presentation. The presenter
used a pdf document produced by LATEX and opened it with Adobe Reader. He went from
“slide” to “slide” by pressing the space bar. Figure 1.4 and Figure 1.5 show four slides of a
presentation.
In LATEX, you use a presentation package—really, a document class—to prepare the
PDF file. We use Till Tantau’s BEAMER.
Here are the first few lines—the preamble and the Title slide—of the source file of
our sample presentation, firstpresentation.tex (see firstpresentation.tex in the
samples folder, along with Louisville.tex, the full presentation):
\documentclass[leqno]{beamer}
\usetheme{Warsaw}
\DeclareMathOperator{\Princ}{Princ}
\begin{document}
\title{The order of principal congruences}
\author{G. Gr\&quot;atzer}
\date{}
\maketitle</p>

<p>\usetheme{Warsaw} provides a flavor. It is followed by the Title slide, providing the
title and the author.
The \title command may be longer, it may contain all the additional information you
may want to display. Here is the \title command of Louisville.tex:
\title[The order of principal congruences of a bounded lattice]
{The order of principal congruences<br />
of a bounded lattice.<br />
AMS Fall Southeastern Sectional Meeting<br />
University of Louisville, Louisville, KY<br />
October 5-6, 2013}
Note that the \title has two parts. The first, in [], is the short title, repeated in the bottom
line on every slide. The second, in {}, is the title for the front page.
The rest of the presentation source file is divided into two frames with the structure:
\begin{frame}
\frametitle{}
\end{frame}</p>

<p>Each frame produces a “slide” (or more). Here is the first frame:
\begin{frame}
\frametitle{Summary}
We characterize the order of principal congruences
of a bounded lattice
as a bounded ordered set.
We~also state a number of open problems in this new field.
\medskip
arXiv: 1309.6712
\end{frame}
The command \frametitle gives the slide its title: Summary, see Slide 2 in Figure 1.4. In
the body of the frame, you type regular LATEX.
To produce Slides 3 and 4, it would be natural to try
\begin{frame}
\frametitle{Theorem 1}
For a bounded lattice $L$, the order $\Princ K$ is bounded.
We now state the converse.
\end{frame}
\begin{frame}
\frametitle{Theorem 1}
For a bounded lattice $L$, the order $\Princ K$ is bounded.
We now state the converse.
\begin{theorem}
Let $P$ be an order with zero and unit.
Then there is a bounded lattice~$K$ such that
[
P \cong \Princ K.
]
If $P$ is finite, we can construct $K$ as a finite lattice.
\end{theorem}
\end{frame}
which produces the two frames of Figure 1.6.
This is really jarring to watch. The two lines of the new Slide 3 jump up more than two
lines as they transition to Slide 4.
Here is how we produce Slides 3 and 4 of Figure 1.5:
\begin{frame}
\frametitle{Theorem 1}
For a bounded lattice $L$, the order $\Princ K$ is bounded.
We now state the converse.
\pause
\begin{theorem}</p>

<p>Let $P$ be an order with zero and unit.
Then there is a bounded lattice~$K$ such that
[
P \cong \Princ K.
]
If $P$ is finite, we can construct $K$ as a finite lattice.
\end{theorem}
\end{frame}
\end{document}
There is only one new command to learn: \pause; it produces from this frame two
slides.
The \pause in this frame splits the contents of the frame into two parts. The first slide
is typeset from the first part as if the second part was also present. The second slide is typeset
from both parts. So the transition from the first slide to the second is smooth, see Figure 1.5.
You can have more than one \pause in a frame. Use \pause also to display a list one
item at a time.
Chapter 12 discusses BEAMER in more detail.</p>

<h2 id="2-and-a-few-more-things">2 And a few more things</h2>

<p>If life was perfect, we would not need this chapter. You would write perfect LATEX,
based on Chapter 1, no need to study how LATEX works, what error messages mean. . .
But life is not perfect, you will make mistakes, LATEX will send messages, plain and
mysterious.
In this chapter, we briefly explain how things work, the structure of LATEX, the
auxiliary files, the logical and visual design of an article, LATEX error messages. See
Appendix C for more detail. Finally, we present a long list of dos and don’t to help you
write good LATEX.</p>

<h3 id="2-1-structure">2.1 Structure</h3>

<p>LATEX’s core is a programming language called TEX, created by Donald E. Knuth, which
provides low-level typesetting instructions. TEX comes with a set of fonts called Computer Modern (CM). The CM fonts and the TEX programming language form the foundation of a typical TEX system. TEX is extensible—new commands can be defined in
terms of more basic ones. LATEX is one of the best known extensions of TEX.</p>

<p>The visual layout of a LATEX document is primarily determined by the document
class, such as amsart, article for articles, amsbook, book for books. Many journals,
publishers, and schools have their own document classes for formatting articles, books,
and theses.
Extensions of LATEX are called packages. They provide additional functionality by
adding new commands and environments, or by changing the way previously defined
commands and environments work. It is essential that you find the packages that make
your work easier. The LATEX Companion, 2nd edition [56] discusses a large number of
the most useful packages as of 2004.
The structure of LATEX is illustrated in Figure 2.1. This figure suggests that in
order to work with a LATEX document, you first have to install TEX and the CM fonts,
then LATEX, and finally specify the document class and the necessary packages. The
packages must include amsmath, amsthm, and so on. Of course, your LATEX installation
already includes all of these.</p>

<h3 id="2-2-auxiliary-files">2.2 Auxiliary files</h3>

<p>Figure 2.2 illustrates the steps in the production of a typeset document.
You start by opening an existing LATEX source file or creating a new one with a text
editor. For this discussion, the source file is called myart.tex. Once the source file
is ready, you typeset it. Depending on the document class options you choose and the
packages the document loads, you end up with at least three additional files:</p>

<ol>
<li>myart.pdf The typeset article in PDF format.</li>
<li>myart.aux The auxiliary file, used by LATEX for internal bookkeeping, including
cross-references and bibliographic citations.</li>

<li><p>myart.log The log file. LATEX records the typesetting session in the log file, including any warnings and messages that appear on your monitor in the log window.
Your computer uses a video driver to display the typeset article on your monitor
and a printer driver to print the typeset article on a printer. The video and printer drivers
are computer and LATEX implementation dependent.
It should be emphasized that of the three applications used, only one is the same
for all computers and all implementations.
LATEX always uses the aux file from the last typesetting. Here is an example. Your
article has Theorems 1 (with \label{T:first}) and 2 (with \label{T:main}). The
aux file has the two lines:
\newlabel{T:first}{{1}{1}}
\newlabel{T:main}{{2}{1}}
\newlabel{T:first}{{1}{1}} means that the label T:first is assigned the value 1
and appears on page 1. \newlabel{T:main}{{2}{1}} means that the label T:main
is assigned the value 2 and appears on page 1. So the reference
see Theorems \ref{T:first} and \ref{T:first}.
is typeset as
see Theorems 1 and 2.
Now add a new theorem between Theorems 1 and 2. Typeset the article. In the
typeset article, the three theorems are properly numbered, but it still contains the same
typeset line:
see Theorems 1 and 2.
The aux file has the lines:
\newlabel{T:first}{{1}{1}}
\newlabel{T:main}{{3}{1}}
So at the next typesetting, the reference is displayed as
see Theorems 1 and 3.</p>

<h3 id="2-3-logical-and-visual-design">2.3 Logical and visual design</h3>

<p>The typeset version of firstarticle.tex looks impressive on p. 4. To produce such
articles, you need to understand that there are two aspects of article design: visual and
logical.
As an example, let us look at a theorem from firstarticle.tex (see the typeset
form of the theorem on page 4). You tell LATEX that you want to state a theorem by
using a theorem environment:
\begin{theorem}\label{T:technical}
Let $L$ be a finite lattice.
...
\end{theorem}
The logical part of the design is choosing to define a theorem by placing material inside a theorem environment. For the visual design, LATEX makes hundreds of
decisions. Could you have specified all of the spacing, font size changes, centering,
numbering, and so on? Maybe, but would you want to? And would you want to repeat
that process for every theorem in your document?
Even if you did, you would have spent a great deal of time and energy on the visual
design of the theorem rather than on the logical design of your article. The idea behind
LATEX is that you should concentrate on what you have to say and let LATEX take care of
the visual design.
This approach allows you to easily alter the visual design by changing the document class (or its options, see Sections 9.5, 10.1.2, and 17.1). Section 9.1 provides
some examples. If you code the visual design into the article—hard coding it, as a programmer would say—such changes are much harder to accomplish, for you and for the
journal publishing the article.
For more on this topic, see Section C.4.</p></li>
</ol>

<h3 id="2-4-general-error-messages">2.4 General error messages</h3>

<p>Now that you are ready to type your first document, we give you some pointers on using
LATEX.
You will probably make a number of mistakes in your first document. These mistakes fall into the following categories:
1. Typographical errors, which LATEX blindly typesets.
2. Errors in formulas or in the formatting of the text.
3. Errors in your instructions to LATEX, that is, in commands and environments.
Typographical errors can be corrected by viewing and spell checking the source
file, finding the errors, and then editing the typeset file. Mistakes in the second and
third categories may trigger errors during the typesetting process, such as lines too wide
of Section 1.4.</p>

<p>We now look at some examples of the third class of errors by deliberately introducing a number of mistakes into firstarticle.tex and examining the messages.
Experiment 1. In firstarticle.tex, go to line 19 (use the Go to Line command
of your editor) and remove the closing brace so that it reads \begin{abstract
When you typeset firstarticle.tex, LATEX reports a problem:
{abstract We present a technical result for congruences on\ETC.
./firstarticle.tex:23:
Paragraph ended before \begin was complete.
<to be read again>
\par
l.23
Line 23 of the file is the line after \maketitle. The message informs you that the
environment name was not completed.
Runaway argument? is a message that comes up often. It means that the argument of a command is either longer than expected or it contains material the argument
cannot accept. Most often a closing brace solves the problem, as in this experiment.
Experiment 2. Now restore line 19, then go to line 21 and change \end{abstract}
to \end{abstrac} and typeset again. LATEX informs you of another error:
./firstarticle.tex:21: LaTeX Error: \begin{abstract}
on input line 19 ended by \end{abstrac}.
See the LaTeX manual or LaTeX Companion for explanation.
Type H <return> for immediate help.
...
l.21 \end{abstrac}
This is perfect. LATEX correctly analyzes the problem and tells you where to make the
change.
Experiment 3. Correct the error in line 21, and introduce a new error in line 61. This
line reads
z_1 \equiv y+ w \pmod{\delta}.
Change \delta to \deta. Now, when you typeset the document, LATEX reports
./firstarticle.tex:61: Undefined control sequence.
<argument> {\operator@font mod}\mkern 6mu\deta
l.61 z_1 \equiv y+ w \pmod{\deta}
This mistake is easy to identify: \deta is a misspelling of \delta</p>

<p>Experiment 4. In line 38, delete the closing brace of the \label command. This
results in a message:
Runaway definition?
-&gt;E:cover\text {If $x$ is covered by $y,z \in L$ and\ETC.
! File ended while scanning definition of \df@label.
<inserted text>
}
&lt;*&gt; firstarticle.tex
Undo the change to line 38.
Experiment 5. Add a blank line following line 61:
x+ z = z + z_1 \equiv z + (y+ w) = y+ z \pmod{\delta},
This change results in the message
./firstarticle.tex:62: Missing $ inserted.
<inserted text>
$
l.62
There can be no blank lines within a displayed math environment. LATEX catches the
mistake, but the message itself is misleading.
Experiment 6. Add a $ before \pmod in line 61 (such an error often occurs when
cutting and pasting a formula). You get the message:
./firstarticle.tex:61: Display math should end with $$.
<to be read again>
\penalty
l.61 z_1 \equiv y+ w $\pmod{\delta}
Maybe this could be more to the point?
Tip LATEX’s messages are not very useful with displayed formulas. Comment out some of
the lines to try to localize the problem.
Tip Typeset often.
Typesetting my book First Steps into LATEX with the closing brace of the first
\caption command on line 480 of the source file missing, I get the error message</p>

<p>! Text line contains an invalid character.
l.1227 ...pletely irreducible^^?
where the reference is to line 1227, about 700 lines removed from the actual error.
However, if the only thing I did before typesetting was to insert that figure with its
incorrect caption command, at least I would know where to look for errors. If you
make a dozen changes and then typeset, you may not know where to start.</p>

<h3 id="2-5-errors-in-math">2.5 Errors in math</h3>

<p>Even in such a simple note there are opportunities for errors. To help familiarize yourself with some of the most commonly seen LATEX errors in formulas, we introduce mistakes into formulanote.tex.
Experiment 1 In line 6 of formulanote.tex, delete the third $ symbol; save the
file under the name formulanotebad1.tex in the work folder.
Typeset formulanotebad1.tex. LATEX generates the following message:
! Missing $ inserted.
<inserted text>
$
l.6 as $(u, v)$ and (u, \infty
)$. Such an interval
LATEX reads (u, \infty) as text; but the \infty command instructs LATEX to typeset
a math symbol, which can only be done in a formula. So LATEX offers to put a $ in front
of \infty while typesetting the source file—it does not put the $ in the source file
itself. LATEX attempts a cure, but in this example it comes too late, because the formula
should start just before (u.
Experiment 2 In line 16 of formulanote.tex, delete the second } symbol and save
it under the name formulanotebad2.tex in the work folder. This introduces an error:
the closing brace of the subscript (see page 14) is missing. Now typeset the note. You
get the message
Missing } inserted.
<inserted text>
}
l.12 such as $\lim_{x \to \infty f(x)$
LATEX reports that a closing brace (}) is missing, but it is not sure where the brace
should be. LATEX noticed that a subscript started with {, but it reached the end of the
formula before finding a closing brace }. To remedy this, you must look in the formula
for an opening brace { that is not balanced, and insert the missing closing brace }. Make
the necessary change and typeset again to view the difference.
Experiment 3 In mathnote.tex, delete the two $ signs in line 19, that is, replace
$a$ by a. Typeset the file. It typesets with no errors. Here is the last line of the typeset
file you get:</p>

<p>we assume that the function is defined and continuous in a neighborhood of a.
instead of
we assume that the function is defined and continuous in a neighborhood of 𝑎.
This is probably the error most often made by beginners. There is no message by
LATEX and the typeset version looks good. Notice the difference in the shape of the letter
a in the two cases. You need sharp eyes to catch such an error.
Tip After an error is corrected, LATEX can refuse to typeset your document. If your document is document.tex, look in the same folder for the auxiliary file document.aux
that was created by LATEX. Delete document.aux and typeset twice. See Section 2.2.</p>

<h3 id="2-6-your-errors-davey-s-dos-and-don-ts">2.6 Your errors: Davey’s Dos and Don’ts</h3>

<p>Based on his many years of experience correcting LATEX articles for the journal Algebra
Universalis, Brian Davey collected the LATEX mistakes most often made by authors.
Here are some items from his list, divided into three categories.
Commands
1. Place ALL custom commands and environments in the preamble!
If you have trouble with custom commands, then you know where to find them.
2. Don’t use \def; rather use \newcommand or \renewcommand.
\def is a TEX command. It is like \newcommand (see Sections 1.9 and 14.1), but it
can redefine an existing command. Redefining your own commands is bad enough,
redefining a TEX command can be a disaster.
3. Do not simply type the name of an operator into a formula. Declare the appropriate
operator; see Sections 1.9 and 14.1.
For instance, do not type $length I$; it typesets as 𝑙𝑒𝑛𝑔𝑡ℎ𝐼. It should be length 𝐼,
typed as $\length I$. Of course, you have to add
\DeclareMathOperator{\length}{length}
to the preamble (see Section 1.8).
4. When you send a document to a coauthor or submit an article to a journal, remove
all the custom commands not used.
This is a real time saver for your coauthor and editor.</p>

<p>Text
1. Do not produce a list with horizontal and vertical spacing commands. Use a list
environment; see Sections 3.8 and 4.2.
2. Do not type numbers for citations and internal references. Use \cite{...} for
citations and \ref{...} for references. For references to equations, use \eqref;
see Sections 1.7.1 and 5.3.
3. Do not number proclamations (see Section 4.4). Use the standard amsart environments for theorems, and so on, and let LATEX number them.
4. When writing a document for a journal requiring a document class file, do not
(a) change any of the size parameters: for instance, do not use options like 12pt to
change the font size or the \setlength command to change any parameter of
the page size;
(b) insert vertical white space via \bigskip, \smallskip, \vskip, \vspace, etc,
nor via your own custom commands. Do not adjust horizontal space without a
very good reason.
So if you want to display some text:
Please, display this text.
don’t do this:
\medskip
\hspace*{6pt} Please, display this text.
\medskip
but rather
\begin{itemize}
\item[] Please, display this text.
\end{itemize}
or
\begin{quote}
Please, display this text.
\end{quote}
5. Do not leave a blank line before \end{proof} or before a text environment (see
Section 4.1).
6. Do not use the geometry package.</p>

<p>Formulas
1. Do not leave a blank line before a displayed formula.
2. Don’t use the symbol | in a set description, use the binary relation \mid; see Section 5.5.4.
For instance, { x | x^2 &lt; 2 } typesets as {𝑥|𝑥2 &lt; 2}. The correct form is
{𝑥 ∣ 𝑥2 &lt; 2}, typed as ${x \mid x^2 &lt; 2}$.
3. Don’t put punctuation marks inside an inline math environment.
For instance, sin 𝑥. typed as $\sin x.$; use $\sin x$. This typesets as sin 𝑥.
Notice the smaller space between “sin 𝑥.” and “typed” and the wider space between
“$\sin x$.” and “This”; see Sections 1.3 and 3.2.2.
4. Don’t use two or more displayed formulas one after another. Use an appropriate
environment such as \align, \alignat, \gather, and so on (see Section 7.1.1).
5. Don’t use \left{, \right}, \left(, \right), and so on, by default (see
page 15 and Section 5.5.1 for the commands \left and \right). Even when
\left and \right do not change the size of the symbol, they add extra space
after the closing delimiter.
6. Use \colon for functions. For instance, $f(x) \colon x \to x^2$ typesets as
𝑓(𝑥) ∶ 𝑥 → 𝑥2. If you type $f(x) : x \to x^2$, you get 𝑓(𝑥) ∶ 𝑥 → 𝑥2; the
spacing is bad.
7. Use [ and ] (or equation*) to type a displayed math environment (see Section 1.7) rather than the old TEX $$ matched by $$. While display math produced
via the latter does work properly most of the time, there are some LATEX commands
that do not; for example, \qedhere.
8. Do not use the center environment to display formulas.
9. Use \dots first and let LATEX make the decision whether to use \dots or \cdots;
see page 15 and Section 5.4.3. If LATEX gets it wrong, then use \cdots or \ldots.
10. If you can, avoid constructs (for instance, up
→) in inline formulas that disrupt the
regular line spacing. Although LATEX automatically leaves room for it, it does not
look good, as a rule.</p>

<h1 id="ii-text-and-math">II Text and Math</h1>

<h2 id="3-typing-text">3 Typing text</h2>

<p>In Chapter 1, we briefly discussed how to type text in a document. Now we take up this topic more fully.</p>

<p>在第一章中，我们简要讨论了如何在文档中键入文本。现在我们更充分地讨论这个问题。</p>

<p>This chapter starts with a discussion of the keyboard in Section 3.1 and continues with the rules for spaces in Section 3.2. We cover a very important topic that must precede any in-depth discussion of LATEX, how to control LATEX with commands and environments, in Section 3.3.</p>

<p>本章从3.1节对键盘的讨论开始，接着是3.2节中的空格规则。在深入讨论LATEX之前，我们将讨论一个非常重要的主题，即如何使用命令和环境控制LATEX。</p>

<p>A document may contain symbols that cannot be found on your keyboard. In Section 3.4, we show how to get these symbols in our typeset documents by using commands.</p>

<p>文档可能包含无法在键盘上找到的符号。在第3.4节中，我们将展示如何使用命令在类型集文档中获取这些符号。</p>

<p>Some other characters are defined by LATEX as command characters. For example, the % character plays a special role in the source document. In Section 3.5.1, you will see how % is used to comment out lines. In Section 3.5.2, we introduce the command for footnotes.</p>

<p>其他一些字符由LATEX定义为命令字符。例如，%字符在源文档中扮演一个特殊的角色。在第3.5.1节中，您将看到如何使用%注释掉行。在第3.5.2节中，我们介绍了脚注的命令。</p>

<p>In Section 3.6, we discuss the commands (and environments) for changing fonts, their shapes and sizes. In Section 3.7, you learn about lines, paragraphs, and pages. The judicious use of horizontal and vertical spacing is an important part of document formatting, and also the topic of Section 3.8. In Section 3.9, you learn how to typeset text in a “box”, which behaves as if it were a single large character.</p>

<p>在第3.6节中，我们将讨论用于更改字体、其形状和大小的命令(和环境)。在第3.7节中，您将了解行、段落和页。合理使用水平和垂直间距是文档格式的重要组成部分，也是第3.8节的主题。在第3.9节中，您将了解如何在“框”中键入文本，它的行为就好像是单个大字符一样。</p>

<p>To help the discussion along, we shall use the terms text mode and math mode to distinguish between typesetting text and math.</p>

<p>为了便于讨论，我们将使用术语文本模式和数学模式来区分排版文本和数学。</p>

<h3 id="3-1-the-keyboard">3.1 The keyboard</h3>

<p>Most of the keys on your computer’s keyboard produce characters, while others are function or modifier keys.</p>

<p>计算机键盘上的大多数键都是字符，其他的是功能键或修饰键。</p>

<h4 id="3-1-1-basic-keys">3.1.1 Basic keys</h4>

<p>The basic keys are grouped as follows:
Letters The 52 letter keys:
a b c ... z A B C ... Z
Digits The ten digits:
1 2 ... 9 0
Old-style digits are available with the \oldstylenums command. The next line
shows the default digits followed by the old style digits:
1234567890 1234567890
typed as
1234567890 \quad \oldstylenums{1234567890}
Punctuation There are nine punctuation marks:
,;.?!:‘’-
The first six are the usual punctuation marks. The ‘ is the left single quote—
also known as the grave accent—while ’ doubles as the right single quote and
apostrophe (see Section 3.4.1). The - key is the dash or hyphen (see Sections
3.4.2 and 3.4.9).
Parentheses There are four:
()[]
( and ) are parentheses; [ and ] are called (square) brackets.
Math symbols Seven math symbols correspond to keys. The math symbols are:
∗+=− &lt; &gt; ∕</p>

<p>The last four characters have a role also in text mode:
The minus sign − corresponds to the hyphen key, - (see Section 3.4.9).
The math symbols &lt; and &gt; correspond to the keys &lt; and &gt;; use them only in
math mode.
Note that there is also a version of colon (:) for math formulas (see Sections 6.1
and A.2).
Space keys Pressing the space bar gives the space character. Pressing the tab key gives
the tab character. When typesetting the source file, LATEX does not distinguish between these two. Pressing the Return key gives the end-of-line character. These
keys produce invisible charactersthat are normally not displayed on your monitor
by the text editor. Different computer systems have different end-of-line characters, which may cause some problems when transferring files from one system to
another. A good text editor translates end-of-line characters automatically or on
demand. Section 3.2.1 explains how LATEX handles the invisible characters.
When explaining some rules of LATEX, sometimes it is important to show if a
space is required. In such cases, I use the symbol verb* ␣ to indicate a space, for
instance, \in␣ut and \␣.
The tilde ˜ produces a nonbreakable space or tie (see Section 3.4.3).</p>

<h4 id="3-1-2-special-keys">3.1.2 Special keys</h4>

<p>There are 13 special keys on the keyboard:
#$%&amp;~_^{}@&quot;|
They are mostly used to give instructions to LATEX and some are used in math mode
(see Chapter 5), and some in BIBTEX (see Chapter 15). See Section 3.4.4 on how to
print these characters in text. Only @ requires no special command, type @ to print @.</p>

<h4 id="3-1-3-prohibited-keys">3.1.3 Prohibited keys</h4>

<p>Keys other than those discussed in Sections 3.1.1 and 3.1.2 are prohibited! Specifically,
do not use the computer’s modifier keys—Control, Alt, Escape, and others—to produce
special characters, such as accented characters. LATEX will either reject or misunderstand them. Prohibited characters may not cause problems in some newer LATEX implementations. They may just print ï£¡ if your source file has ï£¡, and ignore the invisible
invalid characters. However, for portability reasons, you should avoid using prohibited
characters. The babel package provides support for using some modifier keys (see
Appendix F).</p>

<p>Tip If there is a prohibited character in your document, you may receive a message such as
! Text line contains an invalid character.
l.222 completely irreducible^^?
^^?
Delete and retype the offending word or line until the error goes away.</p>

<h3 id="3-2-words-sentences-and-paragraphs">3.2 Words, sentences, and paragraphs</h3>

<p>Text consists of words, sentences, and paragraphs. In text, words are separated by one
or more spaces, which may include a single end-of-line character (see the rule, Spacing
in text), or by parentheses and punctuation marks. A group of words terminated by a
period, exclamation point, or question mark forms a sentence (not all periods terminate
a sentence, see the discussion in Section 3.2.2). A group of sentences terminated by
one or more blank lines constitutes a paragraph.</p>

<h4 id="3-2-1-spacing-rules">3.2.1 Spacing rules</h4>

<p>Here are the most important LATEX rules about spaces in text in the source file.
Rule Spacing in text
1. Two or more spaces in text are the same as one.
2. A tab or end-of-line character is the same as a space.
3. A blank line, that is, two end-of-line characters separated only by spaces and tabs,
indicates the end of a paragraph. The \par command is equivalent.
4. Spaces at the beginning of a line are ignored.
Rules 1 and 2 make cutting and pasting text less error-prone. In your source file,
you do not have to worry about the line length or the number of spaces separating words
or sentences, as long as there is at least one space or end-of-line character separating
any two words. Thus
You do not have to worry
about the number of spaces
separating words, as long as there
is at least one space or end-of-line character
separating any two words.
produces the same typeset text as</p>

<p>You do not have to worry about the number of spaces
separating words, as long as there is at least one space
or end-of-line character separating any two words.
However,
the number of spaces separating words,
as long
and
the number of spaces separating words,
as long
produce different results:
the number of spaces separating words, as long
the number of spaces separating words , as long
Notice the space between “words” and the comma in the second line. That space was
produced by the end-of-line character in accordance with Rule 2.
It is very important to maintain the readability of your source file. LATEX may not
care about the number of spaces or line length, but you, your coauthor, and your editor
might.
Rule 3 contradicts Rules 1 and 2, consider it an exception. Sometimes—especially
when defining commands and environments (see Sections 14.1 and 14.2)—it is more
convenient to indicate the end of a paragraph with \par.</p>

<h4 id="3-2-2-periods">3.2.2 Periods</h4>

<p>LATEX places a certain size space between words—the interword space—and a somewhat larger space between sentences—the intersentence space. To know which space
to use, LATEX must decide whether or not a period indicates the end of a sentence.
Rule 1 Period
To LATEX, a period after a capital letter, for instance, A. or caT., signifies an abbreviation
or an initial. Generally, every other period signifies the end of a sentence.
This rule works most of the time. When it fails—for instance, twice with e.g.—you
need to specify the type of space you want, using the following two rules.
Rule 2 Period
If an abbreviation does not end with a capital letter, for instance, etc., and it is not the
last word in the sentence, then follow the period by an interword space (\␣) or a tie (˜),
if appropriate (see Section 3.4.3).</p>

<p>Recall that \␣ provides an interword space.
The result was first published, in a first approximation,
in the Combin.\ Journal. The result was first published,
in a first approximation, in the Combin. Journal.
prints as
The result was first published, in a first approximation, in the Combin. Journal.
The result was first published, in a first approximation, in the Combin. Journal.
Notice that Combin. in the first line is followed by a regular interword space. The intersentence space following Combin. in the second line is a little wider; it is an error.
A tie (or nonbreakable space)—see also Section 3.4.3—is more appropriate than
\␣ in phrases such as Prof. Smith, typed as Prof.~Smith, and pp. 271–292, typed as
pp.~271--292.
Tip The thebibliography environment handles periods properly. You do not have to
mark periods for abbreviations (in the form .\␣) in the name of a journal, so
Acta Math. Acad. Sci. Hungar.
is correct.
Rule 3 Period
If a capital letter is followed by a period and is at the end of a sentence, precede the
period with \@.
For example,
(1) follows from condition~H\@. We can proceed<br />
(1) follows from condition~H. We can proceed
prints:
(1) follows from condition H. We can proceed
(1) follows from condition H. We can proceed
Notice that there is not enough space after H. in the second line.
Most typographers agree on the following rule (see, for instance, The Elements of
Typographic Style by Robert Bringhurst [8], p. 30):</p>

<p>Rule 4 Period
Add no space or a thin space (\,) within strings of initials and be consistent.
So W.H. Lampstone with no space or W. H. Lampstone with thin space is preferred over W. H. Lampstone. My personal choice is W. H. Lampstone with thin
space.
To make all intersentence spaces equal to the interword space—as required in
French typography—you can use the command
\frenchspacing
To switch back to using spaces of different sizes, give the command
\nonfrenchspacing</p>

<h3 id="3-3-commanding-latex">3.3 Commanding LATEX</h3>

<p>How do you command LATEX to do something special for you, such as starting a new line,
changing emphasis, or displaying the next theorem? You use commands and special
pairs of commands called environments, both briefly introduced in Section 1.1.4.
Most, but not all, commands have arguments, which are usually fairly brief. Environments have contents, the text between the \begin and \end commands. The contents of an environment can be several paragraphs long.</p>

<h4 id="3-3-1-commands-and-environments">3.3.1 Commands and environments</h4>

<p>The \emph{text } command instructs LATEX to emphasize its argument, text. The
&amp; command has no argument; it instructs LATEX to typeset &amp; (see Section 3.4.4).
The flushright environment instructs LATEX to right justify the content, the text
between the two commands
\begin{flushright}
\end{flushright}
The content of the document environment is the body of the article (see
Section 1.8) and the content of the abstract environment is the abstract.
Rule Environments
An environment starts with the command
\begin{name }
and ends with
\end{name }
Between these two commands is the content of the environment, affected by the definition of the environment.</p>

<p>Rule Commands
A LATEX command starts with a backslash, \, and is followed by the command name.
The name of a command is either a single non-alphabetic character other than a tab or
end-of-line character or a string of letters, that is, one or more letters.
So # and ’ are valid command names. The corresponding commands # and \’ are
used in Sections 3.4.4 and 3.4.7, respectively. input and date are also valid command
names. However, input3, in#ut, and in␣ut are not valid names because 3, #, and ␣
should not occur in a multicharacter command name. Note that ␣ is a command name,
the command \␣ produces a blank.
LATEX has a few commands, for instance, $ (see Section 5.1) that do not follow this
naming scheme, that is, they are not of the form \name. See also Section 14.1.9 for
special commands with special termination rules.
Rule Command termination
LATEX finds the end of a command name as follows:
If the first character of the name is not a letter, the name is the first character.
If the first character of the name is a letter, the command name is terminated by the
first nonletter.
If the command name is a string of letters, and is terminated by a space, then LATEX
discards all spaces following the command name.
While input3 is an invalid name, \input3 is not an incorrect command. It is the
\input command followed by the character 3, which is either part of the text following
the command or the argument of the command.
LATEX also allows some command names to be modified with *. Such commands
are referred to as *-ed commands. Many commands have <em>-ed variants. \hspace</em> is
an often-used *-ed command (see Section 3.8.1).
Rule Command and environment names
Command and environment names are case sensitive. \ShowLabels is not the same as
\showlabels.
Rule Arguments
Arguments are enclosed in braces, { }.
Optional arguments are enclosed in brackets, [ ].</p>

<p>Commands may have arguments, typed in braces immediately after the command.
The argument(s) are used in processing the command.
Accents provide very simple examples. For instance, \’{o}—which produces ó—
consists of the command \’ and the argument o (see Section 3.4.7). In the command
\bibliography{article1}
the command is \bibliography and the argument is article1 (see Section 15.2.2).
Sometimes, if the argument is a single character, the braces can be dropped: \’o
also typesets as ó.
Some environments also have arguments. For example, the alignat environment
(see Section 7.5.4) is delimited by the commands
\begin{alignat}{2}
and
\end{alignat}
The argument, 2, is the number of columns—it could be any number 1, 2, ... A command or environment may have more than one argument. The \frac command (see Section 5.4.1) has two, $\frac{1}{2}$ typesets as 1
2 . The custom command \con has
three (see Section 14.1.2).
Some commands and environments have one or more optional arguments, that is,
arguments that may or may not be present. The \sqrt command (see Section 5.4.5)
has an optional argument for specifying roots other than the square root. To get √3 25,
type \sqrt[3]{25}. The \documentclass command has an argument, the name of
a document class, and an optional argument, a list of options (see Section 8.2), for
instance,
\documentclass[12pt,draft,leqno]{amsart}
Tip If you get an error when using a command, check that:
1. The command is spelled correctly, including the use of uppercase and lowercase
letters.
2. You have specified all required arguments in braces.
3. Any optional argument is in brackets, not braces or parentheses.
4. The command is properly terminated.
5. The package providing the command is loaded with the \usepackage command.</p>

<p>Most errors in the use of commands are caused by breaking the termination rule.
We can illustrate some of these errors with the \today command, which produces
today’s date. You have already seen this command in Section 1.3 (see also
Section 3.4.8). The correct usage is
\today\ is the day
or
\today{} is the day
which both typeset in the following form
July 19, 2015 is the day
In the first case, \today was terminated by \␣, the command that produces an interword
space. In the second case, it was terminated by the empty group { }.
If there is no space after the \today command, as in
\todayis␣the␣day
you get the message
! Undefined control sequence.
l.3 \todayis
the day
LATEX thinks that \todayis is the command, and, of course, does not recognize it.
If you type one or more spaces after \today:
\today␣␣is␣the␣day
LATEX interprets the two spaces as a single space by the first space rule (see page 48), and
uses that one space to delimit \today from the text that follows it. So LATEX produces
July 19, 2015is the day
Section 14.1.9 discusses how best to avoid such errors.</p>

<p>Tip If a command—or environment—can have an optional argument and
none is given, and
the text following the command starts with [,
then type this as {[}.
This may happen, for instance, with the command \item (see page 103). To get
an example for an environment, see Section 7.6.1 for subsidiary math environments and
page 211 for the alignment options. See what happens if no option is given but the math
starts, say, with [x].</p>

<h4 id="3-3-2-scope">3.3.2 Scope</h4>

<p>A command issued inside a pair of braces { } has no effect beyond the right brace,
except for the rare global commands (see Section 3.3.3). You can have any number of
pairs of braces:
{ ... { ... { ... } ... } ... }
The innermost pair containing a command is the scope of that command. The command
has no effect outside its scope. We can illustrate this concept using the \bfseries
command that switches the font to boldface:
{some text \bfseries bold text} no more bold
typesets as
some text bold text no more bold
The commands \begin{name } and \end{name } bracketing an environment act
also as a pair of braces. In particular, $, [, and ] are special braces.
Rule Braces
1. Braces must be balanced: An opening brace has to be closed, and a closing brace
must have a matching opening brace.
2. Pairs of braces cannot overlap.
Violating the first brace rule generates warnings and error messages. If there is one
more opening brace than closing brace, the document typesets, but you get a warning:
(\end occurred inside a group at level 1)</p>

<p>For two or more unmatched opening braces, you are warned that \end occurred inside
a group at level 2, and so on. There is a tendency to disregard such warnings since
your article is already typeset and the unmatched opening brace may be difficult to find.
However, such errors may have strange consequences. At one point in the writing of
my second LATEX book, there were two extra opening braces in Chapter 2.4. As a result,
the title of Chapter 7 was placed on a page by itself! So it is best not to disregard such
warnings.
If you have one unmatched closing brace, you get a message such as
! Too many }’s
If special braces, say, \begin{name} and \end{name}, do not balance, you get
an error message:
! LaTeX Error: \begin{name} on input line 21
ended by \end{document}.
or
! LaTeX Error: \begin{document} ended by \end{name}.
To illustrate the second rule, here are two simple examples of overlapping braces.
Example 1
{\bfseries some text
\begin{lemma}
more text} final text
\end{lemma}
Example 2
{some \bfseries text, then math: $\sqrt{2} }, \sqrt{3}$
In Example 1, the scope of \bfseries overlaps the braces \begin{lemma},
\end{lemma} In Example 2, the scope of \bfseries overlaps the special braces $
and $. Example 1 is easy to correct:
{\bfseries some text}
\begin{lemma}
{\bfseries more text}
final text
\end{lemma}
Example 2 may be corrected as follows:
{some \bfseries text, then math:} $\sqrt{2}, \sqrt{3}$
Actually, √
2 does not even have a bold version (see Section 6.4.3).</p>

<p>If the braces do overlap and they are of the same kind, LATEX simply misunderstands
the instructions. The closing brace of the first pair is regarded as the closing brace of
the second pair, an error that may be difficult to detect. LATEX can help if special braces
overlap. Typesetting Example 1 gives the message
! Extra }, or forgotten \endgroup.
l.7 more text }
final text</p>

<h4 id="3-3-3-types-of-commands">3.3.3 Types of commands</h4>

<p>It may be useful at this point to note that commands can be of various types.
Some commands have arguments, and some do not. Some commands effect change
only in their arguments, while some commands declare a change.
For instance, \textbf{This is bold} typesets the phrase This is bold in
bold type: This is bold and has no effect on the text following the argument of the command. On the other hand, the command \bfseries declares that the text that follows
should be bold. This command has no argument. I call a command that declares change
a command declaration. So \bfseries is a command declaration, while \textbf is
not. As a rule, command declarations are commands without arguments.
Commands with arguments are called long if their argument(s) can contain a blank
line or a \par command; otherwise they are short. For example, \textbf is a short
command. So are all the top matter commands discussed in Section 9.2. The \parbox
command, discussed in Section 3.9.4, is long.
Finally, as discussed in Section 3.3.2, the effect of a command remains within its
scope. This is true only of local commands. There are also some global commands,
such as the \setcounter command described in Section 14.5.1.
Fragile commands
As a rule, LATEX reads a paragraph of the source file, typesets it, and then goes on to
the next paragraph (see Section C.4). Some information from the source file, however,
is separately stored for later use. Examples include the title of an article, which is
reused as a running head (Section 9.2.1); titles of parts, sections, subsections, and other
sectioning commands, which are used in the table of contents (Sections 17.2 and 8.4.1);
footnotes (Section 3.5.2); table and figure captions (Section 8.4.3), which are used in
lists of tables and figures (Section 8.4.3); and index entries (Chapter 16).
These are movable arguments, and certain commands embedded in them must be
protected from damage while being moved. LATEX commands that need such protection
are called fragile. The inline math delimiter commands ( and ) are fragile, while $
is not.
In a movable argument, fragile commands must be protected with a \protect
command. Thus
The function ( f(x^{2}) )</p>

<p>is not an appropriate section title, but
The function \protect ( f(x^{2}) \protect )
is. So is
The function $f(x^{2})$
To be on the safe side, you should protect every command that might cause problems
in a movable argument. Section 17.2 shows an example of what happens if a fragile
command is not protected. Alternatively, use commands declared with
\DeclareRobustCommand
This command works the same way as \newcommand but the command defined is robust, that is, not fragile.</p>

<h3 id="3-4-symbols-not-on-the-keyboard">3.4 Symbols not on the keyboard</h3>

<p>A typeset document may contain symbols that cannot be typed. Some of these symbols
may even be available on the keyboard but you are prohibited from using them (see Section 3.1.3). In this section, we discuss the commands that typeset some of these symbols
in text.</p>

<h4 id="3-4-1-quotation-marks">3.4.1 Quotation marks</h4>

<p>To produce single and double quotes, as in
‘subdirectly irreducible’ and “subdirectly irreducible”
type
‘subdirectly irreducible’ and ‘‘subdirectly irreducible’’
Here, ‘ is the left single quote and ’ is the right single quote. Note that the double
quote is obtained by pressing the single quote key twice, and not by using the double
quote key. If you need single and double quotes together, as in “She replied, ‘No.’ ”,
separate them with \, (which provides a thin horizontal space, see Section 3.8.1):
‘‘She replied, ‘No.’\,’’</p>

<h4 id="3-4-2-dashes">3.4.2 Dashes</h4>

<p>Dashes come in three lengths. The shortest dash, called a hyphen, is used to connect
words:
Mean-Value Theorem
This phrase is typed with a single dash:</p>

<p>Mean-Value Theorem
A medium-sized dash, called an en dash, is typed as -- and is used
For number ranges; for instance, the phrase see pages 23–45, is typed as
see pages~23--45
Note: ˜ is a nonbreakable space or tie (see Section 3.4.3).
In place of a hyphen in a compound adjective when one of the elements of the adjective is an open compound (such as New York) or hyphenated (such as non-English).
For instance, the phrase Schmidt–Freid adjoint, is typed as
Schmidt--Freid adjoint
A long dash—called an em dash—is used to mark a change in thought or to add
emphasis to a parenthetical clause, as in this sentence. The two em dashes in the last
sentence are typed as follows:
A long dash---called an \emph{em dash}---is used
In math mode, a single dash is typeset as the minus sign − (a binary operation) with
some spacing on both sides, as in 15 − 3 or the “negative” as in −3; this is discussed in
Sections 3.1.1 and 5.4.1.
Note that there is no space before or after an en dash or em dash.</p>

<h4 id="3-4-3-ties-or-nonbreakable-spaces">3.4.3 Ties or nonbreakable spaces</h4>

<p>A tie or nonbreakable space or blue space is an interword space that cannot be broken
across lines. For instance, when referencing P. Neukomm in an article, you do not
want the initial P. at the end of a line and the surname Neukomm at the beginning of
the next line. To prevent such an occurrence, you should type P.~Neukomm.
If your keyboard does not have ~, use the \nobreakspace command instead, and
type P.\nobreakspace Neukomm. The following examples show some typical uses:
Theorem~\ref{T:main} in Section~\ref{S:intro}
Donald~E. Knuth
assume that $f(x)$ is (a)~continuous, (b)~bounded
the lattice~$L$
Sections~\ref{S:modular} and~\ref{S:distributive}
In~$L$, we find
Of course, if you add too many ties, as in
Peter~G.~Neukomm% Incorrect!
LATEX may send you a line too wide message (see Sections 1.4 and 3.7.1).</p>

<p>The tie (˜) absorbs spaces, so typing P.␣~␣Neukomm works just as well. This
feature is convenient when you add a tie during editing.</p>

<h4 id="3-4-4-special-characters">3.4.4 Special characters</h4>

<p>The characters corresponding to nine of the 13 special keys (see Sections 1.2 and 3.1.2)
are produced by typing a backslash () and then the key, as shown in Table 3.1.
If for some reason you want to typeset a backslash in your document, type the
command \textbackslash, which typesets as . You might think that you could get a
typewriter style backslash by utilizing the \texttt command introduced in Section 1.3
\texttt{\textbackslash}
but this is not the case, \textbackslash and \texttt{\textbackslash} produce
the same symbol, \, which is different from the typewriter style backslash: . Look at
them side-by-side: \ . For a typewriter style backslash you can use the \bsl command introduced in Section 14.1.1 or the \texttt{\symbol{92}} command introduced later in this section.
The | key is seldom used in text. If you need to typeset the math symbol | in text,
type \textbar.
Name Type Typeset
Ampersand &amp; &amp;
Caret \^{} ˆ
Dollar Sign \$ $
Left Brace { {
Right Brace } }
Underscore (or Lowline) _ _
Octothorp # #
Percent \% %
Tilde ~{} ˜
Table 3.1: Nine special characters.
Note that in text, * typesets as *, whereas in a formula it typesets centered as ∗.
To typeset a centered star in text, use the command \textasteriskcentered. And
@ typesets as @.
Finally, the &quot; key should never be used in text. See Section 3.4.1 for the proper
way to typeset double quotes (see also Section 1.3). Nevertheless, sometimes &quot; may be
used to typeset &quot;, as in the computer code segment print(&quot;Hello!&quot;). In BIBTEX and
MakeIndex, &quot; has special meanings (see Chapters 15 and 16).
Tip Be careful when typing { and } to typeset the braces { }. Typing a brace without its backslash results in unbalanced braces, in violation of the first brace rule in
Section 3.3.2.</p>

<p>We illustrated in Section 3.3.2 some consequences of unbalanced braces. You may
avoid some of these problems by introducing custom commands, as introduced in
Section 14.3.
You can also produce special characters with the \symbol command:
\symbol{94} typesets as ^
\symbol{126} typesets as ~
\texttt{\symbol{92}} typesets as <br />
The argument of the \symbol command is a number matching the slot of the symbol in the layout (encoding) of the font. The layout for the Computer Modern typewriter
style font is shown in Table 3.2.
Alternatively, instead of \texttt{\symbol{92}}, we can use
\texttt{\char‘\}
0123456789
x`´ˆ˜¨˝˚ˇ˘¯
1x ˙ ¸ ˛ ‚ ‹ › “ ” „ «
2x » – — ıjfffifl
3x ffi ffl ␣ ! &quot; # $ % &amp; ’
4x ( ) * + , - . / 0 1
5x 2 3 4 5 6 7 8 9 : ;
6x &lt; = &gt; ? @ A B C D E
7x F G H I J K L M N O
8x P Q R S T U V W X Y
9x Z [ \ ] ^ _ ‘ a b c
10x d e f g h i j k l m
11x n o p q r s t u v w
12x x y z { | } ~ -
Table 3.2: Font table for the Computer Modern typewriter style font.
Any character x in the font can be accessed by typing the character itself as ‘\x. This way
you don’t have to look up the position of the symbol.
You can obtain similar tables for any font in your LATEX implementation by using
the fonttbl.tex file in your samples folder. The table format in this file is used in
Section 4.6 as an example of the tabular environment.
For more about font tables, see the nfssfont.tex file, part of the standard LATEX
distribution (see Section 10.3) and see also Section 7.5.7 of The LATEX Companion, 2nd
edition [56].</p>

<h4 id="3-4-5-ellipses">3.4.5 Ellipses</h4>

<p>The text ellipsis, ..., is produced using the \dots command. Typing three periods
produces ... (notice that the spacing is wrong).\dots is one of several commands that
can be used to create ellipses in formulas (see Section 5.4.3).</p>

<h4 id="3-4-6-ligatures">3.4.6 Ligatures</h4>

<p>Certain groups of characters, when typeset, are joined together—such compound characters are called ligatures. There are five ligatures that LATEX typesets automatically
(if you use the Computer Modern fonts): ff, fi, fl, ffi, and ffl.
If you want to prevent LATEX from forming a ligature, separate the characters with
the command\textcompwordmark. Compare iff with iff, typed as iff and
if\textcompwordmark f
Enclosing the second character in braces ({}) is a crude method of preventing the ligature, as used in Formula 4 of the Formula Gallery (see Section 5.10). This method, in
some instances, may interfere with LATEX’s hyphenation algorithm.</p>

<h4 id="3-4-7-accents-and-symbols-in-text">3.4.7 Accents and symbols in text</h4>

<p>LATEX provides 15 European accents. Type the command for the accent ( \ and a character), followed by the letter (in braces) on which you want the accent placed (see Table 3.3). For example, to get Grätzer György, type
Gr\&quot;{a}tzer Gy\&quot;{o}rgy
and to get Ö type \&quot;{O}.
To place an accent on top of an i or a j, you must use the dotless version of i and j.
These are obtained by the commands \i and \j: \’{\i} typesets así and \v{\j} typesets as ˇj. Tables 3.4 and 3.5 list some additional text symbols and European characters
available in LATEX when typing text. Using localized versions of LATEX, you get more
accented and combined characters such as the Catalan geminated ell (see Appendix F).
Note that the \textcircled command (in Table 3.5) takes an argument. It seems
to work best with a single lowercase character, like ○ or a ○. Capitals such as 𝛼 ○ are not A
very satisfactory. Section 3.9.6 explains how to create the symbol ○A .</p>

<h4 id="3-4-8-logos-and-dates">3.4.8 Logos and dates</h4>

<p>\TeX produces TEX, \LaTeX produces LATEX, and \LaTeXe produces LATEXe (the
original name of the current version of LATEX). The \AmS command produces the logo
AMS.
Remember to type \TeX\␣ or \TeX{} if you need a space after TEX (similarly for
the others). A better way to handle this problem is discussed in Section 14.1.1.
LATEX also stores some useful numbers:</p>

<p>Name Type Typeset Name Type Typeset
acute \’{o} ó macron \={o} ¯o
breve \u{o} ˘o overdot .{g} g˙
caron/haček \v{o} ˇo ring \r{u} ů
cedilla \c{c} ç tie \t{oo} oo
circumflex \^{o} ô tilde ~{n} ñ
dieresis/umlaut \&quot;{u} ü underdot \d{m} m. double acute \H{o} ő underbar \b{o} o
¯ grave \‘{o} ò
dotless i \i ı dotless j \j j
\’{\i} í \v{\j} ˇj
Table 3.3: European accents.
Name Type Typeset Type Typeset
a-ring \aa å \AA Å
aesc \ae æ \AE Æ
ethel \oe œ \OE Œ
eszett \ss ß \SS 
inverted question mark ?‘ ¿
inverted exclamation mark !‘ ¡
slashed L \l ł \L Ł
slashed O \o ø \O Ø
Table 3.4: European characters.
\time is the time of day in minutes since midnight
\day is the day of the month
\month is the month of the year
\year is the current year
You can include these numbers in your document by using the \the command:
Year: \the\year; month: \the\month; day: \the\day
produces a result such as
Year: 2015; month: 7; day: 11</p>

<p>Name Type Typeset
ampersand &amp; &amp;
asterisk bullet \textasteriskcentered ∗
backslash \textbackslash <br />
bar (caesura) \textbar |
brace left { {
brace right } }
bullet \textbullet •
circled a \textcircled{a} ○a
circumflex \textasciicircum ^
copyright \copyright ○c
dagger \dag †
double dagger (diesis) \ddag ‡
dollar \$ $
double quotation left \textquotedblleft or ‘‘ “
double quotation right \textquotedblright or ’’ ”
em dash \textemdash or --- —
en dash \textendash or -- –
exclamation down \textexclamdown or !‘ ¡
greater than \textgreater &gt;
less than \textless &lt;
lowline _ _
midpoint \textperiodcentered ·
octothorp # #
percent \% %
pilcrow (paragraph) \P ¶
question down \textquestiondown or ?‘ ¿
registered trademark \textregistered ®
section \S §
Table 3.5: Extra text symbols.
Of more interest is the \today command, which produces today’s date in the form:
July 11, 2015. It is often used as the argument of the \date command (see Section 9.2.1).
Remember the termination rule (Rule 3 in Section 3.3.1).
today’s date in the form: \today (you may want
produces
today’s date in the form: July 11, 2006(you may want
To get the desired effect, type \␣ or {} after the \today command:
today’s date in the form: \today\ (you may want</p>

<h4 id="3-4-9-hyphenation">3.4.9 Hyphenation</h4>

<p>LATEX reads the source file one line at a time until it reaches the end of the current
paragraph and then tries to balance the lines (see Section C.2.2). To achieve this goal,
LATEX hyphenates long words using a built-in hyphenation algorithm, a database stored
in the hyphen.tex file, and a long \hyphenation list in the AMS document classes.
If you use a document class not containing such a list, copy the hyphenation list from
amsart.cls to your document.
Rule Optional hyphen
If you find that LATEX cannot properly hyphenate a word, put optional hyphens in the
word. An optional hyphen is typed as - , and allows LATEX to hyphenate the word
where the optional hyphen is placed—and only at such points—if the need arises.
Examples: data-base,an-ti-thet-ic, set-up
Note that:
Optional hyphens prevent hyphenation at any other point in the word.
Placing an optional hyphen in a particular occurrence of a word does not affect the
hyphenation of any other occurrences of that word.
Rule Hyphenation specifications
List the words that often need help in a command:
\hyphenation{set-up as-so-ciate}
All occurrences of the listed words following this command in your document are hyphenated as specified.
Note that in the \hyphenation command the hyphens are designated by - and
not by -, and that the words are separated by spaces not by commas.
You must use optional hyphens for words with accented characters, as in
Gr\&quot;{a}t-zer
Such words cannot be included in a \hyphenation list (unless you use the T1 font
encoding—see Appendix F).
Rule Preventing hyphenation
To prevent hyphenation of a word, put it in the argument of a \text command or place
it unhyphenated in a \hyphenation command.</p>

<p>For example, type
\text{database}
if you do not want this instance of database hyphenated, or type
\hyphenation{database}
if you do not want LATEX to hyphenate any occurrence of the word after this command
in your document. Of course, typing data-base overrides the general prohibition for
this one instance.
You can have any number of \hyphenation commands in your document.
Tip LATEX does not break a hyphenated word except at the hyphen, nor does it break a word
followed by or preceding an em dash or en dash (see Section 3.4.2). LATEX often needs
help with such words.
Sometimes a hyphen in a phrase should not be broken. For instance, the phrase
𝔪-complete lattice should not be broken after 𝔪; so type it as
\text{$\mathfrak{m}$-com}-plete lattice
(see Section 6.4.2 for \mathfrak).
Use the \nobreakdash command (placed before the hyphen)
\nobreakdash- \nobreakdash-- \nobreakdash---
to prevent such breaks. For example,
pages~24\nobreakdash--47
Since LATEX does not hyphenate a hyphenated word except at the hyphen,
\nobreakdashprevents the hyphenation of the whole word as though it were enclosed in a \text
command. The form
\nobreakdash-\hspace{0pt}
allows the normal hyphenation of the word that follows the hyphen. For example,
$\mathfrak{m}$\nobreakdash-\hspace{0pt}complete lattice
allows the word complete to be hyphenated.
This coding of the phrase 𝔪-complete lattice is a natural candidate for a custom
command (see Section 14.1.1).
Tip If you want to know how LATEX would hyphenate a list of words, place it in the argument
of a \showhyphens command.</p>

<p>For instance,
\showhyphens{summation reducible latticoid}
The result,
sum-ma-tion re-ducible lat-ti-coid
is shown in the log file.
Tip Some text editors wrap lines in a source file by breaking them at a hyphen, introducing
errors in your typeset document.
For instance,
It follows from Theorem~\ref{T:M} that completesimple lattices are very large.
is typeset by LATEX as follows:
It follows from Theorem 2 that complete- simple lattices are very large.
As you can see, there is a space between the hyphen and the word simple. The text
editor inserted an end-of-line character after the hyphen (by the second space rule,
see Section 3.2.1). This end-of-line character was interpreted by LATEX as a space.
To correct the error, make sure that there is no such line break, or comment out (see
Section 3.5.1) the end-of-line character:
It follows from Theorem~\ref{T:M} that complete-%
simple lattices are very large.
Better yet, rearrange the two lines:
It follows from Theorem~\ref{T:M} that
complete-simple lattices are very large.
Of course, LATEX does not know everything about the complicated hyphenation rules
of the English language. Consult The Chicago Manual of Style, 16th edition [11] and
Lyn Dupré’s BUGS in Writing: A Guide to Debugging Your Prose, 2nd edition [13] for
additional guidance.</p>

<h3 id="3-5-comments-and-footnotes">3.5 Comments and footnotes</h3>

<p>Various parts of your source file do not get typeset like most of the rest. The two primary
examples are comments that do not get typeset at all and footnotes that get typeset at
the bottom of the page.</p>

<h4 id="3-5-1-comments">3.5.1 Comments</h4>

<p>The % symbol tells LATEX to ignore the rest of the line. A common use might be a
comment to yourself in the source file:
therefore, a reference to Theorem~1 % check this!
The % symbol has many uses. For instance, a document class command (see Section 9.5),
\documentclass[twocolumn,twoside,legalpaper]{amsart}
may be typed with explanations, as
\documentclass[%
twocolumn,% option for two-column pages
twoside,% format for two-sided printing
legalpaper% print on legal-size paper
]{amsart}
so you can easily comment out some at a later time, as in
\documentclass[%
twocolumn,% option for two-column pages
twoside,% format for two-sided printing
legalpaper% print on legal-size paper
]{amsart}
Notice that the first line is terminated with a % to comment out the end-of-line character.
Tip Some command arguments do not allow any spaces. If you want to break a line within
an argument list, you can terminate the line with a %, as shown in the previous example.
See also the example at the end of Section 3.4.9.
It is often useful to start a document with a comment line giving the file name and
identifying the earliest version of LATEX that must be used to typeset it.
%This is article.tex
\NeedsTeXFormat{LaTeX2e}[1994/12/01]
The second line specifies the December 1, 1994 (or later) release of LATEX. You may
need to use such a declaration if your document uses a feature that was not available in
earlier releases. Since LATEX changes very little these days, this command is of limited
use. (See, however, the discussion on page 293.)
Other uses of % include marking parts of the article for your own reference. For instance, you may include comments to explain command definitions (as in</p>

<p>Section 14.3). If something goes wrong inside a multiline math display (see Chapter 7), LATEX does not tell you precisely where the error is. You can try commenting out
all but one of the lines, until each line works separately.
Note that % does not comment out lines in a BIBTEX database document (see Section 15.2.5).
Tip Symbolic referencing With every \label command I add the commented out form of
the symbolic reference, see Section 1.7.2.
So if I start a new theorem, I type \the and my text expander inserts the following
in the article:
\begin{theorem}\label{T:xx}
%Theorem~\ref{T:xx}
\end{theorem}
And do remember:
Tip The 25% rule
If you want a % sign in text, make sure you type it as \%. Otherwise, % comments out
the rest of the line. LATEX does not produce a warning.
Using % to comment out large blocks of text can be tedious even with block comment. The verbatim package includes the comment environment:
\begin{comment}
...the commented out text...
\end{comment}
Rule comment environments
1. \end{comment} must be on a line by itself.
2. There can be no comment within a comment.
In other words,
\begin{comment}
commented out text...
\begin{comment}
some more commented out text...
\end{comment}
and some more commented out text...
\end{comment}</p>

<p>is not allowed. LATEX may give one of several messages, depending on the circumstances. For instance,
! LaTeX Error: \begin{document} ended by \end{comment}.
l.175 \end{comment}
Tip Locating errors
The comment environment can be very useful in locating errors.
Suppose you have unbalanced braces in your source file (see Section 3.3.2). Working with a copy of your source file, comment out the first half at a safe point (not within
an environment!) and typeset. If you still get the same message, the error is in the
second half. If there is no error message, the error is in the first half. Comment out the
half that has no error.
Now comment out half of the remaining text and typeset again. Check to see
whether the error appears in the first half of the remaining text or the second. Continue
applying this method until you narrow down the error to a paragraph that you can inspect
visually.
Since the comment environment requires the verbatim package, you must include
the line
\usepackage{verbatim}
in the preamble of the source file (see Sections 1.8, 10.3.1, and D.1).</p>

<h4 id="3-5-2-footnotes">3.5.2 Footnotes</h4>

<p>The text of a footnote is typed as the argument of a \footnote command. To illustrate
the use of footnotes, I have placed one here.1 This footnote is typed as
\footnote{Footnotes are easy to place.}
If you want to use symbols to designate the footnotes, instead of numbers, type the
command
\renewcommand{\thefootnote}
{\ensuremath{\fnsymbol{footnote}}}
before the first footnote; this provides up to nine symbols. In Section 14.1.1, we discuss
the \ensuremath command. Section 3.2 of The LATEX Companion, 2nd edition [56]
describes how to further customize footnotes.
In addition, there are title-page footnotes, such as the \thanks and \date commands in the top matter. See page 4 for a typeset example of \date. See also Section 9.2 and the typeset title page footnotes on page 272.</p>

<p>You can add a footnote marked by ∗ to the title of an article. For instance, type the
title
\title[Complete congruence lattices]%
{Complete congruence lattices$^*$}
and add the lines
{\renewcommand{\thefootnote}{\fnsymbol{footnote}}
\setcounter{footnote}{1}
\footnotetext{Lecture delivered at the \AMS
annual meeting in Brandon.}
\setcounter{footnote}{0}
}
The footnote will appear as the first footnote on page 1 marked by ∗. All the other
footnotes are unmarked.</p>

<h3 id="3-6-changing-font-characteristics">3.6 Changing font characteristics</h3>

<p>Although a document class and its options determine how LATEX typesets characters,
there are occasions when you want control over the shape or size of the font used.</p>

<h4 id="3-6-1-basic-font-characteristics">3.6.1 Basic font characteristics</h4>

<p>You do not have to be a typesetting expert to recognize the following basic font attributes:
Shape Normal text is typeset:
upright (or roman) as this text
slanted as this text
italic as this text
small caps as this text
Monospaced and proportional Typewriters use monospaced fonts, that is, fonts all
of whose characters are of the same width. Most text editors display text using a monospaced font. LATEX calls monospaced fonts typewriter style. In this
book, such a font is used to represent user input and LATEX’s response, such as
“typewriter style text”. Whereas, normal text is typeset in a proportional
font, such as “proportional text with ii and mm”, in which ii is narrow and
mm is wide:
Monospaced and proportional Typewriters use monospaced fonts,
mmmmmm
iiiiii }
monospaced
mmmmmm
iiiiii }
proportional</p>

<p>Serifs A serif is a small horizontal (sometimes vertical) stroke used to finish off a vertical stroke of a letter, as on the top and bottom of the letter M. LATEX’s standard
serif font is Computer Modern roman, such as “serif text”. Fonts without serifs
are called sans serif, such as “sans serif text”. Sans serif fonts are often used for
titles or for special emphasis.
Series: weight and width The series is the combination of weight and width. A font’s
weight is the thickness of the strokes and the width is how wide the characters are.
Light, medium (or normal), and bold often describe weight.
Narrow (or condensed), medium (or normal), and extended often describe width.
The Computer Modern family includes bold fonts. Traditionally, when the user
asks for bold CM fonts, LATEX actually provides bold extended (a somewhat wider
version).
Size Most LATEX articles are typeset with 10 point text unless otherwise instructed.
Larger sizes are used for titles, section titles, and so on. Abstracts and footnotes
are often set in 8-point type.
Font family The collections of all sizes of a font is called a font family.</p>

<h4 id="3-6-2-document-font-families">3.6.2 Document font families</h4>

<p>In a document class, the style designer designates three document font families:
1. Roman (upright and serifed) document font family
2. Sans serif document font family
3. Typewriter style document font family
and picks one of these (for articles, as a rule, the roman document font family) as the
document font family or normal family. In all the examples in this book, the document
font family is the roman document font family except for presentations which use sans
serif (see Section 1.11 and Chapter 12). When you use Computer Modern fonts in
LATEX, which is the default, the three document font families are Computer Modern
roman, Computer Modern sans serif, and Computer Modern typewriter. The document
font family is Computer Modern roman.
In this book, the roman document font family is Times, the sans serif document font
family is Helvetica, and the typewriter style document font family is Computer Modern
typewriter. The document font family is the roman document font family Times.
The document font family (normal family) is the default font. You can always
switch back to it with
\textnormal{...}
or
{\normalfont ...}</p>

<p>Table 3.6 shows these two commands and three additional pairs of commands
to help you switch among the three basic document font families. It also shows the
command pairs for the basic font shapes.
Command with Argument Command Declaration Switches to the
font family
\textnormal{...} {\normalfont ...} document
\emph{...} {\em ...} emphasis
\textrm{...} {\rmfamily ...} roman
\textsf{...} {\sffamily ...} sans serif
\texttt{...} {\ttfamily ...} typewriter style
\textup{...} {\upshape ...} upright shape
\textit{...} {\itshape ...} italic shape
\textsl{...} {\slshape ...} slanted shape
\textsc{...} {\scshape ...} small capitals
\textbf{...} {\bfseries ...} bold
\textmd{...} {\mdseries ...} normal weight and width
Table 3.6: Font family switching commands.
The font-changing commands of Table 3.6 come in two forms:
A command with an argument, such as \textrm{...}, changes its argument. These
are short commands, i.e., they cannot contain a blank line or a \par command.
A command declaration, such as \rmfamily, carries out the font change following
the command and within its scope (see Section 3.3.2).
You should always use commands with arguments for small changes within a paragraph. They have two advantages:
You are less likely to forget to change back to the normal font.
You do not have to worry about italic corrections (see Section 3.6.4).
Note that MakeIndex requires you to use commands with arguments to change the font
in which page numbers are typeset (see Section 16.1).
For font changes involving more than one paragraph, use command declarations.
These commands are preferred if you want to create custom commands and environments (see Chapter 14).</p>

<h4 id="3-6-3-shape-commands">3.6.3 Shape commands</h4>

<p>There are five pairs of commands to change the font shape:
\textup{...} or {\upshape ...} switch to the upright shape.
\textit{...} or {\itshape ...} switch to the italic shape.</p>

<p>\textsl{...} or {\slshape ...} switch to the slanted shape.
\textsc{...} or {\scshape ...} switch to small capitals.
\emph{...} or {\em ...} switch to emphasis.
The document class specifies how emphasis is typeset. As a rule, it is italic or slanted
unless the surrounding text is italic or slanted, in which case it is upright. For instance,
\emph{Rubin space}
in the statement of a theorem is typeset as
the space satisfies all three conditions, a so-called Rubin space that ...
The emphasis changed the style of Rubin space from italic to upright.
Tip Be careful not to interchange the command pairs. For instance, if by mistake you type
{\textit serif}, the result is serif. Only the s is italicized since \textit takes s
as its argument.
Rule Abbreviations and acronyms
For abbreviations and acronyms use small caps, except for two-letter geographical acronyms.
So Submitted to tug should be typed as
Submitted to \textsc{tug}
Note that only the lowercase characters in the argument of the \textsc command are
printed as small caps.</p>

<h4 id="3-6-4-italic-corrections">3.6.4 Italic corrections</h4>

<p>The phrase
when using a serif font
may be typed as follows:
when using a {\itshape serif\/} font
The \/ command before the closing brace is called an italic correction. Notice that
{\itshape M}M typesets as MM, where the M is leaning into the M.</p>

<p>Type {\itshape M\/}M to get the correct spacing M M. Compare the typeset phrase
from the previous example with and without an italic correction:
when using a serif font
when using a serif font
The latter is not as pleasing to the eye.
Rule 1 Italic correction
If the emphasized text is followed by a period or comma, you should not type the italic
correction.
For example,
Do not forget. My party is on Monday.
should be typed as
{\itshape Do not forget.} My party is on Monday.
Rule 2 Italic correction
The shape commands with arguments do not require italic correction. The corrections
are provided automatically where needed.
Thus you can type the phrase when using a serif font the easy way:
when using a \textit{serif} font
Whenever possible, let LATEX take care of the italic correction. However, if LATEX is
adding an italic correction where you feel it is not needed, you can override the correction with the \nocorr command. LATEX does not add an italic correction before a period
or a comma. These two punctuation marks are stored in the \nocorrlist command.
By redefining this command, you can modify LATEX’s behavior.
Rule 3 Italic correction
The italic correction is required with the commands \itshape, \slshape, \em.</p>

<h4 id="3-6-5-series">3.6.5 Series</h4>

<p>These attributes play a very limited role with the Computer Modern fonts. There is only
one important pair of commands,
\textbf{...} {\bfseries ...}
to change the font to bold (actually, bold extended). The commands
\textmd{...} {\mdseries ...}
which set both the weight and width to medium (normal) are seldom needed.</p>

<h4 id="3-6-6-size-changes">3.6.6 Size changes</h4>

<p>Standard LATEX documents are typeset in 10 point type. The 11 point and 12 point type
are often used for better readability and some journals require 12 point—if this is the
case, use the 12pt document class option (see Sections 9.5, 10.1.2, and 17.1.3). The
8pt and 9pt document class options are rarely used. The sizes of titles, subscripts, and
superscripts are automatically set by the document class, in accordance with the font
size option.
If you must change the font size for some text—it is seldom necessary to do so in
an article—the following command declarations are provided (see Table 3.7):
\Tiny \tiny \SMALL \Small \small
\normalsize
\large \Large \LARGE \huge \Huge
The command \SMALL is also called \scriptsize and the command \Small is also
called \footnotesize. The font size commands are listed in order of increasing—to
be more precise, nondecreasing—size.
Command Sample text
\Tiny sample text
\tiny sample text
\SMALL or \scriptsize sample text
\Small or \footnotesize sample text
\small sample text
\normalsize sample text
\large sample text
\Large sample text
\LARGE sample text
\huge sample text
\Huge sample text</p>

<p>Two commands allow the user to increase or decrease font size: \larger moves
up one size, \smaller moves down one. Both commands take an optional argument.
For example, \larger[2] moves up 2 sizes.</p>

<h4 id="3-6-7-orthogonality">3.6.7 Orthogonality</h4>

<p>You are now familiar with the commands that change the font family, shape, series, and
size. Each of these commands affects one and only one font attribute. For example,
if you change the series, then the font family, shape, and size do not change. These
commands act independently. In LATEX terminology, the commands are orthogonal.
From the user’s point of view this behavior has an important consequence: The order
in which these commands are given does not matter. Thus
\Large \itshape \bfseries
has the same effect as
\bfseries \itshape \Large
Note that LATEX 2.09’s two-letter commands (see Section 3.6.8) are not orthogonal.
Orthogonality also means that you can combine these font attributes in any way
you like. For instance, the commands
\sffamily \slshape \bfseries \Large
instruct LATEX to change the font family to sans serif, the shape to slanted, the series to
bold, and the size to \Large. If the corresponding font is not available, LATEX uses a
font that is available, and issues a warning.
The font substitution algorithm (see Section 7.9.3 of The LATEX Companion, 2nd
edition [56] for details) may not provide the font you really want, so it is your responsibility to make sure that the necessary fonts are available. We discuss this topic further
in Section 17.5.</p>

<h4 id="3-6-8-obsolete-two-letter-commands">3.6.8 Obsolete two-letter commands</h4>

<p>Users of LATEX 2.09 and AMS-LATEX version 1.1 are accustomed to using the two-letter
commands \bf, \it, \rm, \sc, \sf, \sl, and \tt. These commands are not part
of LATEX. They are, however, still defined in most document classes. The two-letter
commands
1. switch to the document font family,
2. change to the requested shape.
There are a number of reasons not to use them. The two-letter commands
are not part of LATEX,
require manual italic corrections,
are not orthogonal (see Section 3.6.7).</p>

<p>\slshape \bfseries is the same as \bfseries \slshape (slanted bold), but
\sl\bf is not the same as \bf\sl. Indeed, {\sl\bf sample} gives sample and
{\bf\sl sample} produces sample.</p>

<h4 id="3-6-9-low-level-commands">3.6.9 Low-level commands</h4>

<p>The font-characteristic changing commands we have discussed so far in this section
are the high-level font commands. Each of these commands is implemented by LATEX
and the document class using low-level font commands. The low-level commands have
been developed for document class and package writers. See Section 7.9 of The LATEX
Companion, 2nd edition [56].
There is one use of low-level commands you should keep in mind. When you
choose a font size for your document or for some part thereof, you also determine the
\baselineskip, the distance from the baseline of one line to the baseline of the next.
Typically, a 10-point font size uses a 12 point \baselineskip. Occasionally, you
may want to change the font size along with the \baselineskip. A command for
accomplishing this is
\fontsize{9pt}{11pt}\selectfont
which changes the font size to 9 point and the \baselineskip to 11 point. To make
this change for a single paragraph, you can type
{%special paragraph
\fontsize{9pt}{11pt}\selectfont
text
}%end special paragraph
Observe the blank line that follows text and marks the end of the paragraph; \par
would accomplish the same thing.</p>

<h3 id="3-7-lines-paragraphs-and-pages">3.7 Lines, paragraphs, and pages</h3>

<p>When typesetting a document, LATEX breaks the text into lines, paragraphs, and pages.
Sometimes you may not like how LATEX has chosen to lay out your text. There are ways
to influence how LATEX does its work and these are discussed in this section.</p>

<h4 id="3-7-1-lines">3.7.1 Lines</h4>

<p>LATEX typesets a document one paragraph at a time. It tries to split the paragraph into
lines of equal width; for a preliminary discussion, see Section 1.4. If it fails to do so
successfully and a line is too wide, you get an overfull \hbox message. Here is a
typical example:
Overfull \hbox (15.38948pt too wide) in paragraph
at lines 11--16</p>

<p>[]\OT1/cmr/m/n/10 In sev-eral sec-tions of the course
on ma-trix
the-ory, the strange term ‘‘hamiltonianThe log file records these messages. To place a visual warning in the typeset version
of your document as well, use the draft document class option
\documentclass[draft]{amsart}
Lines that are too wide are be marked with a slug (a black box) in the margin. A slug
is a vertical bar of width \overfullrule.
Do not worry about such messages while writing the document. If you are preparing the final version and receive a message for an overfull \hbox, the first line of
defense is to see whether optional hyphens would help (see Section 3.4.9). Read the
warning message carefully to see which words LATEX cannot hyphenate properly. If
adding optional hyphens does not help, a simple rephrasing of the problem sentence
often does the trick.
Recall that there are 72.27 points in an inch (see Section 1.4). So if the message
indicates a 1.55812 pt overflow, for instance, you can safely ignore it.
Tip If you do not want the 1.55812pt overflow reported whenever the document is typeset,
you can enclose the offending paragraph (including the blank line indicating the end of
the paragraph) between the lines
{\setlength{\hfuzz}{2pt}
and
}% end of \hfuzz=2pt
Choose an argument that is slightly more than the reported error (maybe 2pt). This
does not affect the typeset output, but the warning message and the slug, if you are
using the draft option, are suppressed.
Alternatively, enclose the offending paragraph including the blank line indicating
the end of the paragraph in a setlength environment:
\begin{setlength}{\hfuzz}{2pt}
\end{setlength}
Breaking lines
There are two forms of the line breaking command:
The \ and \newline commands break the line at the point of insertion but do not
stretch it.
The \linebreak command breaks the line at the point of insertion and stretches the
line to make it of the normal width.</p>

<p>The text following any of these commands starts at the beginning of the next line, without indentation. The \ command is often used, but \linebreak is rarely seen. (See
Section 17.6 for an application of the \linebreak command.) I illustrate the effect of
these commands:
There are two forms of the line breaking command:
There are two forms\ of the line breaking command:
There are two forms \newline of the line breaking command:
There are two forms \linebreak of the line breaking command:
typeset as
There are two forms of the line breaking command:
There are two forms
of the line breaking command:
There are two forms
of the line breaking command:
There are two forms of the line breaking command:
If you force a line break in the middle of a paragraph with the \linebreak command and LATEX thinks that there is too little text left on the line to stretch it to full
width, you get a message such as
Underfull \hbox (badness 4328) in paragraph
at lines 8--12
The \ command has two important variants:
\[length ], where length is the interline space you wish to specify after the line
break, for instance, 12pt, .5in, or 1.2cm. Note how the units are abbreviated.
\*, which prohibits a page break following the line break.
The \*[length ] form combines the two variants. We illustrate the \[length ]
command:
It is also semimodular.\[15pt] In particular,
which is typeset as
It is also semimodular.
In particular,</p>

<p>Since \ can be modified by * or by [ ], LATEX may get confused if the line after a
\ command starts with a * or [. In such cases, type * as {*} or [ as {[}. For instance,
to get
There are two sources of problems:
[a] The next line starts with [.
type
There are two sources of problems:<br />
{[}a] The next line starts with \texttt{[}.
If you fail to type {[}, you get the message
! Missing number, treated as zero.
<to be read again>
a
l.16 [a]
The next line starts with \texttt{[}.
Rule <br />
Without optional arguments, the \ command and the \newline command are the
same in text, but not within environments or command arguments.
You can qualify the \linebreak command with an optional argument: 0 to 4. The
higher the argument, the more it forces the occurrence of a line break.
\linebreak[4] is the same as \linebreak, while \linebreak[0] allows the line
break but does not force it.
The \nolinebreak command plays the opposite role. \nolinebreak[0] =
\linebreak[0], and \nolinebreak[4] = \nolinebreak. \nolinebreak is seldom used since the tie (˜) and the \text command (see Section 3.4.3) accomplish the
same goal most of the time.
Double spacing
It is convenient to proofread documents double spaced. Sone journals even require
submissions to be double spaced.
To typeset a document double spaced, include the command
\renewcommand{\baselinestretch}{1.5}
in its preamble.
Alternatively, use George D. Greenwade’s setspace. Load this package with a
\usepackage{setspace}</p>

<p>command in the preamble of the document and specify
\doublespacing
in the preamble. This changes not just the line spacing but a number of other parameters
to make your article look good.
See also Section 3.1.13 of The LATEX Companion, 2nd edition [56].</p>

<h4 id="3-7-2-paragraphs">3.7.2 Paragraphs</h4>

<p>Paragraphs are separated by blank lines or by the \par command. LATEX error messages
always show paragraph breaks as \par. The \par form is also very useful in custom
commands and environments (see Sections 14.1 and 14.2).
In some document classes, the first line of a paragraph is automatically indented.
Indentation can be prevented with the \noindent command and can be forced with the
\indent command.
Sometimes—for instance, in a schedule, glossary, or index—you may want a hanging indent, where the first line of a paragraph is not indented, and all the others are
indented by a specified amount.
Hanging indents are created by specifying the amount of indentation specified by
\hangindent and set with the \setlength command:
\setlength{\hangindent}{30pt}
\noindent
\textbf{sentence} a group of words terminated by
a period, exclamation point, or question mark.
\setlength{\hangindent}{30pt}
\noindent
\textbf{paragraph} a group of sentences terminated by a
blank line or by the new paragraph command.
produces
sentence a group of words terminated by a period, exclamation point, or question
mark.
paragraph a group of sentences terminated by a blank line or by the new paragraph command.
Notice that the \setlength command must be repeated for each paragraph.
Sometimes you may want to change the value of \hangafter, the length command that specifies the number of lines not to be indented. The default value is 1.
To change it to 2, use the command
\setlength{\hangafter}{2}
For more about the \setlength command, see Section 14.5.2. The LATEX Companion, 2nd edition [56] discusses in Section 3.1.4 the style parameters of a paragraph.
The preferred way to shape a paragraph or series of paragraphs is with a custom
list environment (see Section 14.6).</p>

<h4 id="3-7-3-pages">3.7.3 Pages</h4>

<p>There are two page breaking commands:
\newpage, which breaks the page at the point of insertion but does not stretch the
content
\pagebreak, which breaks the page at the point of insertion and stretches the page’s
content to normal length
Text following either command starts at the beginning of the next page, indented.
As you can see, the page breaking commands are analogous to the line breaking
commands discussed in Section 3.7.1. This analogy continues with the optional argument, 0 to 4:
\pagebreak[0] to \pagebreak[4]
\nopagebreak[0] to \nopagebreak[4]
There are also special commands for allowing or forbidding page breaks in multiline
math displays (see Section 7.9).
When preparing the final version of a document (see Section 17.5), you may have
to extend or shrink a page by a line or two to prevent it from breaking at an unsuitable
line. You can do so with the \enlargethispage command. For instance,
\enlargethispage{\baselineskip}
adds one line to the page length. On the other hand,
\enlargethispage{-\baselineskip}
makes the page one line shorter.
\enlargethispage{10000pt}
makes the page very long.
The <em>-ed version, \enlargethispage</em>, squeezes the page as much as possible.
There are two more variants of the \newpage command. The
\clearpage
command does a \newpage and typesets all the figures and tables waiting to be processed (see Section 8.4.3). The variant
\cleardoublepage
is used with the twoside document class option (see Sections 9.5 and 10.1.2). It does
a \clearpage and in addition makes the next printed page a right-hand, that is, oddnumbered, page, by inserting a blank page if necessary. If for your document class this
does not work, use the package cleardoublepage.sty in the samples folder.
Section 17.6 discusses the use of some of these commands in the final preparation
of books.</p>

<h4 id="3-7-4-multicolumn-printing">3.7.4 Multicolumn printing</h4>

<p>Many document classes provide the twocolumn option for two-column typesetting (see
Sections 9.5 and 10.1.2). In addition, there is a \twocolumn command which starts a
new page by issuing a \clearpage and then typesets in two columns. An optional
argument provides a two-column wide title. Use the \onecolumn command to switch
back to a one-column format.
Frank Mittelbach’s multicol package (see Section 10.3.1) provides the much
more sophisticated multicols environment, which can start in the middle of a page,
can handle more than two columns, and can be customized in a number of ways (see
Section 3.5.3 of The LATEX Companion, 2nd edition [56]).</p>

<h3 id="3-8-spaces">3.8 Spaces</h3>

<p>The judicious use of horizontal and vertical space is an important part of the formatting
of a document. Fortunately, most of the spacing decisions are made by the document
class, but LATEX has a large number of commands that allow the user to insert horizontal
and vertical spacing.
Remember that LATEX ignores excess spaces, tabs, and end-of-line characters. If
you need to add horizontal or vertical space, then you must choose from the commands
in this section. Use them sparingly (see Section 2.6).</p>

<h4 id="3-8-1-horizontal-spaces">3.8.1 Horizontal spaces</h4>

<p>In this section, we discuss fixed length horizontal space commands. Variable length
horizontal space is discussed in Section 3.8.4.
When typing text, there are three commands that are often used to create horizontal
space, shown between the bars in the display below:
\␣
\quad
\qquad
The \quad command creates a 1 em space and \qquad creates a 2 em space (see Section 3.8.3). The interword space created by \␣ can both stretch and shrink. There are
other commands that create smaller amounts of space. All the math spacing commands
of Section 6.1.3—with the exception of \mspace—can be used in ordinary text (see
Sections A.9 and B.6), but the \hspace and \phantom commands may be more appropriate.
The \hspace command takes a length as a parameter. The length may be negative.
For example,
\textbar\hspace{12pt}\textbar | |
\textbar\hspace{.5in}\textbar | |
\textbar\hspace{1.5cm}\textbar | |
or \hspace{-40pt}. The command \hspace is often used with a negative argument
when placing illustrations.</p>

<p>The \phantom{argument } command produces a space the width and height of
the space that would be occupied by its typeset argument
\textbar need space\textbar |need space|
\textbar\phantom{need space}\textbar | |
and
alpha \phantom{beta} gamma \phantom{delta}<br />
\phantom{alpha} beta \phantom{gamma} delta
produces
alpha gamma
beta delta
The \phantom command is very useful for fine tuning aligned math formulas (see
Sections 6.1 and 7.5.3). The variant
\hphantom{argument }
creates a space with the horizontal dimension that would be occupied by its typeset
argument and with zero height.
For instance, the last two lines of the dedication of this book were typed as follows
in the flushright environment:
\textbf{Kate} (8), \phantom{\textbf{Jay} (3)}\[8pt]
\textbf{Jay} (3)
See Section B.6 for a table of all horizontal text-spacing commands.
It is easy to see how we can emulate the \pause command of beamer—see Section 12.2.1—with the \phantom command.
Horizontal space variant
When LATEX typesets a line, it removes all spaces from the beginning of the line, including the space created by \hspace, \quad, and other spacing commands. Using
the <em>-ed variant of \hspace, \hspace</em>, prevents LATEX from removing the space you
have specified.
For example,
And text<br />
\hspace{20pt}And text<br />
\hspace*{20pt}And text
is typeset as
And text
And text
And text</p>

<p>Use the \hspace* command for creating customized indentation. To indent a paragraph by 24 points, give the command
\noindent\hspace<em>{24pt}And text
which typesets as
And text
To break a line and indent the next line by 24 points, give the command
And text<br />
\hspace</em>{24pt}And text
which produces
And text
And text</p>

<h4 id="3-8-2-vertical-spaces">3.8.2 Vertical spaces</h4>

<p>You can add some interline space with the command \[length ], as discussed in
Section 3.7.1. You can also do it with the \vspace command, which works just like
the \hspace command (see Section 3.8.1), except that it creates vertical space. Here
are some examples:
\vspace{12pt} \vspace{.5in} \vspace{1.5cm}.
Standard amounts of vertical space are provided by the three commands
\smallskip \medskip \bigskip
The space these commands create depends on the document class and the font size.
With the document class and font I am using for this book, they represent a vertical
space of 3 points, 6 points, and 12 points, respectively. 12 points is the baseline skip
(see Section 3.6.9) in standard LATEX documents with the default 10pt option.
Rule Vertical space commands
All vertical space commands add the vertical space after the typeset line in which the
command appears.
To obtain
end of text.
New paragraph after vertical space
type</p>

<p>end of text.
\vspace{12pt}
New paragraph after vertical space
The following example illustrates the unexpected way the vertical space is placed if the
command that creates it does not start a new paragraph:
end of text.
\vspace{12pt}
The following example illustrates the unexpected way
the vertical space is placed if the
command that creates it does not start a new paragraph:
It typesets as
end of text. The following example illustrates the unexpected way the vertical
space is placed if the command that creates it does not start a new paragraph:
Vertical space variants
LATEX removes vertical space from the beginning and end of each page, including space
produced by \vspace. The space created by the variant \vspace* is not removed by
LATEX under any circumstances. Use this command, for instance, to start the typeset
text (say, of a letter) not at the top of the page.
The \phantom command has also a vertical variant: \vphantom. The command
\vphantom{argument } creates a vertical space with the vertical dimension that would
be occupied by its typeset argument, argument .</p>

<h4 id="3-8-3-relative-spaces">3.8.3 Relative spaces</h4>

<p>The length of a space is usually given in absolute units: 12pt (points), .5cm (centimeters), 1.5in (inches). Sometimes, relative units, em and ex, are more appropriate, units
that are relative to the size of the letters in the current font. The unit 1 em is approximately the width of an M in the current font, while 1 ex is approximately the height of
an x in the current font. These units are used in commands such as
\hspace{12em} and \vspace{12ex}
The \quad and \qquad commands (Section 3.8.1) produce 1 em and 2 em spaces.</p>

<h4 id="3-8-4-expanding-spaces">3.8.4 Expanding spaces</h4>

<p>Horizontal spaces
The \hfill, \dotfill, and \hrulefill commands fill all available space in the line
with spaces, dots, or a horizontal line, respectively. If there are two of these commands
on the same line, the space is divided equally between them. These commands can be
used to center text, to fill lines with dots in a table of contents, and so on.
To obtain
2. Boxes. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .34
ABC and DEF
ABC and DEF
type
2. Boxes\dotfill 34<br />
ABC\hfill and\hfill DEF<br />
ABC\hrulefill and\hrulefill DEF
In a centered environment—such as a \title (see Section 9.2.1) or a center
environment (see Section 4.3)—you can use \hfill to set a line flush right:
This is the title
First Draft
Author
To achieve this effect, type
\begin{center}
This is the title<br />
\hfill First Draft<br />
Author
\end{center}
Vertical spaces
The vertical analogue of \hfill is \vfill. This command fills the page with vertical
space so that the text before the command and the text after the command stretch to
the upper and lower margin. You can play the same games with it as with \hfill in
Section 3.8.4.
The command \vfill stands for \vspace{\fill}, so it is ignored at the beginning of a page. Use \vspace*{\fill} if you need it at the beginning of a page.</p>

<h3 id="3-9-boxes">3.9 Boxes</h3>

<p>Sometimes it can be useful to typeset text in an imaginary box, and treat that box as a
single large character. A single-line box can be created with the \text or \makebox
commands and a multiline box of a prescribed width can be created with the \parbox
command or minipage environment.</p>

<h4 id="3-9-1-line-boxes">3.9.1 Line boxes</h4>

<p>The \text command provides a line box that typesets its argument without line breaks.
As a result, you may find the argument extending into the margin. The resulting box is
handled by LATEX as if it were a single large character. For instance,
\text{database}
causes LATEX to treat the eight characters of the word database as if they were one.
This technique has a number of uses. It prevents LATEX from breaking the argument
(see Section 3.4.9). It also allows you to use the phrase in the argument in a formula
(see Section 5.4.6).
The argument of \text is typeset in a size appropriate for its use, for example, as
a subscript or superscript. See Section 5.4.6 for an example.
Line boxes—a refinement
The \mbox command is the short form of the \makebox command. Both \mbox and
\text prevent breaking the argument, but \mbox does not change size in subscripts and
superscripts.
The full form of the \makebox command is
\makebox[width ][alignment ]{text }
where the arguments are
width, the (optional) width of the box. If [width ] is omitted, the box is as wide
as necessary to enclose its contents.
alignment, (optionally) one of c (the default), l, r, or s. The text is centered by
default, l sets the argument flush left, r right, and s stretches the text the full length
of the box if there is blank space in the argument.
text, the text in the box.
A width argument can be specified in inches (in), centimeters (cm), points (pt),
em, or ex (see Sections 3.8.3 and 14.5.2).
The following examples,
\makebox{Short title.}End<br />
\makebox[2in][l]{Short title.}End<br />
\makebox[2in]{Short title.}End<br />
\makebox[2in][r]{Short title.}End<br />
\makebox[2in][s]{Short title.}End</p>

<p>typeset as
Short title.End
Short title. End
Short title. End
Short title.End
Short title.End
The optional width argument, width, can use four length commands:
\height \depth \totalheight \width
These are the dimensions of the box that would be produced without the optional width
argument.
Here is a simple example. The command
\makebox{hello}
makes a box of width \width. To typeset hello in a box three times the width, that is,
in a box of width 3\width, use the command
\makebox[3\width]{hello}
So
start\makebox[3\width]{hello}end
typesets as
start hello end
The formal definition of these four length commands is the following:
\height is the height of the box above the baseline
\depth is the depth of the box below the baseline
\totalheight is the sum of \height and \depth
\width is the width of the box
There is an interesting variant of the \makebox command. The \rlap command
makes a box and pretends that it is of width zero. For instance,
\newcommand{\circwithdot}
{\mathbin{\rlap{$\mspace{2mu}\cdot$}\hbox{$\circ$}}}
defines the command \circwithdot, so you can type
$f\circwithdot\varphi$
which prints as 𝑓 ◦⋅ 𝜑. There is also an \llap command.</p>

<h4 id="3-9-2-frame-boxes">3.9.2 Frame boxes</h4>

<p>Boxed text is very emphatic. For example, Do not touch! is typed as
\fbox{Do not touch!}
This is a frame box, hence the command \fbox or \framebox.
Boxed text cannot be broken, so if you want a frame around more than one line
of text, you should put the text as the argument of a \parbox command or within a
minipage environment (see Section 3.9.3), and then put that into the argument of an
\fbox command. For instance,
\fbox{\parbox{3in}{Boxed text cannot be broken,
so if you want to frame more than one line
of text, place it in the argument of a
\bsl\texttt{parbox}
command or within a
\texttt{minipage} environment.}}
produces
Boxed text cannot be broken, so if you want to
frame more than one line of text, place it in
the argument of a \parbox command or within
a minipage environment.
The \bsl command is defined in Section 14.1.1. See Section 6.7.2 for boxed formulas.
The \framebox command works exactly like \makebox, except that it draws a
frame around the box.
\framebox[2in][l]{Short title}
produces
Short title
You can use this command to typeset the number 1 in a square box, as required by
the title of Michael Doob’s [12]:
TEX Starting from 1
\framebox{\makebox[\totalheight]{1}}
which typesets as
1</p>

<p>Note that
\framebox[\totalheight]{1}
typesets as
1
which is not a square box. Indeed, \totalheight is the height of 1, which becomes the
width of the box. The total height of the box, however, is the height of the character 1
to which you have to add twice the \fboxsep, the separation between the contents of
the box and the frame, defined as 3 points, and twice the \fboxrule, the width of the
line, or rule, defined as 0.4 points. These lengths are in general also added to the width
of the box, but not in this case, because we forced the width to equal the height of the
character.
You can use the \fbox command to frame the name of an author:
\author{\fbox{author’s name}}</p>

<h4 id="3-9-3-paragraph-boxes">3.9.3 Paragraph boxes</h4>

<p>A paragraph box works like a paragraph. The text it contains is wrapped around into
lines. The width of these lines is set by the user.
The \parbox command typesets the contents of its second argument as a paragraph with a line width supplied as the first argument. The resulting box is handled by
LATEX as a single large character. For example, to create a 3-inch wide column,
Fred Wehrung’s new result shows the limitation of
E. T. Schmidt’s construction, especially for large
lattices.
type
\parbox{3in}{Fred Wehrung’s new result shows the
limitation of E.\,T. Schmidt’s construction,
especially for large lattices.}
Paragraph boxes are especially useful when working within a tabular environment. See the subsection on refinements in Section 4.6 for examples of multiline entries.
The width of the paragraph box can be specified in inches (in), centimeters (cm),
points (pt), or the relative measurements em and ex (see Section 3.8.3), among others
(see Section 14.5.2 for a complete listing of measurement units).</p>

<p>Tip The \parbox command requires two arguments. Dropping the first argument results in
a message such as
! Missing number, treated as zero.
<to be read again>
T
l.175
Dropping the second argument does not yield a message but the result is probably not
what you intended. The next character is taken as the contents of the \parbox.
Paragraph box refinements
The “character” created by a \parbox command is placed on the line so that its vertical
center is aligned with the center of the line. An optional first argument b or t forces the
paragraph box to align along its bottom or top. For an example, see Section 4.6. The
full syntax of \parbox is
\parbox[alignment ][height ][inner-alignment ]{width }{text }
Just as for the \makebox command (see Section 3.9.1), the
\height \depth \totalheight and \width
commands may be used in the height argument instead of a numeric argument.
The inner-alignment argument is the vertical equivalent of the alignment
argument for \makebox, determining the position of text within the box and it may
be any one of t, b, c, or s, denoting top, bottom, centered, or stretched alignment,
respectively. When the inner-alignment argument is not specified, it defaults to
alignment.
Paragraph box as an environment
The minipage environment is very similar to the \parbox command. It typesets the
text in its body using a line width supplied as an argument. It has an optional argument
for bottom or top alignment, and the other \parbox refinements also apply. The difference is that the minipage environment can contain displayed text environments discussed in Chapter 4.
The minipage environment can also contain footnotes (see Section 3.5.2) that are
displayed within the minipage. See Section 3.2.1 of The LATEX Companion, 2nd edition
[56] for complications that may arise therefrom.</p>

<h4 id="3-9-4-marginal-comments">3.9.4 Marginal comments</h4>

<p>A variant of the paragraph box, the \marginpar command, allows you to add marginal
comments. So Do not
use this
often \marginpar{Do not use this often}
produces the comment displayed in the margin.
The AMS warning in the book <a href="also displayed here below the marginal comment">31</a> is defined as ○A
\marginpar{{\Large%
\textcircled{\raisebox{.7pt}{\normalsize\textbf A}}}}
The \textcircled command is discussed in Section 3.4.7, while the \raisebox command is introduced in Section 3.9.6.
Rule Marginal comments and math environments
Do not use marginal comments in equations or multiline math environments.
Tip Avoid using too many marginal comments on any given page—LATEX may have to place
some of them on the next page.
If the document is typeset two-sided, then the marginal comments are set in the
outside margin. The form
\marginpar[left-comment ]{right-comment }
uses the required argument right-comment when the marginal comment is set in the
right margin and the optional argument left-comment when the marginal comment
is set in the left margin.
The width of the paragraph box for marginal comments is stored in the length
command \marginparwidth (see Section 14.5.2 for length commands). If you want
to change it, use
\setlength{\marginparwidth}{new_width }
as in
\setlength{\marginparwidth}{90pt}
The default value of this width is set by the document class. If you want to know the
present setting, type
\the\marginparwidth
in your document and typeset it, or, in interactive mode (see Sections 14.1.8 and C.3),
type</p>

<p><em>\showthe\marginparwidth
(</em> is the interactive prompt).
See Sections 3.2.8 and 4.1 of The LATEX Companion, 2nd edition [56] for other
style parameters pertaining to marginal notes.</p>

<h4 id="3-9-5-solid-boxes">3.9.5 Solid boxes</h4>

<p>A solid filled box is created with a \rule command. The first argument is the width
and the second is the height. For instance, to obtain
end of proof symbol:
type
end of proof symbol: \rule{1.6ex}{1.6ex}
In fact, this symbol is usually slightly lowered:
end of proof symbol:
This positioning is done with an optional first argument:
end of proof symbol: \rule[-.23ex]{1.6ex}{1.6ex}
Here is an example combining \rule with \makebox and \hrulefill:
1 inch:\quad\makebox[1in]{\rule{.4pt}{4pt}%
\hrulefill\rule{.4pt}{4pt}}
which produces
1 inch:
Struts
Solid boxes of zero width are called struts. Struts are invisible, but they force LATEX to
make room for them, changing the vertical alignment of lines. Standard struts can also
be added with the \strut or \mathstrut command. To see how struts work, compare
ab and ab and ab
typed as
\fbox{ab} and \fbox{\strut ab} and \fbox{$\mathstrut$ab}</p>

<p>Struts are especially useful for fine tuning tables (see Section 4.6) and formulas
(see math struts in Section 6.5).
Rule Zero distance
0pt, 0in, 0cm, 0em all stand for zero width. 0 by itself is not acceptable.
For example, \rule{0}{1.6ex} gives the message
! Illegal unit of measure (pt inserted).
<to be read again>
h
l.251 \rule{0}{1.6ex}
If the \rule command has no argument or only one, LATEX generates a message.
For instance, \rule{1.6ex} gives the message
! Paragraph ended before \@rule was complete.
or
! Missing number, treated as zero.
In the first message, the reference to \@rule suggests that the problem is with the \rule
command. Checking the syntax of the \rule command, you find that an argument is
missing. The second message is more informative, since there is, indeed, a missing
number</p>

<h4 id="3-9-6-fine-tuning-boxes">3.9.6 Fine tuning boxes</h4>

<p>The command
\raisebox{displacement }{text }
typesets text in a box with a vertical displacement. If displacement is positive,
the box is raised; if it is negative, the box is lowered.
The \raisebox command allows us to play games:
fine-\raisebox{.5ex}{tun}\raisebox{-.5ex}{ing}
produces fine-tuning.
The \raisebox command has two optional arguments:
\raisebox{0ex}[1.5ex][0.75ex]{text }
forces LATEX to typeset text as if it extended 1.5 ex above and 0.75 ex below the line,
resulting in a change in the interline space above and below the line. A simple version
of this command, \smash, is discussed in Section 6.5.
In the AMS warning in the book <a href="shown on page 94">31</a>, the \raisebox command is used to properly center the bold A in the circle:
\Large\textcircled{\raisebox{.7pt}{\normalsize\textbf A}}</p>

<h2 id="4-text-environments">4 Text environments</h2>

<p>There are three types of text environments in LATEX:</p>

<ul>
<li>1. Displayed text environments; text within such an environment usually is typeset with some vertical space around it</li>
<li>2. Text environments that create a “large symbol”</li>
<li>3. Style and size environments</li>
</ul>

<p>在LATEX中有三种类型的文本环境：</p>

<ul>
<li>1. 显示文本的环境；这种环境中的文本通常是带有一些垂直空间的排版</li>
<li>2. 创建“大符号”的文本环境</li>
<li>3. 样式和大小环境</li>
</ul>

<p>We start by discussing a very important rule about blank lines in displayed text environments. Then we proceed in Section 4.2 to the most often used displayed text environments: lists. We continue with the style and size environments in Section 4.3.</p>

<p>我们首先讨论显示文本环境中关于空行的一个非常重要的规则。然后，我们将在第4.2节中继续介绍最常用的显示文本环境：列表。我们继续第4.3节中的样式和大小环境。</p>

<p>The most important displayed text environments in math are proclamations or theorem-like structures, proclamations with style, and the proof environment, discussed in detail in Sections 4.4 and 4.5.</p>

<p>数学中最重要的显示文本环境是声明或类似定理的结构、有风格的声明和证明环境，这些将在4.4和4.5节中详细讨论。</p>

<p>The tabular environment discussed in Section 4.6 produces a “large symbol”, a table, which is of limited use in math. In Section 4.7, we discuss the tabbing environment, which may be used for computer code. The legacy environments quote, quotation, and verse are discussed in Section 4.8, along with the verbatim environment, which is often used to display LATEX source in a typeset LATEX document.</p>

<p>第4.6节中讨论的表格环境产生了一个“大符号”，一个在数学中用处有限的表格。在第4.7节中，我们讨论了可用于计算机代码的制表环境。第4.8节讨论了遗留环境引用、引用和韵文，以及逐字环境，逐字环境通常用于在排版LATEX文档中显示LATEX源。</p>

<h3 id="4-1-some-general-rules-for-displayed-text-environments">4.1 Some general rules for displayed text environments</h3>

<p>As you know, blank lines play a special role in LATEX, usually indicating a paragraph
break. Since displayed text environments structure the printed display themselves, the
rules about blank lines are relaxed somewhat. However, a blank line trailing an environment signifies a new paragraph for the text following the environment.
Rule Blank lines in displayed text environments
1. Blank lines are ignored immediately after \begin{name } or immediately before
\end{name } except in a verbatim environment.
2. A blank line after \end{name } forces the text that follows to start a new paragraph.
3. As a rule, you should not have a blank line before \begin{name }.
4. The line after any theorem or proof always begins a new paragraph, even if there is
no blank line or \par command.
The page breaking commands in Section 3.7.3 apply to text environments, as does
the line breaking command \ discussed in Section 3.7.1.</p>

<h3 id="4-2-list-environments">4.2 List environments</h3>

<p>LATEX provides three list environments: enumerate, itemize, and description.
LATEX also provides a generic list environment that can be customized to fit your
needs. See Section 14.6 on custom lists.
Most document classes redefine the spacing and some stylistic details of lists, especially since the list environments in the legacy document classes are not very pleasing.
In this section, the list environments are formatted as they are by our standard document
class, amsart. Throughout the rest of the book, lists are formatted as specified by this
book’s designer.</p>

<h4 id="4-2-1-numbered-lists">4.2.1 Numbered lists</h4>

<p>A numbered list is created with the enumerate environment:</p>

<p>typed as
\noindent This space has the following properties:
\begin{enumerate}
\item Grade 2 Cantor\label{Cantor};
\item Half-smooth Hausdorff\label{Hausdorff};
\item Metrizably smooth\label{smooth}.
\end{enumerate}
Therefore, we can apply the Main Theorem.
Each item is introduced with an \item command. The numbers LATEX generates
can be labeled and cross-referenced (Section 8.4.2). This construct can be used in theorems and definitions, for listing conditions or conclusions.
If you use \item in the form \item[], you get an unnumbered item in the list,
while \item[a] replaces the number of the item with a. This is another form of absolute referencing, see Section 8.4.2.
Tip Do not label absolute references. It may lead to problems that are hard to explain.</p>

<h4 id="4-2-2-bulleted-lists">4.2.2 Bulleted lists</h4>

<p>A bulleted list is created with the itemize environment:
is typed as
\noindent We set out to accomplish a variety of goals:
\begin{itemize}
\item To introduce the concept of smooth functions.
\item To show their usefulness in differentiation.
\item To point out the efficacy of using smooth
functions in Calculus.
\end{itemize}</p>

<h4 id="4-2-3-captioned-lists">4.2.3 Captioned lists</h4>

<p>In a captioned list each item has a title (caption) specified by the optional argument of
the \item command. Such lists are created with the description environment:
is typed as
\noindent In this introduction, we describe
the basic techniques:
\begin{description}
\item[Chopped lattice] a reduced form of a lattice;
\item[Boolean triples] a powerful lattice construction;
\item[Cubic extensions] a subdirect power flattening
the congruences.
\end{description}</p>

<h4 id="4-2-4-a-rule-and-combinations">4.2.4 A rule and combinations</h4>

<p>There is only one rule you must remember.
Rule List environments
An \item command must immediately follow
\begin{enumerate}, \begin{itemize}, or \begin{description}.
Of course, spaces and line breaks can separate them.
If you break this rule, you get a message. For instance,
\begin{description}
This is wrong!
\item[Chopped lattice] a reduced lattice;
gives the message
! LaTeX Error: Something’s wrong--perhaps a missing \item.
l.105 \item[Chopped lattice]
a reduced lattice;</p>

<p>If you see this message, remember the rule for list environments and check for text
preceding the first \item.
You can nest up to four list environments; for instance,
which is typed as
\begin{enumerate}
\item First item of Level 1.
\begin{enumerate}
\item First item of Level 2.
\begin{enumerate}
\item First item of Level 3.
\begin{enumerate}
\item First item of Level 4.
\item Second item of Level 4.\label{level4}
\end{enumerate}
\item Second item of Level 3.
\end{enumerate}
\item Second item of Level 2.
\end{enumerate}
\item Second item of Level 1.
\end{enumerate}
Referencing the second item of Level 4: \ref{level4}
Note that the label level4 collected all four of the counters (see Section 8.4.2).</p>

<p>You can also mix list environments:
which is typed as
\begin{enumerate}
\item First item of Level 1.
\begin{itemize}
\item First item of Level 2.
\begin{enumerate}
\item First item of Level 3.
\begin{itemize}
\item First item of Level 4.
\item Second item of Level 4.\label{enums}
\end{itemize}
\item Second item of Level 3.
\end{enumerate}
\item Second item of Level 2.
\end{itemize}
\item Second item of Level 1.
\end{enumerate}
Referencing the second item of Level 4: \ref{enums}
Now the label enums collects only the two enumerate counters (see Section 8.4.2).
The indentations are, of course, not needed. I use them to keep track of the level
of nesting.
In all three types of list environment, the \item command may be followed by an
optional argument, which is displayed at the beginning of the typeset item:
\item[label ]
Note that for enumerate and itemize the resulting typography may leave something
to be desired.</p>

<p>Tip If the text following an \item command starts with an opening square bracket, [, then
LATEX thinks that \item has an optional argument. To prevent this problem from occurring, type [ as {[}. Similarly, a closing square bracket, ], inside the optional argument
should be typed as {]}.
Tip You may want to use a list environment solely for the way the items are displayed,
without any labels. You can achieve this effect by using \item[].
You can change the style of the numbers in an enumerate environment by redefining the counter as suggested in Section 14.5.1:
\renewcommand{\labelenumi}{{\normalfont (\roman{enumi})}}
The labels then are displayed as (i), (ii), and so on. This modification only works if you
do not want to reference these items. If you want the \ref command to work properly,
use David Carlisle’s enumerate package (see Section 10.3.1). For an example of how
to use Carlisle’s environment, see Section 14.2.1. Section 3.3 of The LATEX Companion,
2nd edition [56] explains how to customize the three list environments and discusses
Bernd Schandl’s paralist package, which provides a number of new list environments
and makes customizing the three legacy list environments much easier. For custom lists,
see Section 14.6.</p>

<h3 id="4-3-style-and-size-environments">4.3 Style and size environments</h3>

<p>There are several text environments that allow you to set font characteristics. They have
the same names as their corresponding command declarations:
rmfamily sffamily ttfamily
upshape itshape em slshape scshape
bfseries
For instance,
\begin{ttfamily}
text
\end{ttfamily}
typesets text just like {\ttfamily text } would. Remember to use the commanddeclaration names for the environment names, that is, use rmfamily, not textrm and
ttfamily, not texttt (see 3.6.2). There are also text environments for changing the
font size, from tiny to Huge (see Section 3.6.6).</p>

<p>If you are getting overwhelmed by the large number of environments changing
style and size, consult Tables 3.6 and 3.7 (see also Section B.3.2).
Horizontal alignment of a paragraph is controlled by the flushleft, flushright, and center environments. Within the flushright and center environments,
it is customary to force new lines with the \ command, while in the flushleft environment, you normally allow LATEX to wrap the lines.
These text environments can be used separately or in combination, as in
The simplesttext environments set the printing style and size.
The commands and the environments have similar names.
typed as
\begin{flushright}
The \begin{bfseries}simplest\end{bfseries}
text environments set the
printing style and size.<br />
The commands and the environments have similar names.
\end{flushright}
There are command declarations that correspond to these environments:
\centering centers text
\raggedright left aligns text
\raggedleft right aligns text
The effect of one of these commands is almost the same as that of the corresponding
environment except that the environment places additional vertical space before and
after the displayed paragraphs. For such a command declaration to affect the way a
paragraph is formatted, the scope must include the whole paragraph, including the blank
line at the end of the paragraph, preferably indicated with a \par command.
The \centering command is used often with the \includegraphics command
(see Section 8.4.3).</p>

<h3 id="4-4-proclamations-theorem-like-structures">4.4 Proclamations (theorem-like structures)</h3>

<p>Theorems, lemmas, definitions, and so forth are a major part of mathematical writing.
In LATEX, these constructs are typed in displayed text environments called proclamations
or theorem-like structures.
In the firstarticle.tex sample article (see p. 4), there is only a single theorem.
In the secondarticle.tex sample article (see pp. 272–275), there are a number of different proclamations in a variety of styles, with varying degrees of emphasis.
Proclamations with style are discussed in Section 4.4.2.</p>

<p>The two steps are required to use a proclamation:
Step 1 Define the proclamation with a \newtheorem command in the preamble
of the document. For instance, the line
\newtheorem{theorem}{Theorem}
defines a theorem environment.
Step 2 Invoke the proclamation as an environment in the body of your document.
Using the proclamation definition from Step 1, type
\begin{theorem}
My first theorem.
\end{theorem}
to produce a theorem:
Theorem 1. My first theorem.
In the proclamation definition
\newtheorem{theorem}{Theorem}
the first argument, theorem, is the name of the environment that invokes the theorem.
The second argument, Theorem, is the name that is used when the proclamation is
typeset. LATEX numbers the theorems automatically and typesets them with vertical
space above and below. The phrase Theorem 1. appears, followed by the theorem
itself, which may be emphasized. Of course, the formatting of the theorem depends on
the document class and the proclamation style (see Section 4.4.2).
You may also specify an optional argument,
\begin{theorem}[The Fuchs-Schmidt Theorem]
The statement of the theorem.
\end{theorem}
that appears as the name of the theorem:
Theorem 1 (The Fuchs-Schmidt Theorem). The statement of the theorem.
LATEX is very fussy about how proclamations are defined. For example, in the introductory article firstarticle.tex (see Section 1.8), if the closing brace is dropped
from the end of line 8,
\newtheorem{definition}{Definition
you get a message such as</p>

<p>Runaway argument?
{Definition \newtheorem {notation}{Notation}
! Paragraph ended before \@ynthm was complete.
<to be read again>
\par
l.10
Line 10 is the line after the \newtheorem commands. The message conveys the information that something is wrong in the paragraph before line 10.
If you forget an argument, as in
\newtheorem{definition}
LATEX produces a message such as
! LaTeX Error: Missing \begin{document}.
l.9 \newtheorem{n
otation}{Notation}
In the message, the line
! LaTeX Error: Missing \begin{document}.
usually means that LATEX became confused and believes that some text typed in the
preamble should be moved past the line
\begin{document}
The mistake could be anywhere in the preamble above the line LATEX indicates. If you
encounter such a message, try to isolate the problem by commenting out parts of the
preamble (see Section 3.5.1 and also Section 2.6).
Rule Lists in proclamations
If a proclamation starts with a list environment, precede the list by \hfill.</p>

<p>If you do not, as in
\begin{definition}\label{D:prime}
\begin{enumerate}
\item $u$ is \emph{bold} if $u = x^2$.\label{mi1}
\item $u$ is \emph{thin} if $u = \sqrt{x}$.\label{mi2}
\end{enumerate}
\end{definition}
your typeset list starts on the first line of the proclamation:
If you add the \hfill command,
\begin{definition}\hfill
\begin{enumerate}
the list in the definition typesets correctly:
Consecutive numbering
If you want to number two sets of proclamations consecutively, you can do so by first
defining one proclamation, and then using its name as an optional argument of the second proclamation. For example, to number the lemmas and propositions in your paper
consecutively, you type the following two lines in your preamble:
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}[lemma]{Proposition}
Lemmas and propositions are then consecutively numbered as Lemma 1, Proposition 2, Proposition 3, and so on.
Let me emphasize: The optional argument of a proclamation definition must be
the name of a proclamation that has already been defined.
Numbering within a section
The \newtheorem command may also have a different optional argument; it causes
LATEX to number the proclamations within sections. For example,</p>

<p>\newtheorem{lemma}{Lemma}[section]
numbers the lemmas in Section 1 as Lemma 1.1 and Lemma 1.2. In Section 2, you
have Lemma 2.1 and Lemma 2.2, and so on.
Instead of section, you may use any sectioning command provided by the document class, such as chapter, section, and subsection.
Consecutive numbering and numbering within a section can be combined. For
example,
\newtheorem{lemma}{Lemma}[section]
\newtheorem{proposition}[lemma]{Proposition}
sets up the lemma and proposition environments so that they are numbered consecutively within sections: Lemma 1.1, Proposition 1.2, Proposition 1.3 and Proposition 2.1, Lemma 2.2, and so on.</p>

<h4 id="4-4-1-the-full-syntax">4.4.1 The full syntax</h4>

<p>The full form of \newtheorem is
\newtheorem{envname }[procCounter ]{Name }[secCounter ]
where the two optional arguments are mutually exclusive, and
envname is the name of the environment to be used in the body of the document.
For instance, you may use theorem for the envname of a theorem, so that a
theorem is typed inside a theorem environment. Of course, envname is just
a label; you are free to choose any environment name, such as thm or george
(as long as the name is not in use as the name of another command or environment). This argument is also the name of the counter LATEX uses to number these
text environments.
procCounter is an optional argument. It sets the new proclamation to use the counter
of a previously defined proclamation and the two proclamations are consecutively
numbered.
Name is the text that is typeset when the proclamation is invoked. So if Theorem is
given as Name, then you getTheorem 1, Theorem 2, and so on in your document.
secCounter is an optional argument that causes the Name environments to be numbered within the appropriate sectioning units. So if theorem is the envname and
section is the secCounter, then in Section 1 you have Theorem 1.1, Theorem 1.2, and so on. In Section 2 you get Theorem 2.1, Theorem 2.2, and so
on. Proclamations may be numbered within subsections, sections, chapters, or
any other sectioning unit automatically numbered by LATEX.</p>

<h4 id="4-4-2-proclamations-with-style">4.4.2 Proclamations with style</h4>

<p>You can choose one of three styles for your proclamations by preceding the definitions
with the \theoremstyle{style} command, where style is one of the following:
plain, the most emphatic
definition
remark, the least emphatic
There are a few extra options, including the \newtheorem* command, an unnumbered version of \newtheorem.
The following commands set the styles in the secondarticle.tex article. The
typeset sample article (on pages 272–275) shows how the chosen styles affect the typeset
proclamations.
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem<em>{main}{Main Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}
\theoremstyle{definition}
\newtheorem{definition}{Definition}
\theoremstyle{remark}
\newtheorem</em>{notation}{Notation}
A proclamation created by a \newtheorem command has the style of the last
\theoremstyle command preceding it. The default style is plain.
Three examples
Here are three sets of proclamation definitions to illustrate different styles and numbering schemes.
Example 1
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{corollary}[theorem]{Corollary}</p>

<p>In a document with this set of proclamation definitions you can use theorems,
lemmas, definitions, and corollaries, typeset in the most emphatic (plain) style. They
are all numbered consecutively: Definition 1, Definition 2, Theorem 3, Corollary 4,
Lemma 5, Lemma 6, Theorem 7, and so on.
Example 2
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newtheorem<em>{main}{Main Theorem}
\newtheorem{definition}{Definition}[section]
\newtheorem{lemma}[definition]{Lemma}
\theoremstyle{definition}
\newtheorem</em>{Rule}{Rule}
In this document you may use theorems, definitions, and lemmas in the most emphatic (plain) style, and unnumbered rules in the less emphatic (definition) style.
Definitions and lemmas are numbered consecutively within sections. You may also
use the unnumbered Main Theorem. So, for example, you may have Definition 1.1,
Definition 1.2, Main Theorem, Rule, Lemma 1.3, Lemma 2.1, Theorem 1, and
so on.
Example 3
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem<em>{main}{Main Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}
\theoremstyle{definition}
\newtheorem{definition}{Definition}
\theoremstyle{remark}
\newtheorem</em>{notation}{Notation}
With these proclamation definitions you can use theorems, corollaries, lemmas,
and propositions in the most emphatic (plain) style, and an unnumbered Main
Theorem. You can have definitions in the less emphatic (definition) style. All are
separately numbered. So in the document you may have Definition 1, Definition 2,
Main Theorem, Lemma 1, Proposition 1, Lemma 2, Theorem 1, Corollary 1,
and so on. You can also have Notations which are unnumbered and typeset in the least
emphatic (remark) style.</p>

<p>Number swapping
Proclamations can be numbered on the left, as for instance, 3.2 Theorem. To accomplish this, type the \swapnumbers command before the \newtheorem command corresponding to the proclamation definition you want to change. This command affects
all of the proclamation definitions that follow it, so the proclamation definitions in the
preamble should be in two groups. The regular ones should be listed first, followed by
the \swapnumbers command, then all the proclamations that swap numbers.
Do not swap numbers unless the publisher demands it.
Custom theorem styles
You can define custom theorem styles with the \newtheoremstyle command. You
should very seldom do this, the three theorem styles of the document class should suffice. For more detail, see [5].</p>

<h3 id="4-5-proof-environments">4.5 Proof environments</h3>

<p>A proof is the contents of a proof environment. For instance,
Proof. This is a proof, delimited by the q.e.d. symbol.
typed as
\begin{proof}
This is a proof, delimited by the q.e.d.\ symbol.
\end{proof}
A proof is set off from the surrounding text with some vertical space. The end of
the proof is marked with the symbol at the end of the line. There are a few examples
of the proof environment in the secondarticle.tex sample article (pages 268–275).
We start with the same rule for proofs as we have for proclamations on page 106.
Rule Lists in proofs
If a proof starts with a list environment, precede the list by \hfill.
If you want to suppress the symbol at the end of a proof, give the command</p>

<p>\begin{proof}
...
\renewcommand{\qedsymbol}{}
\end{proof}
To suppress the end of the proof symbol in the whole article, give the
\renewcommand{\qedsymbol}{}
command in the preamble.
To substitute another phrase for Proof, such as Necessity, as in
Necessity. This is the proof of necessity.
use the proof environment with an optional argument:
\begin{proof}[Necessity]
This is the proof of necessity.
\end{proof}
The optional argument may contain a reference, as in
\begin{proof}[Proof of Theorem~\ref{T:smooth}]
which might be typeset as
Proof of Theorem 5. This is the proof.
It is easy to make the mistake of placing the optional argument after \begin:
\begin[Proof of Theorem~\ref{T:P*}]{proof}
You get a message
! LaTeX Error: Bad math environment delimiter.
l.91 \begin{equation}
\label{E:cong2}
which is not very helpful.
There is a problem with the placement of the q.e.d. symbol if the proof ends with
a displayed formula (or a list environment). For instance,
\begin{proof}
Now the proof follows from the equation
[
a^2 = b^2 + c^2.
]
\end{proof}</p>

<p>typesets as
Proof. Now the proof follows from the equation
𝑎2 = 𝑏2 + 𝑐2.
To correct the placement of the q.e.d. symbol, use the \qedhere command:
\begin{proof}
Now the proof follows from the equation
[
a^2 = b^2 + c^2.\qedhere
]
\end{proof}
which typesets as
Proof. Now the proof follows from the equation
𝑎2 = 𝑏2 + 𝑐2.</p>

<h3 id="4-6-tabular-environments">4.6 Tabular environments</h3>

<p>A tabular environment creates a table that LATEX treats as a “large symbol”. In particular, a table cannot be broken across pages.
Here is a simple table,
Name 1 2 3
Peter 2.45 34.12 1.00
John 0.00 12.89 3.71
David 2.00 1.85 0.71
, typeset inline. This
looks awful, but it does make the point that the table is just a “large symbol”. The
table is typed as
\begin{tabular}{ |l|r|r|r|}
\hline
Name &amp; 1 &amp; 2 &amp; 3 \ \hline
Peter &amp; 2.45 &amp; 34.12 &amp; 1.00\ \hline
John &amp; 0.00 &amp; 12.89 &amp; 3.71\ \hline
David &amp; 2.00 &amp; 1.85 &amp; 0.71\ \hline
\end{tabular}</p>

<p>Name 1 2 3
Peter 2.45 34.12 1.00
John 0.00 12.89 3.71
David 2.00 1.85 0.71
Table 4.1: Tabular table.
with no blank line before or after the environment.
This table can be horizontally centered with a center environment (see Section 4.3). It can also be placed within a table environment (see Section 8.4.3). This sets
the table off from the surrounding text with vertical space and you can also use the float
controls b, t, h, p to specify where the table should appear (see Section 8.4.3). This
also allows you to define a caption, which can be placed before or after the table.
\begin{table}
\begin{center}
\begin{tabular}{ |l|r|r|r|}
\hline
Name &amp; 1 &amp; 2 &amp; 3 \ \hline
Peter &amp; 2.45 &amp; 34.12 &amp; 1.00\ \hline
John &amp; 0.00 &amp; 12.89 &amp; 3.71\ \hline
David &amp; 2.00 &amp; 1.85 &amp; 0.71\ \hline
\end{tabular}
\caption{Tabular table.}\label{Ta:first}
\end{center}
\end{table}
This table is displayed as Table 4.1. It can be listed in a list of tables (see Section 8.4.3)
and the table number may be referenced using the command \ref{Ta:first}. Note
that the label must be typed between the caption and the \end{table} command.
For another example, look at the two tables in the fonttbl.tex file in your
samples folder. The first is typed as
\begin{tabular}{r|l|l|l|l|l|l|l|l|l|l}
&amp; 0 &amp; 1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; 6 &amp; 7 &amp; 8 &amp; 9\ \hline
0&amp; \symbol{0} &amp;\symbol{1}&amp;\symbol{2}&amp;\symbol{3}&amp;
\symbol{4}&amp;\symbol{5}&amp;\symbol{6}&amp;\symbol{7}&amp;
\symbol{8}&amp;\symbol{9}\ \hline
...
120&amp; \symbol{120} &amp;\symbol{121}&amp;\symbol{123}&amp;
\symbol{123}&amp;\symbol{124}&amp;\symbol{125}&amp;\symbol{126}</p>

<p>&amp;\symbol{127} &amp;&amp; \ \hline
\end{tabular}
The second table is the same except that the numbers run from 128 to 255. The typeset
table is shown in Section 3.4.4.
Rule tabular environments
1. \begin{tabular} requires an argument consisting of a character l, r, or c,
meaning left, right, or center alignment, for each column, and optionally, the | symbols. Each | indicates a vertical line in the typeset table. Spaces in the argument are
ignored but can be used for readability.
2. Columns are separated by ampersands (&amp;) and rows are separated by \.
3. &amp; absorbs spaces on either side.
4. The \hline command creates a horizontal rule in the typeset table. It is placed
either at the beginning of the table (after the \begin line) or it must follow a <br />
command.
5. If you use a horizontal line to finish the table, you must separate the last row of the
table from the \hline command with the \ command.
6. \begin{tabular} takes an optional argument, b or t, to specify the bottom or the
top vertical alignment of the table with the baseline. The default is center alignment.
Remember to put the optional argument b or t in square brackets, as in
\begin{tabular}[b]{ |l|r|r|r|}
If you forget to place an \hline command right after \ in the last row, you get a
message such as
! Misplaced \noalign.
\hline -&gt;\noalign
{\ifnum 0=‘}\fi \hrule \@height
\arrayrulew...
l.9 ....00 &amp; 1.85 &amp; 0.71 \hline
More column-formatting commands
The required argument of the tabular environment may contain column-formatting
commands of various types.
An @-expression, for instance, @{.}, replaces the space LATEX normally inserts
between two columns with its argument. For example,</p>

<p>\begin{tabular}{r @{.} l}
3&amp;78<br />
4&amp;261<br />
4
\end{tabular}
creates a table with two columns separated by a decimal point. In effect, you get a
single, decimal-aligned column:
3.78
4.261
4.
This example is an illustration. You should use David Carlisle’s dcolumn package
if you need a decimal-aligned column (see Section 10.3.1).
The width of a column depends on the entries in the column by default. You can
specify a width by using the p column specifier:
p{width }
For instance, if you want the first column of Table 4.1 to be 1 inch wide, then type
\begin{tabular}{ | p{1in}|r|r|r| }\hline
Name &amp; 1 &amp; 2 &amp; 3 \ \hline
Peter &amp; 2.45 &amp; 34.12 &amp; 1.00\ \hline
John &amp; 0.00 &amp; 12.89 &amp; 3.71\ \hline
David &amp; 2.00 &amp; 1.85 &amp; 0.71\ \hline
\end{tabular}
which typesets as
Name 1 2 3
Peter 2.45 34.12 1.00
John 0.00 12.89 3.71
David 2.00 1.85 0.71
To center the items in the first column, precede each item with a \centering command
(see Section 4.3). Note that the first column is actually somewhat over 1 inch wide,
because of the extra space provided around the column boundaries.
The p column specifier can also be used for multiline entries.</p>

<p>Refinements
\hline draws a horizontal line the whole width of the table. \cline{a-b } draws
a horizontal line from column a to column b. For instance,
\cline{1-3} or \cline{4-4}
Another useful command is \multicolumn, which is used to span more than one column, for example,
\multicolumn{3}{c}{\emph{absent}}
The first argument is the number of columns spanned by the entry, the second is the
alignment (an optional vertical line designator | for this row only can also be included),
and the third argument is the entry. Note that the entry for the spanned columns is in
braces. An example is shown in Table 4.2, typed as follows:
\begin{table}[h!]
\begin{center}
\begin{tabular}{ |l|r|r|r|} \hline
Name &amp; 1 &amp; 2 &amp; 3\ \hline
Peter &amp; 2.45 &amp; 34.12 &amp; 1.00\ \hline
John &amp; \multicolumn{3}{c |}{\emph{absent}}<br />
\hline
David &amp; 2.00 &amp; 1.85 &amp; 0.71\ \hline
\end{tabular}
\caption{Table with \bsl\texttt{multicolumn}.}
\label{Ta:mc}
\end{center}
\end{table}
The next example, shown in Table 4.3, uses the \multicolumn and \cline
commands together:
\begin{table}[t]
\begin{center}
\begin{tabular}{ | c c |c|r|} \hline
Name &amp; Month &amp; Week &amp; Amount\ \hline
Peter &amp; Jan. &amp; 1 &amp; 1.00\ \cline{3-4}
&amp; &amp; 2 &amp; 12.78\ \cline{3-4}
&amp; &amp; 3 &amp; 0.71\ \cline{3-4}
&amp; &amp; 4 &amp; 15.00\ \cline{2-4}
&amp; \multicolumn{2}{| l}{Total} &amp; 29.49<br />
\hline
John &amp; Jan. &amp; 1 &amp; 12.01\ \cline{3-4}
&amp; &amp; 2 &amp; 3.10\ \cline{3-4}</p>

<p>&amp; &amp; 3 &amp; 10.10\ \cline{3-4}
&amp; &amp; 4 &amp; 0.00\ \cline{2-4}
&amp; \multicolumn{2}{| l}{Total} &amp; 25.21<br />
\hline
\multicolumn{3}{|l}{Grand Total} &amp; 54.70<br />
\hline
\end{tabular}
\caption{Table with \bsl\texttt{multicolumn}
and \bsl\texttt{cline}.}\label{Ta:multicol+cline}
\end{center}
\end{table}
The \parbox command (see Section 3.9.3) can be used to produce a single multiline entry. Recall that the first argument of \parbox is the width of the box. A p{}
width designator creates a column in which all entries can be multiline. As an example,
to replace Grand Total by Grand Total for Peter and John, type the last line as
\multicolumn{3}{l}{ \parbox[b]{10em}{Grand Total<br />
for Peter and John} } &amp; 54.70\ \hline
Note the use of the bottom alignment option (see Section 3.9.3). The last row of the
Name 1 2 3
Peter 2.45 34.12 1.00
John absent
David 2.00 1.85 0.71
Table 4.2: Table with \multicolumn.
Name Month Week Amount
Peter Jan. 1 1.00
2 12.78
3 0.71
4 15.00
Total 29.49
John Jan. 1 12.01
2 3.10
3 10.10
4 0.00
Total 25.21
Grand Total 54.70
Table 4.3: Table with \multicolumn and \cline.</p>

<p>modified table prints
Grand Total
for Peter and John 54.70
The spacing above Grand Total is not quite right. It can be adjusted with a strut
(see Section 3.9.5),
\parbox[b]{10em}{\strut Grand Total<br />
for Peter and John:}
Finally, vertical spacing can be adjusted by redefining \arraystretch. For instance, in the table
Area Students
5th Grade: 63.4 m2 22
6th Grade: 62.0 m2 19
Overall: 62.6 m2 20
typed as
\begin{center}
\begin{tabular}{|r|c|c|}\hline
&amp; \textbf{Area} &amp; \textbf{Students}\ \hline
\textbf{5th Grade}: &amp; 63.4 m\textsuperscript{2} &amp;22<br />
\hline
\textbf{6th Grade}: &amp; 62.0 m\textsuperscript{2} &amp;19<br />
\hline
\textbf{Overall}: &amp; 62.6 m\textsuperscript{2} &amp;20<br />
\hline
\end{tabular}
\end{center}
you may find that the rows are too crowded. The vertical spacing may be adjusted by
adding the line
\renewcommand{\arraystretch}{1.25}
to the tabular environment. To limit its scope, add it after
\begin{center}</p>

<p>The adjusted table is typeset as
Area Students
5th Grade: 63.4 m2 22
6th Grade: 62.0 m2 19
Overall: 62.6 m2 20
In some tables, horizontal and vertical lines do not always intersect as desired. Fine
control over these intersections is provided by the hhline package (see
Section 10.3.1).
Chapter 5 of The LATEX Companion, 2nd edition [56] deals with tabular material,
discussing many extensions, including multipage tables, decimal-point alignment, footnotes in tables, tables within tables, and so on.</p>

<h4 id="4-6-1-table-styles">4.6.1 Table styles</h4>

<p>LATEX can draw double horizontal and vertical lines in tables with ease. As a result,
there are far too many double lines in LATEX tables, resulting in cluttered and confusing
tables. The Chicago Manual of Style, 15th edition [11] has almost 80 pages on tables.
For simple tables it advocates a simple style, as shown in Table 4.4. Notice
the generous space above and below the column heads, which has been achieved with
the command \rule[-8pt]{0pt}{22pt} \rule[-8pt]{0pt}{22pt}
some extra space above the first line of data, which has been achieved with the command \rule{0pt}{14pt}
the columns of equal width, which has been achieved with p{70pt} commands,
no vertical lines.
Most tables in this book have been designed according to this style using Simon
Fear’s booktabs package (see Section D.1).
Table 4.4: Smokers and Nonsmokers, by Sex.
Smoke Don’t Smoke Total
Males 1,258 2,104 3,362
Females 1,194 2,752 3.946
Total 2,452 4,856 7,308</p>

<h3 id="4-7-tabbing-environments">4.7 Tabbing environments</h3>

<p>Although of limited use for mathematical typesetting, the tabbing environment can
be useful for typing algorithms, computer programs, and so forth. LATEX calculates
the width of a column in the tabular environment based on the widest entry (see
Section 4.6). The tabbing environment allows you to control the width of the columns.
The \ command is the line separator, tab stops are set by \= and are remembered
by LATEX in the order they are given, and &gt; moves to the next tab position.
You can easily reset tab positions. For instance, if you are past the second tab
position by using &gt; twice, and there is a third tab position, the \= command resets it.
Lines of comments may be inserted with the \kill command, see the examples
below, or with the % character. The difference is that a line with \kill can be used to
set tab stops, whereas a commented out line cannot.
A simple example:
PrintTime
Block[timing],
timing = Timing[expr];
Print[ timing[[1]] ];
]
End[ ]
typed as
{\ttfamily
\begin{tabbing}
Print\=Time<br />
&gt;Block\=[timing,<br />
&gt;&gt;timing = Timing[expr];<br />
(careful with initialization)\kill
&gt;&gt;Print[ timing[[1]] ];<br />
&gt;]<br />
End[]
\end{tabbing}
}% end \ttfamily
An alternative method is to use a line to set the tab stops, and then \kill the line
so it does not print:
{\ttfamily
\begin{tabbing}
\hspace*{.25in}\=\hspace{2ex}\=\hspace{2ex}\=</p>

<p>\hspace{2ex}\kill
&gt; $k := 1$<br />
&gt; $l_k := 0$; $r_k := 1$<br />
&gt; loop<br />
&gt; &gt; $m_k := (l_k + r_k)/2$<br />
&gt; &gt; if $w &lt; m_k$ then<br />
&gt; &gt; &gt; $b_k := 0$; $r_k := m_k$<br />
&gt; &gt; else if $w &gt; m_k$ then<br />
&gt; &gt; &gt; $b_k := 1$; $l_k := m_k$<br />
&gt; &gt; end if<br />
&gt; &gt; $k := k + 1$<br />
&gt; end loop
\end{tabbing}
}% end \ttfamily
which typesets as
𝑘 ∶= 1
𝑙𝑘 ∶= 0; 𝑟𝑘 ∶= 1
loop
𝑚𝑘 ∶= (𝑙𝑘 + 𝑟𝑘)∕2
if 𝑤&lt;𝑚𝑘 then
𝑏𝑘 ∶= 0; 𝑟𝑘 ∶= 𝑚𝑘
else if 𝑤&gt;𝑚𝑘 then
𝑏𝑘 ∶= 1; 𝑙𝑘 ∶= 𝑚𝑘
end if
𝑘 ∶= 𝑘 + 1
end loop
Some simple rules:
There is no \ command on a line containing the \kill command.
You may set the tabs in a \kill line with \hspace commands.
The &gt; command moves to the next tab stop, even if the text you have already typed
extends past that stop, which can result in overprinting.
The tabbing environment has to be typeset with typewriter style font—note the
\ttfamily command.</p>

<p>To illustrate the third rule, type
\begin{tabbing}
This is short.\=<br />
This is much longer, &gt; and jumps back.
\end{tabbing}
which typesets as
This is short.
This is much longer, and jumps back.
If you do not follow the fourth rule, be careful with your tabbing. You do not really
have to use typewriter style font—just beware of the pitfalls.
There are a number of packages that help type programming code. I mention here
only two: listings and program. For more information, please consult Chapter 5 of
The LATEX Companion, 2nd edition [56].</p>

<h3 id="4-8-miscellaneous-displayed-text-environments">4.8 Miscellaneous displayed text environments</h3>

<p>There are four more displayed text environments, of limited use in math:
quote, quotation, verse, and verbatim.
We also discuss an inline version of the verbatim environment, the \verb command.
Quotes
The quote environment is used for short (one paragraph) quotations:
which is typed as:
\begin{quote}
It’s not that I’m afraid to die. I just don’t
want to be there when it happens.
\emph{Woody Allen}
Literature is news that STAYS news.
\emph{Ezra Pound}
\end{quote}
Note that multiple quotes are separated by blank lines.</p>

<p>Quotations
In the quotation environment, blank lines mark new paragraphs:
is typed as
\begin{quotation}
KATH: Can he be present at the birth of his child?
ED: It’s all any reasonable child can expect
if the dad is present at the conception.
\begin{flushright}
\emph{Joe Orton}
\end{flushright}
\end{quotation}
Verses
A verse environment,
is typed as
\begin{verse}
I think that I shall never see<br />
A poem lovely as a tree.
Poems are made by fools like me,<br />
But only God can make a tree.
\begin{flushright}
\emph{Joyce Kilmer}</p>

<p>\end{flushright}
\end{verse}
Lines are separated by \ and stanzas by blank lines. Long lines are typeset with
hanging indent.
Verbatim typesetting
Finally, there is the verbatim text environment. You may need it if you write about
LATEX or some other computer programming language or if you have to include portions
of a source file or user input in your typeset work. Most of the displayed source in this
book was written in a verbatim environment. For instance, you may have to write to
a journal about an article you are proofreading:
Formula (2) in Section 3 should be typed as follows:
\begin{equation}
D = { x_0 \mid x_0 \Rightarrow a_1 } \tag{2}
\end{equation}
Please make the necessary corrections.
The problem is that if you just type
Formula (2) in Section 3 should be typed as follows:
\begin{equation}
D = { x_0 \mid x_0 \Rightarrow a_1 } \tag{2}
\end{equation}
Please make the necessary corrections.
it typesets as
Formula (2) in Section 3 should be typed as follows:
(2) 𝐷 = {𝑥0 ∣ 𝑥0 ⇒ 𝑎1}
Please make the necessary corrections.
To get the proper typeset form, type it as follows:
Formula (2) in Section 3 should be typed as follows:
\begin{verbatim}
\begin{equation}
D = { x_0 \mid x_0 \Rightarrow a_1 } \tag{2}</p>

<p>\end{equation}
\end{verbatim}
Please make the necessary corrections.
Rule verbatim text environments
A verbatim environment cannot be placed within
Another verbatim environment
The argument of a command
The closing line, \end{verbatim}, must be on a line by itself.
A violation of the first rule results in unmatched environment delimiters. You get
an error message such as
! \begin{document} ended by \end{verbatim}.
A violation of the second rule gives an error message such as
! Argument of \@xverbatim has an extra }.
Tip There are two traps to avoid when using the verbatim environment.
1. If the \end{verbatim} line starts with spaces, a blank line is added to the typeset
version.
2. Any characters following \end{verbatim} on the same line are dropped and you
get a LATEX warning.
To illustrate the first trap, type the last two lines of the previous example as follows:
␣\end{verbatim}
Please make the necessary corrections.
Then you find an unintended blank line before the last line.
The second trap can be seen if you type the last line of the above example as
\end{verbatim} Please make the necessary corrections.
When typeset, Please make the necessary corrections. does not appear, and you
receive a warning
LaTeX Warning: Characters dropped after
‘\end{verbatim}’ on input line 17.</p>

<p>The verbatim package provides several improved versions of the verbatim environment (see Section 10.3.1). To use this package, include the command
\usepackage{verbatim}
in the preamble. In fact, the rules discussed in this section are those of the verbatim
package.
The verbatim environment has some interesting variants and a number of them
are discussed in Section 3.4 of The LATEX Companion, 2nd edition [56]. For instance,
the alltt package, which is part of the standard LATEX distribution (see Section 10.3)
is used to type the command syntax in this book. See the full syntax of \newtheorem
on page 108 for an example.
Verbatim typesetting inline
The verbatim environment also has an inline version called \verb. Here is an example:
Some European e-mail addresses contain \%;
recall that you have to type \verb+\%+ to get \%.
which prints
Some European e-mail addresses contain %; recall that you have to type
\% to get %.
The character following the \verb command is a delimiter. In this example, I have
used +. The argument starts with the character following the delimiter, and it is terminated by the next occurrence of the delimiter. In this example, the argument is \%.
Choose the delimiter character carefully. For instance, if you want to typeset
$\sin(\pi/2 + \alpha)$
verbatim, and you type
\verb+$\sin(\pi/2 + \alpha)$+
then you get the message
! Missing $ inserted.
<inserted text>
$
l.5 \verb+$\sin(\pi/2 + \alpha
)$+
Indeed, the argument of \verb is $\sin(\pi/2 because the second + terminates the
\verb command. Then LATEX tries to typeset \alpha)$+, but cannot because it is not
in math mode. Use another character, such as !, in place of +:
\verb!$\sin(\pi/2 + \alpha)$!</p>

<p>Rule verb command
The entire \verb command must be on a single line of your source file.
There can be no space between the \verb command and the delimiter.
The \verb command cannot appear in the argument of another command.
The \verb command cannot be used within an aligned math environment.
Do not use * as a delimiter.
If you violate the first rule, as in
\verb!$\sin(\pi/2 +
\alpha)$!
you get the message
! LaTeX Error: \verb command ended by end of line.
l.6 \verb!$\sin(\pi/2 +
The \verb command has a <em>-ed version which prints spaces as ␣ symbols. For
example, \today␣the is typed as \verb</em>+\today the+.
The \verb command can perform the function of the verbatim environment.
The last message, which was displayed in a verbatim environment, may be typed as
follows:
you get the message\[8pt]
\verb|! LaTeX Error: \verb command ended by end of line.|<br />
\verb| |<br />
\verb|l.6 \verb!$\sin(\pi/2 +|\[8pt]
Rule Simulating verbatim with verb
1. End the line before the verbatim environment with \[8pt].
2. Each line xxx of the verbatim environment is placed in the construct:
\verb|xxx |
If | occurs in xxx, then choose a different delimiter.</p>

<ol>
<li>The last line yyy of the verbatim environment is placed in the construct:
\verb|yyy |\[8pt]
If | occurs in yyy, then choose a different delimiter.
However, simulating verbatim with verb takes away the flexibility verbatim provides in displaying the page.</li>
</ol>

<h2 id="5-typing-math">5 Typing math</h2>

<p>LATEX was designed for typesetting math. I address this topic in detail. A math formula can be typeset inline, as part of the current paragraph, or displayed, on a separate line or lines with vertical space before and after the formula.</p>

<p>LATEX是为排版数学设计的。我将详细讨论这个主题。数学公式可以内联排版，作为当前段落的一部分，也可以显示在单独的行或公式前后有垂直空格的行上。</p>

<p>In this and the next chapter we discuss formulas that are set inline or displayed on a single line. In Chapter 7 we address multiline math formulas. We start with a discussion of LATEX’s basic math environments (Section 5.1), spacing rules in math (Section 5.2), and continue with the equation environment (Section 5.3).</p>

<p>在本章和下一章中，我们将讨论如何将公式内联或显示在单行上。在第7章中，我们讨论了多行数学公式。我们首先讨论LATEX的基本数学环境(第5.1节)、数学中的间距规则(第5.2节)，然后继续讨论等式环境(第5.3节)。</p>

<p>The basic constructs of a formula—arithmetic (including subscripts and superscripts), binomial coefficients, ellipses, integrals, roots, and text—are discussed in detail in Section 5.4. From the basic constructs of that section, you can build very complicated formulas, one step at a time. The process is illustrated in Section 5.9.</p>

<p>公式的基本结构—算术(包括下标和上标)、二项式系数、椭圆、积分、根和文本—将在5.4节中详细讨论。从该部分的基本构造开始，您可以一步一步地构建非常复杂的公式。第5.9节说明了这一过程。</p>

<p>Delimiters, operators, and math accents are dealt with in Sections 5.5–5.7. In Section 5.8, we discuss three types of stretchable horizontal lines that can be used above or below a formula: braces, bars, and arrows. There are also stretchable arrow math symbols.</p>

<p>分隔符、运算符和数学重音符号将在第5.5-5.7节中讨论。在5.8节中，我们讨论了三种可伸缩的水平线，它们可以在公式的上方或下方使用：大括号、横杠和箭头。还有可伸缩的箭头数学符号。</p>

<p>Section 5.10 is our Formula Gallery, in which you find a large number of illustrations, some straightforward, some more imaginative, of the math constructs introduced in the preceding sections.</p>

<p>第5.10节是我们的公式图库，您可以在其中找到大量的插图，其中有些是前面几节介绍的数学结构，有些比较直观，有些比较有想象力。</p>

<h3 id="5-1-math-environments">5.1 Math environments</h3>

<p>A formula in a LATEX document can be typeset inline, like the congruence 𝑎 ≡ 𝑏 (𝜃) or
the integral ∫ ∞
−∞ 𝑒−𝑥2
𝑑𝑥 = √𝜋, or displayed, as in
𝑎 ≡ 𝑏 (𝜃)
or
∫
∞
−∞
𝑒−𝑥2
𝑑𝑥 = √𝜋
Notice how changing these two formulas from inline to displayed affects their appearance.
Inline and displayed math formulas are typeset using the math environments math
and displaymath, respectively. Because math formulas occur so frequently, LATEX has
abbreviations: the special braces ( and ) or $ are used for the math environment, and
[ and ] for the displaymath environment. So our inline example may be typed as
$a \equiv b \pod{\theta}$
or
( a \equiv b \pod{\theta} )
or
\begin{math}
a \equiv b \pod{\theta}
\end{math}
The displayed example can be typed as
[
\int<em>{-\infty}^{\infty} e^{-x^{2}} \, dx = \sqrt{\pi}
]
or
\begin{displaymath}
\int</em>{-\infty}^{\infty} e^{-x^{2}} \, dx = \sqrt{\pi}
\end{displaymath}
Using $ as a delimiter for a math environment is a bit of an anomaly, since the
same character is used as both an opening and closing delimiter. This dual purpose use
makes it more difficult for LATEX to diagnose an incorrect use of $. For instance,
Let $a be a real number, and let $f$ be a function.</p>

<p>would be interpreted by LATEX as follows:
Let is ordinary text
$a be a real number, and let $ is math
f is interpreted as ordinary text
$ be a function. is thought to be a math environment (opened by $) that
should be closed by the next $ in the paragraph
Because the paragraph ends with no more dollar signs appearing, you get the message
!! Missing $ inserted.
<inserted text>
$
l.29
and giving you the line number of the end of the paragraph. This message tells you that
LATEX would place a $ at the end of the paragraph when it proceeds with the typesetting.
Press Return; LATEX produces the following:
Let 𝑎𝑏𝑒𝑎𝑟𝑒𝑎𝑙𝑛𝑢𝑚𝑏𝑒𝑟, 𝑎𝑛𝑑𝑙𝑒𝑡f𝑏𝑒𝑎𝑓 𝑢𝑛𝑐𝑡𝑖𝑜𝑛.
The text that ended up in a math environment is run together because math environments
ignore spaces (see Section 5.2).
If you use ( and ) as special braces for the math environment, LATEX handles
the same mistake more elegantly:
Let ( a be a real number, and let ( f ) be a function.
gives the message
! LaTeX Error: Bad math environment delimiter.
l.25 Let ( a be a real number, and let (
f ) be a function.
LATEX realizes that the first ( opens a math environment, so the second ( must be in
error. In this case, the line number in the message is correct.
Throughout this book, like nearly everyone else, I use $ to delimit inline math.
TEX uses $$ to open and close a displayed math environment. In LATEX, this may
occasionally cause problems. Don’t do it! Try the fleqn document class option of
amsart (see Section 9.5) as an example of what can go wrong.</p>

<p>Rule Math environments
No blank lines are permitted in a math or displaymath environment.
If you violate this rule, LATEX generates a message,
! Missing $ inserted.
<inserted text>
$
...
l.7
where the line number points inside the environment.
Multiline math environments, such as the examples in Sections 1.7.3–1.7.4, are
discussed in Chapter 7.</p>

<h3 id="5-2-spacing-rules">5.2 Spacing rules</h3>

<p>In text, the most important spacing rule is that any number of spaces in the source file
equals one space in the typeset document. The spacing rule for math mode is even more
straightforward.
Rule Spacing in math
LATEX ignores spaces in math.
In other words, all spacing in math mode is provided by LATEX. For instance,
$a+b=c$
and
$a + b = c$
are both typeset as 𝑎 + 𝑏 = 𝑐.
There are two exceptions to this rule:
1. A space indicating the end of a command name is recognized. For instance, in
$a \quad b$
LATEX does not ignore the space between \quad and b.
2. If you switch back to text mode inside a math formula with a \text command (see
Section 5.4.6), then the text spacing rules apply in the argument of such a command.</p>

<p>As you see, LATEX provides controls for spaces in typeset math. The spaces you
type in math do not affect the typeset document. But keep this tip in mind.
Tip Format your source file so that it is easy to read.
When typing a source file, the following is good practice:
Place [ and ] on lines by themselves.
Leave spaces before and after binary operations and binary relations, including the
equal sign.
Indent—by three spaces, for example—the contents of environments so they stand
out.
Keep a formula on a single line of the source file, if you can.
Develop your own style of typing math, and stick with it.
Tip The spacing after a comma is different in math and text. Do not leave a trailing comma
in inline math.
So do not type
If $a = b,$ then
but move the comma out.</p>

<h3 id="5-3-equations">5.3 Equations</h3>

<p>An equation is a numbered formula displayed on a single typeset line.
Equations are typed in an equation environment. The equation environment
and displaymath environment are exactly the same except that the equation environment assigns a number to the displayed formula
(1) ∫
∞
−∞
𝑒−𝑥2
𝑑𝑥 = √𝜋
This example is typed as
\begin{equation}\label{E:int}
\int_{-\infty}^{\infty} e^{-x^{2}} \, dx = \sqrt{\pi}
\end{equation}</p>

<p>The \label command in the equation environment is optional. If you use a
\label command, the number assigned to the equation can be referenced with the
\ref command. So
see~(\ref{E:int})
typesets as see (1). Even better, use the \eqref command, which places the parentheses automatically:
see~\eqref{E:int}
also typesets as see (1). In fact, the \eqref command does more: It typesets the reference upright, even in italicized or slanted text. For more information about crossreferencing, see Section 1.7.2.
Analogously, the \upn command forces the use of upright characters for digits,
punctuations, parentheses, etc. LATEX numbers equations consecutively. As a rule,
equations are numbered consecutively throughout articles, whereas in books, numbering starts from 1 at the start of each chapter. You may also choose to have equations
numbered within each section—(1.1), (1.2), ..., in Section 1; (2.1), (2.2), ..., in Section 2; and so on—by including the command
\numberwithin{equation}{section}
in the preamble of your document (see Section 8.2). “Manual control” of numbering is
discussed in Section 14.5.1, group numbering in Section 7.4.4.
The <em>-ed form of the equation environment suppresses numbering, so it is equivalent to the displaymath environment (or the special braces [ and ]).
Rule Equation environment
1. No blank lines are permitted within an equation or equation</em> environment.
2. No blank line before the environment.
If you typeset
\begin{equation}\label{E:int}
\int_{-\infty}^{\infty} e^{-x^{2}} \, dx = \sqrt{\pi}
\end{equation}
LATEX generates the familiar, but misleading, message
! Missing $ inserted.</p>

<h3 id="5-4-basic-constructs">5.4 Basic constructs</h3>

<p>A formula is built by combining various basic constructs. This section discusses the
following constructs:
Arithmetic operations – Subscripts and superscripts
Binomial coefficients
Ellipses
Integrals
Roots
Text
Hebrew and Greek letters
Read carefully the basic constructs important for your work. Additional constructs are
discussed in subsequent sections of this chapter.</p>

<h4 id="5-4-1-arithmetic-operations">5.4.1 Arithmetic operations</h4>

<p>The arithmetic operations are typed pretty much as you would expect. To get 𝑎 + 𝑏,
𝑎 − 𝑏, −𝑎, 𝑎∕𝑏, and 𝑎𝑏, type
$a + b$, $a - b$, $-a$, $a / b$, $a b$
There are two other forms of multiplication and one of division: 𝑎 ⋅ 𝑏, 𝑎 × 𝑏, and
𝑎 ÷ 𝑏. They are typed as follows:
$a \cdot b$, $a \times b$, $a \div b$
In displayed formulas, fractions are usually typed with the \frac command. To get
1+2𝑥
𝑥 + 𝑦 + 𝑥𝑦
type
[
\frac{1 + 2x}{x + y + xy}
]
You can use display-style fractions inline with \dfrac, and inline-style fractions
in displayed math environments with \tfrac; for example, 3 + 𝑎2
4 + 𝑏 is typed as
$\dfrac{3 + a^{2}}{4 + b}$</p>

<p>and
3+𝑎2
4+𝑏
is typed as
[
\tfrac{3 + a^{2}}{4 + b}
]
The \dfrac command is often used in matrices whose entries would look too small
with the \frac command. See Formula 20 in the Formula Gallery (Section 5.10) for
an example, and Section 6.7.1 for other fraction variants.
Subscripts and superscripts
Subscripts are typed with _ and superscripts with ^. Remember to enclose the subscripted or superscripted expression in braces:
[
a<em>{1},\ a</em>{i<em>{1}},\ a^{2},\ a^{b^{c}},\ a^{i</em>{1}},<br />
a<em>{i} + 1,\ a</em>{i + 1},\ a<em>{1}^{2},\ a^{2}</em>{1}
]
typesets as
𝑎1, 𝑎𝑖1
, 𝑎2, 𝑎𝑏𝑐
, 𝑎𝑖1 , 𝑎𝑖 + 1, 𝑎𝑖+1, 𝑎2
1, 𝑎2
1
For 𝑎𝑏𝑐
, type $a^{b^{c}}$, not $a^{b}^{c}$. If you type the latter, you get the
message
! Double superscript.
Similarly, 𝑎𝑏𝑐 is typed as $a<em>{b</em>{c}}$, not as $a<em>{b}</em>{c}$.
In many instances, the braces for the subscripts and superscripts could be omitted,
but you should type them anyway.
Tip You may safely omit the braces for a subscript or superscript that is a single digit or
letter, as in $a_1$ and $(a + b)^x$, which are typeset as 𝑎1 and (𝑎+ 𝑏)
𝑥. Be careful,
however, if you have to edit $a<em>1$ to make it 𝑎12, then the braces can no longer be
omitted, you must type $a</em>{12}$ to obtain 𝑎12 because $a_12$ typesets as 𝑎12.
There is one symbol that is automatically superscripted in math mode, the prime,
that is, ’. To get 𝑓′
(𝑥), type $f’(x)$. However, to get 𝑓′2 you must type
$f^{\prime 2}$</p>

<p>Typing ${f’}^{2}$ results in 𝑓′2
, with the 2 too high; typing it as $f’^{2}$ causes
a double superscript error. Sometimes you may want a symbol to appear superscripted
or subscripted by itself, as in the phrase
use the symbol † to indicate the dualspace
typed as
use the symbol ${}^{\dagger}$ to indicate the dualspace
where { } is the empty group. The empty group can be used to separate symbols, to
terminate commands, or as the base for subscripting and superscripting.
The \sb and \sp commands also typeset subscripts and superscripts, respectively,
as in
$a\sb{1} - a\sp{x + y}$
which produces 𝑎1 − 𝑎𝑥+𝑦. These commands are seldom used, however, except in the
alltt environment (see Section 10.3) and in the Mathematical Reviews of the AMS.
For multiline subscripts and superscripts, see Section 5.6.4.</p>

<h4 id="5-4-2-binomial-coefficients">5.4.2 Binomial coefficients</h4>

<p>Binomials are typeset with the \binom command. Here are two examples shown inline,
( 𝑎
𝑏+𝑐
)
and ( 𝑛2−1
2
𝑛+1
)
, and displayed:
( 𝑎
𝑏 + 𝑐
)
and ( 𝑛2−1
2
𝑛 + 1)
The latter is typed as
[
\binom{a}{b + c} \text{ and }
\binom{\frac{n^{2} - 1}{2}}{n + 1}
]
You can use display-style binomials inline with \dbinom, and inline-style binomials in displayed math environments with \tbinom. For example, ( 𝑎
𝑏 + 𝑐
)
is typed
as $\dbinom{a}{b + c}$. See Section 6.7.1 for other variants.</p>

<h4 id="5-4-3-ellipses">5.4.3 Ellipses</h4>

<p>There are two types of ellipsis in math, the low or on-the-line ellipsis, as in
𝐹(𝑥1, 𝑥2,…, 𝑥𝑛)</p>

<p>and the centered ellipsis, as in
𝑥1 + 𝑥2 + ⋯ + 𝑥𝑛
These two formulas are typed as
[
F(x<em>{1}, x</em>{2}, \dots, x<em>{n})
]
and
[
x</em>{1} + x<em>{2} + \dots + x</em>{n}
]
LATEX uses the symbol following a \dots command to decide whether to use a low
or centered ellipsis. If it fails to make the right decision as in
𝛼(𝑥1 + 𝑥2 +…)
typed as
[
\alpha(x<em>{1} + x</em>{2} + \dots)
]
help LATEX by giving the command \ldots for low and \cdots for centered ellipsis.
So to get the last formula right, type
[
\alpha(x<em>{1} + x</em>{2} + \cdots)
]
and it typesets correctly:
𝛼(𝑥1 + 𝑥2 + ⋯)
There are five more variants of the \dots command:
\dotsc for an ellipsis followed by a comma
\dotsb for an ellipsis followed by a binary operation or relation
\dotsm for an ellipsis followed by multiplication
\dotsi for an ellipsis with integrals
\dotso for an “other” ellipsis
These commands not only force the ellipsis to be low or centered, but also adjust the
spacing.
See Section 7.7.1 for an example of vertical dots with the \vdots command and
diagonal dots with the \ddots command.</p>

<h4 id="5-4-4-integrals">5.4.4 Integrals</h4>

<p>You have already seen the formula ∫ ∞
−∞ 𝑒−𝑥2
𝑑𝑥 = √𝜋 in both inline and displayed
forms in the first section of this chapter. The lower limit is typeset as a subscript and
the upper limit is typeset as a superscript. To force the limits below and above the integral symbol, use the \limits command. The \nolimits command does the reverse.
To typeset
∞
∫
−∞
𝑒−𝑥2
𝑑𝑥 = √𝜋, type
$\int\limits_{-\infty}^{\infty} e^{-x^{2}} \, dx = \sqrt{\pi}$
See Section 9.5 for a discussion of the intlimits document class option.
There are five commands to produce variants of the basic integral symbol:
\oint \iint \iiint \iiiint \idotsint
which typeset as
∮∬∭⨌∫ ⋯ ∫
For complicated bounds, use the \substack command or the subarray environment (see Section 5.6.4).</p>

<h4 id="5-4-5-roots">5.4.5 Roots</h4>

<p>The \sqrt command produces a square root, for instance,
$\sqrt{5}$ typesets as √
5
$\sqrt{a + 2b + c^{2}}$ typesets as √
𝑎 + 2𝑏 + 𝑐2
Here is a more interesting example:
√√√√√1 +
√√√√1 + 1
2
√
1 + 1
3
√
1 + 1
4
√
1 + ⋯
typed as
[
\sqrt{1 + \sqrt{1 + \frac{1}{2}\sqrt{1 + \frac{1}{3}
\sqrt{1 + \frac{1}{4}\sqrt{1 + \cdots}}}}}
]
For 𝑛-th roots other than the square root, that is, 𝑛 ≠ 2, specify 𝑛 with an optional
argument. To get √3 5, type $\sqrt[3]{5}$.</p>

<p>Root refinement
In √𝑔 5, typed as $\sqrt[g]{5}$, the placement of 𝑔 is not very pleasing. LATEX provides two additional commands to allow you to adjust the position of 𝑔:
\leftroot moves 𝑔 to the left—or to the right with a negative argument
\uproot moves 𝑔 up—or down with a negative argument
You may prefer one of the following variants:
√𝑔
5 typed as $\sqrt[\leftroot{2} \uproot{2} g]{5}$
√𝑔
5 typed as $\sqrt[\uproot{2} g]{5}$
Experiment with \leftroot and \uproot to find the best spacing.
Note that LATEX is very finicky with this optional argument. Typing a space after [,
as in $\sqrt[ \uproot{2} g]{5}$, gives the message
! Package amsmath Error: Invalid use of \uproot.
There may also be problems with vertical spacing under the root symbol (see Section 6.5).</p>

<h4 id="5-4-6-text-in-math">5.4.6 Text in math</h4>

<p>LATEX allows you to include text in formulas with the \text command. The formula
𝐴 = {𝑥 ∣ 𝑥 ∈ 𝑋𝑖, for some 𝑖 ∈ 𝐼}
is typed as
[
A = { x \mid x \in X_{i}, \text{ for some }
i \in I }
]
Note that you have to leave space before for and after some inside the argument of
\text. The argument of the \text command is always typeset in a single line.
Sometimes it is more convenient to go into math mode within the argument of a
\text command rather than end the \text and start another, as in
𝐴 = {𝑥 ∣ for 𝑥 large}
which may be typed as
[
A = { x \mid \text{for $x$ large} }
]</p>

<p>The \text command correctly sizes its argument to match the context. The formula
𝑎left +2= 𝑎right
is typed as
[
a<em>{\text{left}} + 2 = a</em>{\text{right}}
]
Note that \text typesets its argument in the size and shape of the surrounding text.
If you want the text in a formula to be typeset in the document font family (see Section 3.6.2) independent of the surrounding text, use
\textnormal{ ... }
or
{\normalfont ...}
For instance, if you have a constant 𝑎right, then in a theorem:
Theorem 1. The constant 𝑎right is recursive in 𝑎.
The subscript is wrong. To get it right, type the constant as
$a<em>{\normalfont\text{right}}$
Now the theorem typesets as
Theorem 1. The constant 𝑎right is recursive in 𝑎.
Any of the text font commands with arguments (see Section 3.6.3) can also be used in
math formulas. For instance, \textbf uses the size and shape of the surrounding text
to typeset its argument in bold (extended).
Tip If 𝑎 is subscripted l for left, as in 𝑎l, type it as $a</em>\text{l}$. Unfortunately, many
papers use 𝑎𝑙, typed as $a<em>l$. The rule is simple:
if in 𝑎l, the character l is text, type it as $a</em>\text{l}$;
if in 𝑎𝑙, the character 𝑙 is a variable, type it as $a_l$.</p>

<h4 id="5-4-7-hebrew-and-greek-letters">5.4.7 Hebrew and Greek letters</h4>

<p>Math uses only four Hebrew letters: ℵ, ℶ, ℸ, ℷ, typed as
\com{aleph}, \com{beth}, \com{daleth}, \com{gimel}
The 26 Greek letters come in lower case and some also in upper case. There is no
upper case 𝛼, because it is the same as the Latin letter A. Seven lower case Greek letter
also come in a variant. For instance, the variant of 𝜙 is 𝜑. Tables 5.1 and 5.2 list them
all; see also Section A.1.
Type Typeset Type Typeset Type Typeset
\alpha 𝛼 \iota 𝜄 \sigma 𝜎
\beta 𝛽 \kappa 𝜅 \tau 𝜏
\gamma 𝛾 \lambda 𝜆 \upsilon 𝜐
\delta 𝛿 \mu 𝜇 \phi 𝜙
\epsilon 𝜖 \nu 𝜈 \chi 𝜒
\zeta 𝜁 \xi 𝜉 \psi 𝜓
\eta 𝜂 \pi 𝜋 \omega 𝜔
\theta 𝜃 \rho 𝜌
\varepsilon 𝜀 \varpi 𝜛 \varsigma 𝜍
\vartheta 𝜗 \varrho 𝜚 \varphi 𝜑
\digamma ϝ \varkappa 𝜘
Table 5.1: Lowercase Greek letters
Type Typeset Type Typeset Type Typeset
\Gamma Γ \Xi Ξ \Phi Φ
\Delta Δ \Pi Π \Psi Ψ
\Theta Θ \Sigma Σ \Omega Ω
\Lambda Λ \Upsilon Υ
\varGamma 𝛤 \varXi 𝛯 \varPhi 𝛷
\varDelta 𝛥 \varPi 𝛱 \varPsi 𝛹
\varTheta 𝛩 \varSigma 𝛴 \varOmega 𝛺
\varLambda 𝛬 \varUpsilon 𝛶
Table 5.2: Uppercase Greek letters</p>

<h3 id="5-5-delimiters">5.5 Delimiters</h3>

<p>Delimiters are used to enclose some subformulas. In the following formula we use two
delimiters: parentheses and square brackets: $[(a*b)+(c*d)]^2$; this typesets as
[(𝑎 ∗ 𝑏)+(𝑐 ∗ 𝑑)]2. LATEX knows that parentheses and square brackets are delimiters,
and spaces them accordingly.
The standard delimiters are shown in Table 5.3. Note that delimiters are math
symbols with special spacing rules and you can use them in any way you please, not only
in pairs. LATEX does not stop you from typing \uparrow(x], which typesets as ↑ (𝑥].
Observe the difference in spacing between ||𝑎|| and ‖𝑎‖. The first, ||𝑎||, was typed
incorrectly as $|| a ||$. As a result, the vertical bars are too far apart. The second
was typed correctly using the appropriate delimiter commands: $| a |$. Here they
are again side-by-side, enlarged:
||𝑎|| ‖𝑎‖
Name Type Typeset
left parenthesis ( (
right parenthesis ) )
left bracket [ or \lbrack [
right bracket ] or \rbrack ]
left brace { or \lbrace {
right brace } or \rbrace }
backslash \backslash ∖
forward slash / ∕
left angle bracket \langle ⟨
right angle bracket \rangle ⟩
vertical line | or \vert |
double vertical line | or \Vert ‖
left floor \lfloor ⌊
right floor \rfloor ⌋
left ceiling \lceil ⌈
right ceiling \rceil ⌉
upward \uparrow ↑
double upward \Uparrow ⇑
downward \downarrow ↓
double downward \Downarrow ⇓
up-and-down \updownarrow ↕
double up-and-down \Updownarrow ⇕
upper-left corner \ulcorner ⌜
upper-right corner \urcorner ⌝
lower-left corner \llcorner ⌞
lower-right corner \lrcorner ⌟
Table 5.3: Standard delimiters.</p>

<h4 id="5-5-1-stretching-delimiters">5.5.1 Stretching delimiters</h4>

<p>All delimiters, except the four “corners”, can stretch to enclose the subformula. For
example,
(1
2
)𝛼
is typed as
[
\left( \frac{1}{2} \right)^{\alpha}
]
The \left and \right commands instruct LATEX to stretch the parentheses. The general construction is
\left delim1 and \right delim2
where delim1 and delim2 are chosen from Table 5.3. They are usually, but not always, a matching pair—see the examples below. LATEX inspects the formula between
the \left and \right commands and decides what size delimiters to use. The \left
and \right commands must be paired in order for LATEX to know the extent of the
material to be vertically measured. However, we repeat, the delimiters need not be the
same.
If you want to stretch a single delimiter, you have to pair it with a blank delimiter, represented by the \left. and \right. commands. Here are some examples of
stretching delimiters:
|
|
|
|
𝑎 + 𝑏
2
|
|
|
|
, ‖
‖
‖
𝐴2‖
‖
‖ ,
(𝑎
2
, 𝑏]
, 𝐹(𝑥)|
𝑏
𝑎
typed as
[
\left| \frac{a + b}{2} \right|, \quad
\left| A^{2} \right|, \quad
\left( \frac{a}{2}, b \right], \quad
\left. F(x) \right|_{a}^{b}
]
There are also two convenient abbreviations:
\left&lt; for \left\langle
\right&gt; for \right\rangle
The \left and \right commands have one more use. For the delimiters |, |,
and all the arrows, the same symbol represents the left and right delimiters, which can
sometimes cause problems as in Example 2 in Section 6.1.4. In such cases, you should
use the \left and \right commands to tell LATEX whether the delimiter is a left or
a right delimiter. LATEX also provides the \lvert and \rvert for | as left and right
delimiter, and \lVert and \rVert for |.</p>

<h4 id="5-5-2-delimiters-that-do-not-stretch">5.5.2 Delimiters that do not stretch</h4>

<p>LATEX provides the \big, \Big, \bigg, and \Bigg commands to produce delimiters of
larger sizes. These delimiters do not stretch. For example,
[
(\quad \big(\quad \Big(\quad \bigg(\quad \Bigg(
]
typesets as
( ( ( ( (
LATEX also provides the more specific
\bigl, \Bigl, \biggl, \Biggl, \bigr, \Bigr, \biggr, and \Biggr
commands to produce larger left and right delimiters.
For integral evaluation, you can choose one of the following:
𝐹(𝑥)|
𝑏
𝑎 𝐹(𝑥)
|
|
|
𝑏
𝑎 𝐹(𝑥)
|
|
|
𝑏
𝑎
typed as
[
F(x) |^{b}<em>{a} \quad
F(x) \bigr|^{b}</em>{a} \quad
F(x) \Bigr|^{b}_{a}
]</p>

<h4 id="5-5-3-limitations-of-stretching">5.5.3 Limitations of stretching</h4>

<p>In a number of situations the stretching computed by LATEX is not ideal, so you should
use a larger sized non-stretching variant. Here are some typical examples:
1. Large operators
[
\left[ \sum_i a_i \right]^{1/p} \quad
\biggl[ \sum_i a_i \biggr]^{1/p}
]
typesets as
[
∑
𝑖
𝑎𝑖
]1∕𝑝 [∑
𝑖
𝑎𝑖
]1∕𝑝
You may prefer the second version with \biggl[ and \biggr].</p>

<ol>
<li>Groupings
[
\left( (a_1 b_1) - (a_2 b_2) \right)
\left( (a_2 b_1) + (a_1 b_2) \right)
\quad
\bigl( (a_1 b_1) - (a_2 b_2) \bigr)
\bigl( (a_2 b_1) + (a_1 b_2) \bigr)
]
typesets as
(
(𝑎1𝑏1)−(𝑎2𝑏2)
) ((𝑎2𝑏1)+(𝑎1𝑏2)
) ((𝑎1𝑏1)−(𝑎2𝑏2)
)((𝑎2𝑏1)+(𝑎1𝑏2)
)
You may prefer the clearer groupings provided by \bigl( and \bigr).</li>
<li>Inline formulas The delimiters produced by \left and \right use too much
interline space in |
|
|
𝑏′
𝑑′
|
|
|
, typed as
\left\lvert \frac{b’}{d’} \right\rvert
Use \bigl and \bigr to produce delimiters that fit within the normal line spacing:
|
|
|
𝑏′
𝑑′
|
|
|
, typed as
\bigl\lvert \frac{b’}{d’} \bigr\rvert</li>
</ol>

<h4 id="5-5-4-delimiters-as-binary-relations">5.5.4 Delimiters as binary relations</h4>

<p>The symbol | can be used as a delimiter, as in |𝑥 + 𝑦|, and also as a binary relation, as
in {𝑥 ∈  ∣ 𝑥2 ≤ 2}. As a binary relation it is typed as \mid. The previous formula is
typed as
${ x \in \mathcal{R} \mid x^{2} \leq 2 }$
\bigm and \biggm produce larger variants, with spacing on either side like binary relations. For example,
{
𝑥 |
|
|
| ∫
𝑥
0
𝑡
2 𝑑𝑡 ≤ 5
}
is typed as
[
\left{ x \biggm|\int_{0}^x t^{2}\, dt\leq 5 \right}
]</p>

<h3 id="5-6-operators">5.6 Operators</h3>

<p>You cannot just type sin x to typeset the sine function in math mode. Indeed,
$sin x$
produces 𝑠𝑖𝑛𝑥 instead of sin 𝑥, as you intended. Type this function as
$\sin x$
The \sin command prints sin with the proper style and spacing. LATEX calls \sin an
operator or log-like function.</p>

<h4 id="5-6-1-operator-tables">5.6.1 Operator tables</h4>

<p>There are two types of operators:
1. Operators without limits, such as \sin
2. Operators with limits, such as \lim, that take a subscript in inline mode and a “limit”
in displayed math mode. For example, lim𝑥→0 𝑓(𝑥)=1 is typed as
$\lim<em>{x \to 0} f(x) = 1$
The same formula displayed,
lim
𝑥→0
𝑓(𝑥)=1
is typed as
[
\lim</em>{x \to 0} f(x) = 1
]
The operators are listed in Tables 5.4 and 5.5 (see also Section A.6). The entries
in the last two rows of Table 5.5 can be illustrated by
lim
𝑥→0
lim
𝑥→0
lim
←←←←←←←←← ←→𝑥→0
lim
←←←←←←←←←←
𝑥→0
Type Typeset Type Typeset Type Typeset Type Typeset
\arccos arccos \cot cot \hom hom \sin sin
\arcsin arcsin \coth coth \ker ker \sinh sinh
\arctan arctan \csc csc \lg lg \tan tan
\arg arg \deg deg \ln ln \tanh tanh
\cos cos \dim dim \log log
\cosh cosh \exp exp \sec sec
Table 5.4: Operators without limits.</p>

<p>Type Typeset Type Typeset
\det det \limsup lim sup
\gcd gcd \max max
\inf inf \min min
\lim lim \Pr Pr
\liminf lim inf \sup sup
\injlim inj lim \projlim proj lim
\varliminf lim \varlimsup lim
\varinjlim lim
←←←←←←←←← ←→ \varprojlim lim
←←←←←←←←←←
Table 5.5: Operators with limits.
which are typed as
[
\varliminf<em>{x \to 0} \quad \varlimsup</em>{x \to 0} \quad
\varinjlim<em>{x \to 0} \quad \varprojlim</em>{x \to 0}
]
The following examples illustrate some more entries from Table 5.5:
inj lim
𝑥→0
lim inf
𝑥→0
lim sup
𝑥→0
proj lim
𝑥→0
These operators were typed as
[
\injlim<em>{x \to 0} \quad \liminf</em>{x \to 0} \quad
\limsup<em>{x \to 0} \quad \projlim</em>{x \to 0}
]
You can force the limits in a displayed formula into the subscript position with the
\nolimits command. For example, the formulas
inj lim𝑥→0 lim inf𝑥→0 lim sup𝑥→0 proj lim𝑥→0
are typed as
[
\injlim\nolimits<em>{x \to 0} \quad
\liminf\nolimits</em>{x \to 0} \quad
\limsup\nolimits<em>{x \to 0} \quad
\projlim\nolimits</em>{x \to 0}
]</p>

<h4 id="5-6-2-congruences">5.6.2 Congruences</h4>

<p>\mod is a special operator used for congruences. Congruences are usually typeset using
the \pmod or \pod variant. There is also the \bmod command, which is used as a binary
operation. All four commands are shown in Table 5.6.
See Sections 14.1.2 and 14.1.9 for a discussion of related custom commands.
Type Typeset
$a \equiv v \mod{\theta}$ 𝑎 ≡ 𝑣 mod 𝜃
$a \bmod b$ 𝑎 mod 𝑏
$a \equiv v \pmod{\theta}$ 𝑎 ≡ 𝑣 (mod 𝜃)
$a \equiv v \pod{\theta}$ 𝑎 ≡ 𝑣 (𝜃)
Table 5.6: Congruences.</p>

<h4 id="5-6-3-large-operators">5.6.3 Large operators</h4>

<p>Here is a sum typeset inline, ∑𝑛
𝑖=1 𝑥2
𝑖 , and displayed,
∑𝑛
𝑖=1
𝑥2
𝑖
In the latter form, the sum symbol is larger. Operators that behave in this way are called
large operators. Table 5.7 gives a complete list of large operators.
You can use the \nolimits command if you wish to show the limits of large
operators as subscripts and superscripts in a displayed math environment.
The formula
⨆
𝔪 𝑋 = 𝑎
is typed as
[
\bigsqcup\nolimits<em>{ \mathfrak{m}}X=a
]
You can use the \limits command if you wish to show the limits of large operators below and above the operator symbol in an inline math environment. For example,
⨆
𝔪
𝑋 = 𝑎 is typed as
$\bigsqcup\limits</em>{ \mathfrak{m} } X = a$
Sums and products are very important constructs. The examples
𝑧𝑑 − 𝑧𝑑
0
𝑧 − 𝑧0
= ∑
𝑑
𝑘=1
𝑧𝑘−1
0 𝑧𝑑−𝑘 and (𝑇 𝑛)
′
(𝑥0) = ∏𝑛−1
𝑘=0
𝑇 ′
(𝑥𝑘)
are typed as</p>

<p>Type Inline Displayed
\int<em>{a}^{b}
∫
𝑏𝑎
∫
𝑏
𝑎
\oint</em>{a}^{b}
∮
𝑏𝑎
∮
𝑏
𝑎
\iint<em>{a}^{b}
∬
𝑏𝑎
∬
𝑏
𝑎
\iiint</em>{a}^{b}
∭
𝑏𝑎
∭
𝑏
𝑎
\iiiint<em>{a}^{b}
⨌
𝑏𝑎
⨌
𝑏
𝑎
\idotsint</em>{a}^{b}
∫ ···
∫
𝑏𝑎
∫
⋯
∫
𝑏
𝑎
\prod<em>{i=1}^{n}
∏
𝑛𝑖=1
∏𝑛𝑖=1
\coprod</em>{i=1}^{n}
∐
𝑛𝑖=1
∐𝑛𝑖=1
\bigcap<em>{i=1}^{n}
⋂
𝑛𝑖=1
⋂𝑛𝑖=1
\bigcup</em>{i=1}^{n}
⋃
𝑛𝑖=1
⋃𝑛𝑖=1
\bigwedge<em>{i=1}^{n}
⋀
𝑛𝑖=1
⋀𝑛𝑖=1
\bigvee</em>{i=1}^{n}
⋁
𝑛𝑖=1
⋁𝑛𝑖=1
\bigsqcup<em>{i=1}^{n}
⨆
𝑛𝑖=1
⨆𝑛𝑖=1
\biguplus</em>{i=1}^{n}
⨄
𝑛𝑖=1
⨄𝑛𝑖=1
\bigotimes<em>{i=1}^{n}
⨂
𝑛𝑖=1
⨂𝑛𝑖=1
\bigoplus</em>{i=1}^{n}
⨁
𝑛𝑖=1
⨁𝑛𝑖=1
\bigodot<em>{i=1}^{n}
⨀
𝑛𝑖=1
⨀𝑛𝑖=1
\sum</em>{i=1}^{n}
∑
𝑛𝑖=1
∑𝑛𝑖=1
Table 5.7: Large operators.</p>

<p>[
\frac{z^{d} - z<em>{0}^{d}}
{z - z</em>{0}} =
\sum<em>{k = 1}^{d} z</em>{0}^{k - 1} z^{d - k}
\text{\quad and\quad}
(T^{n})’(x<em>{0}) = \prod</em>{k=0}^{n - 1} T’(x_{k})
]</p>

<h4 id="5-6-4-multiline-subscripts-and-superscripts">5.6.4 Multiline subscripts and superscripts</h4>

<p>The \substack command provides multiline limits for large operators. For instance,
∑
𝑖&lt;𝑛
𝑖 even
𝑥2
𝑖
is typed as
[
\sum<em>{ \substack{ i &lt; n<br />
i \text{ even} } }
x</em>{i}^{2}
]
There is only one rule to remember. Use the line separator command \. You can use
the \substack command wherever subscripts or superscripts are used.
The lines are centered by \substack, so if you want them set flush left, as in
∑
𝑖&lt;𝑛
𝑖 even
𝑥2
𝑖
then use the subarray environment with the argument l:
[
\sum<em>{ \begin{subarray}{l}
i &lt; n<br />
i \text{ even}
\end{subarray} }
x</em>{i}^{2}
]
See Section 14.1.6 for another example.</p>

<h3 id="5-7-math-accents">5.7 Math accents</h3>

<p>The accents used in text (see Section 3.4.7) cannot be used in math formulas.
For accents in formulas a separate set of commands is provided. All math
accents are shown in Table 5.8 (see also Section A.8). The amsxtra package is
needed for the accents in the second column. To use them, make sure to place
in the preamble the line
\usepackage{amsxtra}
You can also use double accents, such as
amsxtra
Type Typeset Type Typeset
\acute{a} 𝑎́
\bar{a} 𝑎̄
\breve{a} 𝑎̆ \spbreve ˘
\check{a} 𝑎̌ \spcheck ∨
\dot{a} 𝑎̇ \spdot .
\ddot{a} 𝑎̈ \spddot ..
\dddot{a} 𝑎⃛ \spdddot ...
\ddddot{a} ⃜𝑎
\grave{a} 𝑎̀
\hat{a} 𝑎̂
\widehat{a} 𝑎̂ \sphat ̂
\mathring{a} 𝑎̊
\tilde{a} 𝑎̃
\widetilde{a} 𝑎̃ \sptilde ∼
\vec{a} 𝑎⃗
Table 5.8: Math accents
[
\hat{\hat{A}}
]
which typesets as ̂
𝐴̂.
The two “wide” varieties, \widehat and \widetilde, expand to fit the
symbols (their arguments) covered: 𝐴̂, 𝑎𝑏̂ , 𝑖𝑖𝑖̂ , 𝑎𝑖𝑎𝑖 ̂, 𝑖𝑖𝑖𝑖𝑖 ̂, and 𝐴̃, 𝑎𝑏̃ , 𝑖𝑖𝑖̃ , 𝑎𝑖𝑎𝑖 ̃, 𝑖𝑖𝑖𝑖𝑖 ̃
(the last example is typed as $\widetilde{iiiii}$). If the base is too wide,
the accent is centered:
𝐴𝐵𝐶𝐷�</p>

<p>The “sp” commands, provided by the amsxtra package, are used for superscripts, as illustrated in Table 5.8. If you use a lot of accented characters, you
should appreciate custom commands (see Section 14.1.1).
Notice the difference between 𝑎̄ and 𝑎, typed as
$\bar{a}$ $\overline{a}$
For other examples of the \overline command, see Section 5.8.2.
To use an arbitrary symbol as an accent or to create “underaccents”, use
Javier Bezos’ accents package.</p>

<h3 id="5-8-stretchable-horizontal-lines">5.8 Stretchable horizontal lines</h3>

<p>LATEX provides three types of stretchable horizontal lines that appear above or
below a formula, braces, bars, and arrows. There are also stretchable arrow
math symbols.</p>

<h4 id="5-8-1-horizontal-braces">5.8.1 Horizontal braces</h4>

<p>The \overbrace command places a brace of variable size above its argument,
as in
⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞
𝑎 + 𝑏 + ⋯ + 𝑧
which is typed as
[
\overbrace{a + b + \dots + z}
]
A superscript adds a label to the brace, as in
𝑛
⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞
𝑎 + 𝑎 + ⋯ + 𝑎
which is typed as
[
\overbrace{a + a + \dots + a}^{n}
]
The \underbrace command works similarly, placing a brace below its argument. A subscript adds a label to the brace, as in
𝑎 + 𝑎 + ⋯ + 𝑎 ⏟⏞⏞⏞⏞⏞⏞⏟⏞⏞⏞⏞⏞⏞⏟ 𝑛
which is typed as</p>

<p>[
\underbrace{a + a + \dots + a}<em>{n}
]
The following example combines these two commands:
(𝑚−𝑛)∕2
⏞⏞⏞⏞⏞⏞⏞
𝑎 + ⋯ + 𝑎+𝑏 + ⋯ + 𝑏
⏟⏞⏞⏟⏞⏞⏟ 𝑛
+
(𝑚−𝑛)∕2
⏞⏞⏞⏞⏞⏞⏞
𝑎 + ⋯ + 𝑎
⏟⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏟⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏟ 𝑚
This example is typed as
[
\underbrace{
\overbrace{a + \dots + a}^{(m - n)/2}
+ \underbrace{b + \dots + b}</em>{n}
+ \overbrace{a + \dots + a}^{(m - n)/2}
}_{m}
]</p>

<h4 id="5-8-2-overlines-and-underlines">5.8.2 Overlines and underlines</h4>

<p>The \overline and \underline commands draw lines above or below a formula.
For example,
𝑋 ∪ 𝑋 = 𝑋
is typed as
[
\overline{ \overline{X} \cup \overline{\overline{X}} }
= \overline{ \overline{X} }
]
Similarly, you can place arrows above and below an expression:
⃖⃖𝑎 𝑎𝑎⃖⃖⃖⃗
⃖⃖⃖⃖⃖⃗ 𝑎𝑎𝑎 𝑎𝑎𝑎𝑎 ⃖⃖⃖⃖⃖⃖⃖⃖⃖ 𝑎𝑎𝑎𝑎𝑎
⃖⃖⃖⃖⃖⃖⃖⃖⃖⃖⃗ 𝑎𝑎𝑎𝑎𝑎𝑎
⃖⃖⃖⃖⃖⃖⃖⃖⃖⃖⃖⃖⃗
which is typed as
\begin{gather<em>}
\overleftarrow{a} \quad \overrightarrow{aa}<br />
\overleftrightarrow{aaa} \quad \underleftarrow{aaaa}\quad
\underrightarrow{aaaaa} \quad \underleftrightarrow{aaaaaa}
\end{gather</em>}</p>

<h4 id="5-8-3-stretchable-arrow-math-symbols">5.8.3 Stretchable arrow math symbols</h4>

<p>There are two stretchable arrow math symbols that extend to accommodate a
formula above or below the arrows with the \xleftarrow and \xrightarrow
commands. The formula on top is given as the argument (possibly empty) and
the formula below is an optional argument.
𝐴
1-1
←←←←←←←←←←←← ← → 𝐵 onto
←←←←←←←←←←←←←←←←←←
𝛼→𝛽
𝐶 ←←←←←←
𝛾
𝐷 ←←←𝐸
is typed as
[
A \xrightarrow{\text{1-1}} B \xleftarrow[\alpha\to\beta]
{\text{onto}} C \xleftarrow[\gamma]{} D \xleftarrow{} E
]
There are other stretchable arrow math symbols described in Section 7.8, but
they can only be used in commutative diagrams. See Section 13.4 for the TikZ
arrows and the tikz-cd package arrows.</p>

<h3 id="5-9-building-a-formula-step-by-step">5.9 Building a formula step-by-step</h3>

<p>It is easy to build complex formulas from the components described in this
section. Try the formula
[
𝑛
2
]
∑
𝑖=1
(𝑥𝑖
2
𝑖,𝑖+1
[
𝑖+3
3
]
) √
𝜇(𝑖)
3
2 (𝑖2 − 1)
√3 𝜌(𝑖)−2+ √3 𝜌(𝑖)−1
We build this formula in several steps. Create a new file in your work folder.
Name it formula.tex, type in the following lines, and save it:
%File: formula.tex
\documentclass{sample}
\begin{document}
\end{document}
At present, the file has an empty document environment. Type each part of the
formula as an inline or displayed formula within this environment, so that you
can typeset the document and check for errors.
Step 1 We start with [
𝑛
2
]
. Type the following line into formula.tex:
$\left[ \frac{n}{2} \right]$
and test it by typesetting the document.</p>

<p>Step 2 Now you can do the sum
[
𝑛
2
]
∑
𝑖=1
For the superscript, you can copy and paste the formula created in Step 1
(without the dollar signs), so that you have
[
\sum<em>{i = 1}^{ \left[ \frac{n}{2} \right] }
]
Step 3 Next, do the two formulas in the binomial
𝑥𝑖
2
𝑖,𝑖+1 [ 𝑖 + 3
3
]
Type them as separate formulas in formula.tex:
[
x</em>{i, i + 1}^{i^{2}}\qquad\left[ \frac{i + 3}{3} \right]
]
Step 4 Now it is easy to do the binomial. Piece together the following formula by copying and pasting the previous formulas and dropping the \qquad
command:
[
\binom{x_{i,i + 1}^{i^{2}}}{\left[\frac{i + 3}{3}\right]}
]
which typesets as
(𝑥𝑖
2
𝑖,𝑖+1
[
𝑖+3
3
]
)
Step 5 Next, type the formula under the square root, 𝜇(𝑖)
3
2 (𝑖
2 − 1):
$\mu(i)^{ \frac{3}{2} } (i^{2} - 1)$
and then the square root, √
𝜇(𝑖)
3
2 (𝑖2 − 1):
$\sqrt{ \mu(i)^{ \frac{3}{2} } (i^{2} - 1) }$
Step 6 The two cube roots, √3 𝜌(𝑖)−2 and √3 𝜌(𝑖)−1, are easy to type:
$\sqrt[3]{ \rho(i) - 2 }$ $\sqrt[3]{ \rho(i) - 1 }$</p>

<p>[\sum<em>{i=1}^{\left[\frac{n}{2}\right]}
\binom{x</em>{i,i+1}^{i^{2}}}{\left[\frac{i+3}{3}\right]}
\frac{\sqrt{\mu(i)^{\frac{3}{2}}}(i^{2}-1)}}{\sqrt[3]
{\rho(i)-2}+\sqrt[3]{\rho(i)-1}}]
Answer: \frac{3}{2 should be followed by }} and not by }}}.</p>

<h3 id="5-10-formula-gallery">5.10 Formula Gallery</h3>

<p>In this section I present a collection of formulas—some simple, some complex—
that illustrate the power of LATEX.
Some of these examples require the amssymb package, so it is a good idea
to include the line
\usepackage{amssymb,latexsym}
following the \documentclass line of any article.
Formula 1 A set-valued function
𝑥 ↦ {𝑐 ∈ 𝐶 ∣ 𝑐 ≤ 𝑥}
[
x \mapsto { c \in C \mid c \leq x }
]
Formula 2
|
|
|
⋃(𝐼𝑗 ∣ 𝑗 ∈ 𝐽)
|
|
|
&lt; 𝔪
[
\left| \bigcup ( I<em>{j} \mid j \in J ) \right| &lt; \mathfrak{m}
]
We use the delimiters \left| and \right|, see Section 5.5.1. The Fraktur 𝔪
is introduced in Section 6.4.2.
Formula 3 Note that you have to add spacing both before and after the text
fragment in the following example. The argument of \text is typeset in text
mode, so spaces are recognized.
𝐴 = {𝑥 ∈ 𝑋 ∣ 𝑥 ∈ 𝑋𝑖, for some 𝑖 ∈ 𝐼}
[
A = { x \in X \mid x \in X</em>{i},
\text{ for some $i \in I$} }
]</p>

<p>Formula 4 Space to show logical structure:
⟨𝑎1, 𝑎2⟩ ≤ ⟨𝑎′
1, 𝑎′
2⟩ iff 𝑎1 &lt; 𝑎′
1 or 𝑎1 = 𝑎′
1 and 𝑎2 ≤ 𝑎′
2
[
\langle a<em>{1}, a</em>{2} \rangle \leq
\langle a’<em>{1}, a’</em>{2}\rangle \qquad \text{if{f}}
\qquad a<em>{1} &lt; a’</em>{1} \quad \text{or}
\quad a<em>{1} = a’</em>{1} \text{ and } a<em>{2} \leq a’</em>{2}
]
Note that in if{f} (in the argument of the first \text) the second f is enclosed
in braces to avoid the use of the ligature—the merging of the two f’s. For the
proper way of typesetting iff without a ligature, see Section 3.4.6.
Formula 5 Here are some examples of Greek letters:
Γ𝑢′ = {𝛾 ∣ 𝛾 &lt; 2𝜒, 𝐵𝛼 ⊈ 𝑢′
, 𝐵𝛾 ⊆ 𝑢′
}
[
\Gamma<em>{u’} = {\gamma \mid \gamma &lt; 2\chi,\ B</em>{\alpha}
\nsubseteq u’, \ B<em>{\gamma} \subseteq u’ }
]
See Section A.1 for a complete listing of Greek letters. We use the command \␣
to properly space the formula. This command can be used both in text and in
math.
Formula 6 \mathbb allows you to use the blackboard bold math alphabet,
which only provides capital letters:
𝐴 = 𝐵2 × ℤ
[
A = B^{2} \times \mathbb{Z}
]
Formula 7 \left[ and \right] provide stretched delimiters:
𝑦𝐶 ≡ 𝑧 ∨
⋁
𝑖∈𝐶
<a href="mod Φ">
𝑠𝐶
𝑖
</a>
[
y^C \equiv z \vee \bigvee</em>{ i \in C } \left[ s_{i}^{C}
\right] \pmod{ \Phi }
]
Notice how the superscript is set directly above the subscript in 𝑠𝐶
𝑖 .</p>

<p>Formula 8 A complicated congruence:
𝑦 ∨
⋁([𝐵𝛾 ] ∣ 𝛾 ∈ Γ) ≡ 𝑧 ∨
⋁([𝐵𝛾 ] ∣ 𝛾 ∈ Γ) (mod Φ𝑥)
[
y \vee \bigvee ( [B<em>{\gamma}] \mid \gamma
\in \Gamma ) \equiv z \vee \bigvee ( [B</em>{\gamma}]
\mid \gamma \in \Gamma ) \pmod{ \Phi^{x} }
]
Formula 9 Use \nolimits to force the “limit” of the large operator to display
as a subscript (see Section 5.6.3):
𝑓(𝐱) = ⋁
𝔪
(⋀
𝔪(𝑥𝑗 ∣ 𝑗 ∈ 𝐼𝑖) ∣ 𝑖&lt;ℵ𝛼
)
[
f(\mathbf{x}) =
\bigvee\nolimits<em>{!\mathfrak{m}}
\left(
\bigwedge\nolimits</em>{\mathfrak{m}}
( x<em>{j} \mid j \in I</em>{i} )
\mid i &lt; \aleph<em>{\alpha}
\right)
]
Notice that I inserted a negative space (!) to bring the 𝔪 a little closer to the
big join symbol ⋁.
Formula 10 The \left. command gives a blank left delimiter, which is needed
to balance the \right| command:
𝐹̂(𝑥)
|
|
|
𝑏
𝑎 = 𝐹̂(𝑏) − 𝐹̂(𝑎)
[
\left. \widehat{F}(x) \right|</em>{a}^{b}
= \widehat{F}(b) - \widehat{F}(a)
]
Formula 11 The \underset and \overset commands build new symbols (see
Section 6.3.1):
𝑢 +
𝛼 𝑣
1
∼ 𝑤
2
∼ 𝑧
[
u \underset{\alpha}{+} v \overset{1}{\thicksim} w
\overset{2}{\thicksim} z
]
Note that the new symbols 1
∼ and 2
∼ are binary relations and +
𝛼 is a binary
operation.</p>

<p>Formula 12 Small size bold def:
𝑓(𝑥)
𝐝𝐞𝐟
= 𝑥2 − 1
[
f(x) \overset{ \mathbf{def} }{ = } x^{2} - 1
]
Formula 13 Math accents run amok:
̆
𝑛̆
⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞⏞
𝑎∨ + 𝑏∨ + ⋯ + 𝑧∨
[
\overbrace{a\spcheck + b\spcheck + \dots + z\spcheck}^
{\breve{\breve{n}}}
]
Recall that for the \sp commands you need the amsxtra package.
Formula 14
|
|
|
|
|
𝑎 + 𝑏 + 𝑐 𝑢𝑣
𝑎 + 𝑏 𝑐 + 𝑑
|
|
|
|
|
= 7
[
\begin{vmatrix}
a+b+c&amp; uv<br />
a+b&amp;c+d
\end{vmatrix}
= 7
]
‖
‖
‖
‖
‖
𝑎 + 𝑏 + 𝑐 𝑢𝑣
𝑎 + 𝑏 𝑐 + 𝑑
‖
‖
‖
‖
‖
= 7
[
\begin{Vmatrix}
a+b+c&amp; uv<br />
a+b&amp;c+d
\end{Vmatrix}
= 7
]</p>

<p>Formula 15
𝜶2 ∑
𝑗∈𝐍
𝑏𝑖𝑗𝑦̂𝑗 = ∑
𝑗∈𝐍
𝑏
(𝜆)
𝑖𝑗 𝑦̂𝑗 + (𝑏𝑖𝑖 − 𝜆𝑖)𝑦̂𝑖𝑦̂
[
\boldsymbol{\alpha}^2\sum<em>{j \in \mathbf{N}} b</em>{ij}
\hat{y}<em>{j} = \sum</em>{j \in \mathbf{N}}
b^{(\lambda)}<em>{ij}\hat{y}</em>{j}
+ (b<em>{ii} - \lambda</em>{i}) \hat{y}<em>{i} \hat{y}
]
\mathbf{N} makes a bold 𝐍 and \boldsymbol{\alpha} produces a bold 𝜶 (see
Section 6.4.2).
Formula 16 To produce the formula
(∏𝑛
𝑗=1
𝑥̂𝑗
)
𝐻𝑐 = 1
2
𝑘̂
𝑖𝑗 det 𝐊̂(𝑖|𝑖)
try typing
[
\left( \prod^n</em>{j = 1} \hat{ x }<em>{j} \right) H</em>{c}=
\frac{1}{2} \hat{k}<em>{ij} \det \hat{ \mathbf{K} }(i|i)
]
which typesets as
(
∏𝑛
𝑗=1
𝑥̂𝑗
)
𝐻𝑐 = 1
2
𝑘̂
𝑖𝑗 det 𝐊̂ (𝑖|𝑖)
This is not quite right. You can correct the overly large parentheses by using the
\biggl and \biggr commands in place of \left( and \right), respectively
(see Section 5.5.2). Adjust the small hat over 𝐊 by using \widehat:
[
\biggl( \prod^n</em>{ j = 1} \hat{ x }<em>{j} \biggr)
H</em>{c} = \frac{1}{2}\hat{ k }_{ij}
\det \widehat{ \mathbf{K} }(i|i)
]
which gives you the desired formula.
Formula 17 In this formula, I have used \overline{I} to get 𝐼. You could,
instead, use \bar{I}, which is typeset as 𝐼̄.
det 𝐊(𝑡 = 1, 𝑡1,…, 𝑡𝑛) = ∑
𝐼∈𝐧
(−1)|𝐼|
∏
𝑖∈𝐼
𝑡𝑖
∏
𝑗∈𝐼
(𝐷𝑗 + 𝜆𝑗𝑡𝑗) det 𝐀(𝜆)
(𝐼|𝐼)=0</p>

<p>[
\det \mathbf{K} (t = 1, t<em>{1}, \dots, t</em>{n}) =
\sum<em>{I \in \mathbf{n} }(-1)^{|I|} \prod</em>{i \in I}t<em>{i}
\prod</em>{j \in I} (D<em>{j} + \lambda</em>{j} t<em>{j})
\det \mathbf{A}^{(\lambda)}
(\overline{I} | \overline{I}) = 0
]
Formula 18 The command | provides the ‖ math symbol in this formula:
lim
(𝑣,𝑣′)→(0,0)
𝐻(𝑧 + 𝑣) − 𝐻(𝑧 + 𝑣′
) − 𝐵𝐻(𝑧)(𝑣 − 𝑣′
)
‖𝑣 − 𝑣′‖ = 0
[
\lim</em>{(v, v’) \to (0, 0)}
\frac{H(z + v) - H(z + v’) - BH(z)(v - v’)}
{| v - v’ |} = 0
]
Formula 19 This formula uses the calligraphic math alphabet (introduced in
Section 6.4.2):
∫
|𝜕𝑢|
2Φ0(𝑧)𝑒𝛼|𝑧|
2
≥ 𝑐4𝛼 ∫
|𝑢|
2Φ0𝑒𝛼|𝑧|
2
+ 𝑐5𝛿−2 ∫𝐴
|𝑢|
2Φ0𝑒𝛼|𝑧|
2
[
\int<em>{\mathcal{D}} | \overline{\partial u} |^{2}
\Phi</em>{0}(z) e^{\alpha |z|^2}
\geq c<em>{4} \alpha \int</em>{\mathcal{D}} |u|^{2}\Phi<em>{0}
e^{\alpha |z|^{2}}
+ c</em>{5} \delta^{-2} \int<em>{A} |u|^{2}
\Phi</em>{0} e^{\alpha |z|^{2}}
]
Formula 20 The \hdotsfor command sets dots that span multiple columns in
a matrix. The \dfrac command is the displayed variant of the \frac command
(see Section 5.4.1), used here because the matrix entries with \frac would look
too small.
𝐀 =
⎛
⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎜
⎝
𝜑 ⋅ 𝑋𝑛,1
𝜑1 × 𝜀1
(𝑥 + 𝜀2)
2 ⋯ (𝑥 + 𝜀𝑛−1)
𝑛−1 (𝑥 + 𝜀𝑛)
𝑛
𝜑 ⋅ 𝑋𝑛,1
𝜑2 × 𝜀1
𝜑 ⋅ 𝑋𝑛,2
𝜑2 × 𝜀2
⋯ (𝑥 + 𝜀𝑛−1)
𝑛−1 (𝑥 + 𝜀𝑛)
𝑛
...................................................
𝜑 ⋅ 𝑋𝑛,1
𝜑𝑛 × 𝜀1
𝜑 ⋅ 𝑋𝑛,2
𝜑𝑛 × 𝜀2
⋯ 𝜑 ⋅ 𝑋𝑛,𝑛−1
𝜑𝑛 × 𝜀𝑛−1
𝜑 ⋅ 𝑋𝑛,𝑛
𝜑𝑛 × 𝜀𝑛
⎞
⎟
⎟
⎟
⎟
⎟
⎟
⎟
⎟
⎠</p>

<p>[
\mathbf{A} =
\begin{pmatrix}
\dfrac{\varphi \cdot X<em>{n, 1}} {\varphi</em>{1} \times
\varepsilon<em>{1}} &amp; (x + \varepsilon</em>{2})^{2}
&amp; \cdots &amp; (x + \varepsilon<em>{n - 1})^{n - 1}
&amp; (x + \varepsilon</em>{n})^{n}\[10pt]
\dfrac{\varphi \cdot X<em>{n, 1}} {\varphi</em>{2} \times
\varepsilon<em>{1}} &amp; \dfrac{\varphi \cdot X</em>{n, 2}}
{\varphi<em>{2} \times \varepsilon</em>{2}} &amp; \cdots &amp;
(x + \varepsilon<em>{n - 1})^{n - 1}
&amp; (x + \varepsilon</em>{n})^{n}<br />
\hdotsfor{5}<br />
\dfrac{\varphi \cdot X<em>{n, 1}} {\varphi</em>{n} \times
\varepsilon<em>{1}} &amp; \dfrac{\varphi \cdot X</em>{n, 2}}
{\varphi<em>{n} \times \varepsilon</em>{2}} &amp; \cdots
&amp; \dfrac{\varphi \cdot X<em>{n, n - 1}} {\varphi</em>{n}
\times \varepsilon<em>{n - 1}} &amp;
\dfrac{\varphi\cdot X</em>{n, n}}
{\varphi<em>{n} \times \varepsilon</em>{n}}
\end{pmatrix}
+ \mathbf{I}_{n}
]
Recall the discussion of \dots vs. \cdots and \ldots in Section 5.4.3. In this
formula, we have to use \cdots. Matrices are discussed in detail in Section 7.7.1.
Note the use of the command \[10pt]. If you use \ instead, the first
and second lines of the matrix are set too close.
I show you in Section 14.1.2 how to rewrite this formula to make it shorter
and more readable.</p>

<h2 id="6-more-math">6 More math</h2>

<p>In the previous chapter, we discussed the basic building blocks of a formula and how to put them together to form more complex formulas. This chapter starts out by going one step lower, to the characters that make up a formula. We discuss math symbols and math alphabets.</p>

<p>在前一章中，我们讨论了公式的基本构造块以及如何将它们组合在一起来形成更复杂的公式。一章一开始就往下走了一步，到组成公式的字符。我们讨论数学符号和数学字母。</p>

<p>LATEX was designed for typesetting math, so it is not surprising that it contains a very large number of math symbols. Appendix A lists them all. Section 6.2 introduces the STIX symbols, some 2,000 of them. Section 6.1 classifies and describes them.</p>

<p>LATEX本来是为排版数学设计的，所以它包含了大量的数学符号也就不足为奇了。附录A列出了所有这些。第6.2节介绍了大约2000个STIX符号。第6.1节对它们进行了分类和描述。</p>

<p>Section 6.3 discusses how to build new symbols from existing ones. Math alphabets and symbols are discussed in Section 6.4. Horizontal spacing commands in math are described in Section 6.5.</p>

<p>第6.3节讨论如何从现有符号构建新符号。数学字母和符号将在第6.4节中讨论。数学中的水平间距命令在6.5节中进行了描述。</p>

<p>LATEX provides a variety of ways to number and tag equations. These techniques are described in Section 6.6. We conclude the chapter with two minor topics: generalized fractions (Section 6.7.1) and boxed formulas (Section 6.7.2).</p>

<p>LATEX提供了多种计数和标记等式的方法。这些技术将在第6.6节中描述。我们用两个次要的主题来结束这一章:广义分数(第6.7.1节)和方框公式(第6.7.2节)。</p>

<h3 id="6-1-spacing-of-symbols">6.1 Spacing of symbols</h3>

<p>LATEX provides a large variety of math symbols: Greek characters (𝛼), binary operations (◦), binary relations (≤), negated binary relations (≰), arrows ( ↗ ), delimiters
( { ), and so on. All the math symbols provided by LATEX are listed in the tables of
Appendix A. Consider the formula
𝐴 = {𝑥 ∈ 𝑋 ∣ 𝑥𝛽 ≥ 𝑥𝑦 &gt; (𝑥 + 1)2 − 𝛼}
which is typed as
[
A = { x \in X \mid x \beta \geq x y
&gt; (x + 1)^{2} - \alpha }
]
The spacing of the symbols in the formula varies. In 𝑥𝛽, the two symbols are very close.
In 𝑥 ∈ 𝑋, there is some space around the ∈, and in 𝑥 + 1, there is somewhat less space
around the +.</p>

<h4 id="6-1-1-classification">6.1.1 Classification</h4>

<p>LATEX classifies symbols into several categories or types and spaces them accordingly.
In the formula
𝐴 = {𝑥 ∈ 𝑋 ∣ 𝑥𝛽 ≥ 𝑥𝑦 &gt; (𝑥 + 1)2 − 𝛼}
we find
Ordinary math symbols: 𝐴, 𝑥, 𝑋, 𝛽, and so on
Binary relations: =, ∈, |, ≥, and &gt;
Binary operations: + and −
Delimiters: {, }, (, and )
As a rule, you do not have to be concerned with whether or not a given symbol
in a formula, say ×, is a binary operation. LATEX knows and spaces the typeset symbol
correctly.</p>

<h4 id="6-1-2-three-exceptions">6.1.2 Three exceptions</h4>

<p>There are three symbols with more than one classification:
+ − |
+ or − could be either a binary operation, for instance, 𝑎−𝑏, or a sign, for instance, −�.</p>

<p>Rule + and −
+ or − are binary operations when preceded and followed by a symbol or an empty
group, { }.
So, for instance, in
(𝐴 + 𝐵𝐶)𝑥 + 𝐶𝑦 = 0,
𝐸𝑥 + (𝐹 + 𝐺)𝑦 = 23.
which is typed as (see the alignat* environment in Section 7.5.4)
\begin{alignat<em>}{2}
(A + B C)x &amp;{}+{} &amp;C &amp;y = 0,<br />
Ex &amp;{}+{} &amp;(F + G)&amp;y = 23.
\end{alignat</em>}
we use the empty groups, { }, to tell LATEX that the second + in line 1 and the first + in
line 2 of the formula are binary operations. If we leave out the empty groups, and type
instead
\begin{alignat<em>}{2}
(A + B C)x &amp;+ &amp;C &amp;y = 0,<br />
Ex &amp;+ &amp;(F + G)&amp;y = 23.
\end{alignat</em>}
we get
(𝐴 + 𝐵𝐶)𝑥+ 𝐶𝑦 = 0,
𝐸𝑥+(𝐹 + 𝐺)𝑦 = 23.
Another illustration is given later in this section using the \phantom command. This
problem often arises in split formulas, for example if the formula is split just before a
+ or −, you should start the next line with {}+ or {}-. See Section 7.3 for examples.
The | symbol can play several different roles in a math formula, so LATEX provides
separate commands to specify the symbol’s meaning.
Rule The four roles of the | symbol
| ordinary math symbol
\mid binary relation
\left| left delimiter
\right| right delimiter
Note the differences between the spacing in 𝑎|𝑏, typed as $a | b$, and in 𝑎 ∣ 𝑏, typed
as $a \mid b$.</p>

<p>Name Width Short Long
1 mu (math unit) \mspace{1mu}
thinspace \, \thinspace
medspace : \medspace
thickspace \; \thickspace
interword space \␣
1 em \quad
2 em \qquad
Negative space
1 mu \mspace{-1mu}
thinspace ! \negthinspace
medspace \negmedspace
thickspace \negthickspace
Table 6.1: Math spacing commands.</p>

<h4 id="6-1-3-spacing-commands">6.1.3 Spacing commands</h4>

<p>There are some situations where LATEX cannot typeset a formula properly and you have
to add spacing commands. Luckily, LATEX provides a variety of spacing commands,
listed in Table 6.1. The \neg commands remove space by “reversing the print head”.
The \quad and \qquad commands are often used to adjust aligned formulas (see
Chapter 7) or to add space before text in a math formula. The size of \quad (= 1 em)
and \qquad (= 2 em) depends on the current font.
The \, and ! commands are the most useful for fine tuning math formulas, see
some examples in the Formula Gallery and in the next section. The \mspace command
and the math unit mu provides you with even finer control. 18 mu = 1 em, defined in
Section 3.8.3. For example, \mspace{3mu} adds a space that is 1/6 em long. There is
an interesting use of mu on page 90.</p>

<h4 id="6-1-4-examples">6.1.4 Examples</h4>

<p>We present some examples of fine tuning. One more example can be found in Section 6.3.1.
Example 1 In Section 1.6, we type the formula ∫ 𝜋
0 sin 𝑥 𝑑𝑥 = 2 as
$\int_{0}^{\pi} \sin x \, dx = 2$
Notice the thinspace spacing command \, between \sin x and dx. Without the command, LATEX would have crowded sin 𝑥 and 𝑑𝑥: ∫ 𝜋
0 sin 𝑥𝑑𝑥 = 2.</p>

<p>Example 2 | − 𝑓(𝑥)|, typed as $|-f(x)|$, is spaced incorrectly. − becomes a binary operation by the + and − rule. To get the correct spacing, as in |−𝑓(𝑥)|, type
$\left|-f(x)\right|$. This form tells LATEX that the first | is a left delimiter, by
the | rule, and therefore − is the unary minus sign, not the binary subtraction operation.
Example 3 In √
5side, typed as
$\sqrt{5} \text{side}$
√
5 is too close to side. So type it as
$\sqrt{5} \, \text{side}$
which typesets as √
5 side.
Example 4 In sin 𝑥∕ log 𝑛, the division symbol ∕ is too far from log 𝑛, so type
$\sin x / ! \log n$
which prints sin 𝑥∕log 𝑛.
Example 5 In 𝑓(1∕√𝑛), typed as
$f(1 / \sqrt{n})$
the square root almost touches the closing parenthesis. To correct it, type
$f(1 / \sqrt{n}\,)$
which typesets as 𝑓(1∕√𝑛 ).
There is one more symbol with special spacing: the \colon command, used
for formulas such as 𝑓 ∶ 𝐴 → 𝐵 (typed as $f \colon A \to B$). Observe that
$f: A \to B$ typesets as 𝑓 ∶ 𝐴 → 𝐵. The spacing is awful. See Section 6.3.3
on how to declare the type of a symbol.</p>

<h4 id="6-1-5-the-phantom-command">6.1.5 The phantom command</h4>

<p>The \phantom{argument } command (introduced for text in Section 3.8.1) produces
a space in a formula equivalent to the space that would be occupied by its typeset argument. This command is one of the most powerful tools available to us for fine tuning
alignments. Here are two simple illustrations:
𝐴 =
⎛
⎜
⎜
⎝
131
211
−2 2 −1
⎞
⎟
⎟
⎠</p>

<p>typed as
[
A = \begin{pmatrix}
\phantom{-}1 &amp; \phantom{-}3 &amp; \phantom{-}1<br />
\phantom{-}2 &amp; \phantom{-}1 &amp; \phantom{-}1<br />
-2 &amp; \phantom{-}2 &amp; -1<br />
\end{pmatrix}
]
and
𝑎 + 𝑏 + 𝑐 + 𝑑 = 0,
𝑐 + 𝑑 + 𝑒 = 5.
typed as
\begin{align<em>}
a+b+c&amp;+d \phantom{ {}+e } = 0,<br />
c &amp; + d + e = 5.
\end{align</em>}
Note that \phantom{+e} yields incorrect spacing by the + and − rule:
𝑎 + 𝑏 + 𝑐 + 𝑑 = 0,
𝑐 + 𝑑 + 𝑒 = 5.
See Section 7.6.2 for an additional example.</p>

<h3 id="6-2-the-stix-math-symbols">6.2 The STIX math symbols</h3>

<h4 id="6-2-1-swinging-it">6.2.1 Swinging it</h4>

<p>In a recent paper of mine (see arXiv: 1312.2537), I introduce the concept of a swing:
a prime interval 𝔭 swings to another one, 𝔮, as exemplified by this diagram:</p>

<p>LATEX provides a nice curved arrow, \curvearrowright, typeset as ↷; unfortunately,
it is upside down (you don’t swing that way). Utilizing the graphicx package, I solved
my problem by defining
\newcommand{\swing}
{\mathbin{{\rotatebox{180}{$\curvearrowleft$}}}}
which turns \curvearrowleft, ↶, 180 degrees: 𝔭 ↶𝔮. Raise it with \raisebox:
𝔭 ↶𝔮, typed as
\mathfrak p \swingraised \mathfrak q
where
\newcommand{\swingraised}{\mathbin{\raisebox{3.0pt}
{\rotatebox{160}{$\curvearrowleft$}}}}
A better way to solve the problem is by utilizing the 2,000 or so new math symbols
offered by STIX.</p>

<h4 id="6-2-2-the-stix-project">6.2.2 The STIX project</h4>

<p>“The mission of the Scientific and Technical Information Exchange (STIX) font creation project is the preparation of a comprehensive set of fonts that serve the scientific
and engineering community in the process from manuscript creation through final publication, both in electronic and print formats.” The symbols were completed by 2006.
The LATEX Version 1.1.1 was released for my birthday in 2014.</p>

<h4 id="6-2-3-installation-and-usage">6.2.3 Installation and usage</h4>

<p>If you have a TEX installation from 2014, then you should already have the STIX fonts
installed. To test whether you have the STIX fonts installed, try to typeset the following
tiny article:
\documentclass{article}
\usepackage{stix}
\begin{document}
Some text, and a math formula $\ccwundercurvearrow$.
\end{document}
This should typeset as
To use the STIX fonts, load the STIX package, as in the example. Note that the
STIX package has to be loaded ahead of the AMS packages. Since the amsart document class loads many AMS packages, we have to use the unusual construct:</p>

<p>\RequirePackage{stix}
\documentclass{amsart}
\begin{document}
Some text, and a math formula $\ccwundercurvearrow$.
\end{document}
This typesets the same as the previous example.
If your installation is not up-to-date, it is simpler to update it than to try to install
the STIX fonts yourself. You can find the STIX fonts at
<a href="https://sourceforge.net/projects/stixfonts">https://sourceforge.net/projects/stixfonts</a>
Download the package; you get the folder STIXv2. In STIXv2, you find the folder
Fonts. It contains
1. the fonts (inside the Fonts folder, there is a subfolder fonts, which contains a subfolder opentype, which contains a subfolder public; this contains a subfolder
stix, containing the five font files);
2. the style file stix.sty (inside the Fonts folder, there is a subfolder tex, which
contains a subfolder latex; this contains a subfolder stix, containing a lot of files,
including the style file);
3. and the documentation stix.pdf (inside the Fonts folder, there is a subfolder doc,
which contains a subfolder fonts; this contains a subfolder stix, containing several
files, including the document file).
To install the fonts, follow the steps appropriate for your operating system.
All the math symbols are listed in 19 pages of STIX.pdf; we located this document
in the third item above, see also in the samples folder. See Figure 6.1, for the second
of these 19 pages. These pages show all the symbols and the commands necessary to
produce them. So to get, type \varcarriagereturn. An * indicates that there is no
bold version of the symbol. You can find STIX.pdf is the samples folder.
How to find a symbol in the 19 page listing? With perseverance. The symbols are
divided into 12 parts; the longest is Relations, about seven pages! Within a part, they
are listed by their hexadecimal number.</p>

<h3 id="6-3-building-new-symbols">6.3 Building new symbols</h3>

<p>No matter how many math symbols LATEX provides, users always seem to want more.
LATEX gives you excellent tools to build new symbols from existing ones.</p>

<h4 id="6-3-1-stacking-symbols">6.3.1 Stacking symbols</h4>

<p>To place any symbol above, or below, any other, for instance, u
∼, use the \overset
command. It takes two arguments—the first argument is set in a smaller size above the</p>

<p>U+2037 \backtrprime
U+2038 \caretinsert
U+203C \Exclam
U+2043 \hyphenbullet*
U+2047 \Question
U+2057 \qprime
U+20DD \enclosecircle
U+20DE \enclosesquare*
U+20DF \enclosediamond*
U+20E4 \enclosetriangle
U+2107 \Eulerconst
U+210F \hbar*
U+210F \hslash
U+2111 \Im
U+2113 \ell
U+2118 \wp
U+211C \Re
U+2127 \mho
U+2129 \turnediota
U+212B \Angstrom
U+2132 \Finv
U+2135 \aleph
U+2136 \beth
U+2137 \gimel
U+2138 \daleth
U+2141 \Game*
U+2142 \sansLturned*
U+2143 \sansLmirrored*
U+2144 \Yup*
U+214A \PropertyLine*
U+21A8 \updownarrowbar
U+21B4 \linefeed
U+21B5 \carriagereturn
U+21B8 \barovernorthwestarrow
U+21B9 \barleftarrowrightarrowbar
U+21BA \acwopencirclearrow
U+21BB \cwopencirclearrow
U+21DE \nHuparrow*
U+21DF \nHdownarrow*
U+21E0 \leftdasharrow*
U+21E1 \updasharrow*
U+21E2 \rightdasharrow*
U+21E3 \downdasharrow*
U+21E6 \leftwhitearrow
U+21E7 \upwhitearrow
U+21E8 \rightwhitearrow
U+21E9 \downwhitearrow
U+21EA \whitearrowupfrombar
U+2200 \forall
U+2201 \complement
U+2203 \exists
U+2204 \nexists
U+2205 \varnothing
U+2205 \emptyset
U+2206 \increment
U+220E \QED*
U+221E \infty
U+221F \rightangle
U+2220 \angle
U+2221 \measuredangle
U+2222 \sphericalangle
U+2234 \therefore
U+2235 \because
U+223F \sinewave
U+22A4 \top
U+22A5 \bot
U+22B9 \hermitmatrix
U+22BE \measuredrightangle
U+22BF \varlrtriangle
U+22EF \cdots
U+2300 \diameter*
U+2302 \house
U+2310 \invnot
U+2311 \sqlozenge*
U+2312 \profline*
U+2313 \profsurf*
U+2317 \viewdata*
U+2319 \turnednot
U+232C \varhexagonlrbonds*
U+2332 \conictaper*
U+2336 \topbot
U+2340 \APLnotbackslash*
U+2353 \APLboxupcaret*
U+2370 \APLboxquestion*
U+237C \rangledownzigzagarrow*
U+2394 \hexagon*
U+23B6 \bbrktbrk
U+23CE \varcarriagereturn*
U+23E0 \obrbrak
U+23E1 \ubrbrak
U+23E2 \trapezium*
U+23E3 \benzenr*
Figure 6.1: A sample page from the STIX document.</p>

<p>second argument. The spacing rules of the symbol in the second argument remain valid,
i.e., the type remains the same. Since ∼ is a binary relation, so is u
∼. The \underset
command is the same except that the first argument is set under the second argument.
For example, 𝛼
𝑎 𝑋⋅
𝛼
𝑎𝑖
𝛼
𝑎𝑖
are typed as
[
\overset{\alpha}{a} \qquad
\underset{\boldsymbol{\cdot}}{X} \qquad
\overset{\alpha}{ a<em>{i} } \qquad
\overset{\alpha}{a}</em>{i}
]
For the \boldsymbol command, see Section 6.4.3. Note that in the third example, 𝛼
𝑎𝑖,
the 𝛼 seems to be sitting too far to the right but the fourth example corrects that.
You can also use these commands with binary relations, as in
𝑓(𝑥)
def
= 𝑥2 − 1
which is typed as
[
f(x) \overset{ \text{def} }{=} x^{2} - 1
]
Since = is a binary relation,
def
= becomes a binary relation, as shown by the spacing on
either side. Here is another example,
𝑎
𝑏
𝑢
+ 𝑐
𝑑
𝑙
+ 𝑒
𝑓
which is typed as
[
\frac{a}{b} \overset{u}{+} \frac{c}{d}
\overset{l}{+} \frac{e}{f}
]
Note that 𝑢
+ and
𝑙
+ are properly spaced as binary operations.
As we discuss in Section 5.4.6, the safer definitions for these examples are
[
f(x) \overset{ \normalfont\text{def} }{=} x^{2} - 1
]</p>

<p>and
[
\frac{a}{b} \overset{\normalfont u}{+} \frac{c}{d}
\overset{\normalfont l}{+} \frac{e}{f}
]</p>

<h4 id="6-3-2-negating-and-side-setting-symbols">6.3.2 Negating and side-setting symbols</h4>

<p>You can negate with the \not command; for instance, 𝑎 ∉ 𝑏 and 𝑎 ≠ 𝑏 are typed as
$a \not\in b$ and $a \not= b$, respectively. It is preferable, however, to use the
negated symbols ∉, typed as $\notin$, and ≠, typed as $\ne$. See the negated binary
relations table in Section A.2. For instance, “𝑎 does not divide 𝑏”, 𝑎 ∤ 𝑏, should be typed
as $a \nmid b$, not as $a \not\mid b$, which typesets as 𝑎 ∤ 𝑏. In Section 6.3.3,
you learn how to improve 𝑎 ∤ 𝑏 to 𝑎 ̸| 𝑏, typed as $a \mathrel{\not|} b$. However,
$a \nmid b$ is still best.
LATEX provides the \sideset command to set symbols at the corners of large
operators other than the “corners” (the last four delimiters in Table 5.3). This command
takes three arguments:
\sideset{ _{ll }^{ul } }{ _{lr }^{ur } }{large_op }
where ll stands for the symbol to be placed at the lower left, ul for upper left, lr for
lower right, and ur for upper right; large<em>op is a large operator. These two examples,
∏𝑐
𝑎 and 𝑒∏
are typed as
[
\sideset{}{</em>{a}^{c}}{\prod}\text{ and } \sideset{^{e}}{}{\prod}
]
Note that the two first arguments are compulsory, although one or the other may be
empty, while the third argument must contain the large operator.
Here is a more meaningful example:
[
\sideset{}{’}{\sum}<em>{\substack{ i &lt; 10\ j &lt; 10 } } x</em>{i}z_{j}
]
it is typeset as
∑′
𝑖&lt;10
𝑗&lt;10
𝑥𝑖𝑧�</p>

<p>In this example, note that prime (′
) is an automatically superscripted symbol (see Section 5.4.1), so you do not have to type ^’ in the second argument. Typing \sum’ would
not work, since LATEX would place the prime above the sum symbol.
Thus, \sideset helps in mixing sub- and superscripts in “limit” positions with
others in “nolimit” positions, allowing for a total of six positions in displayed operators
with limits. Try 𝑟
𝑐
𝑎
∏𝑖
𝑒 𝑛
typed as
[
\sideset{<em>{a}^{c}}{</em>{e}^{i}}{\prod}_{n}^{r}
]</p>

<h4 id="6-3-3-changing-the-type-of-a-symbol">6.3.3 Changing the type of a symbol</h4>

<p>Some symbols are binary relations and some are binary operations (see Section 6.1).
In fact, you can force any symbol to behave like either type. The \mathbin command
declares its argument to be a binary operation. For example,
\mathbin{\alpha}
makes this instance of \alpha behave like a binary operation, as in 𝑎𝛼𝑏, typed as
$a \mathbin{\alpha} b$
You can use the \mathrel command to make a symbol behave like a binary relation,
as in the formula 𝑎𝛼𝑏, typed as
$a \mathrel{ \alpha } b$
You can see
𝑎𝛼𝑏 ($a \mathbin{\alpha} b$)
𝑎𝛼𝑏 ($a \mathrel{\alpha} b$)
that a binary relation provides a bit more space than a binary operation. There is an
interesting use of \mathbin on page 90.
In Section 14.1.6, we discussed the \DeclareMathOperator command and its
*-ed version, to declare a symbol—or any text or formula—a math operator.</p>

<h3 id="6-4-math-alphabets-and-symbols">6.4 Math alphabets and symbols</h3>

<p>The classification of math symbols in the context of spacing was discussed in Section 6.1. The symbols in a formula can also be classified as characters from math alphabets and math symbols. In the formula
𝐴 = {𝑥 ∈ 𝑋 ∣ 𝑥𝛽 ≥ 𝑥𝑦 &gt; (𝑥 + 1)2 − 𝛼}</p>

<p>the following characters come from math alphabets:
𝐴𝑥𝑋𝑦 1 2
whereas these characters are math symbols:
= {∈∣ 𝛽 ≥ &gt; (+) − 𝛼 }</p>

<h4 id="6-4-1-math-alphabets">6.4.1 Math alphabets</h4>

<p>The letters and digits typed in a math formula come from math alphabets. LATEX’s default math alphabet—the one you get if you do not ask for something else—is Computer
Modern math italic for letters. In the formula 𝑥2 ∨ 𝑦3 = 𝛼, the characters 𝑥 and 𝑦 come
from this math alphabet. The default math alphabet for digits is Computer Modern
roman and the digits 2 and 3 in this formula are typeset in Computer Modern roman.
LATEX has a number of commands to switch type style in math. The two most
important commands select the bold and italic versions:
Command Math alphabet Produces
\mathbf{a} math bold 𝟐 𝐆𝐫𝐞𝐞𝐤 𝐠𝐚𝐦𝐦𝐚𝐬, 𝛾 𝐚𝐧𝐝 𝚪
\mathit{a} math italic 2 𝐺𝑟𝑒𝑒𝑘 𝑔𝑎𝑚𝑚𝑎𝑠, 𝛾 𝑎𝑛𝑑 𝛤
These commands change the style of letters, numbers, and upper case Greek characters.
But beware of the pitfalls. For instance, in \mathit{left-side} the hyphen typesets
as a minus: 𝑙𝑒𝑓 𝑡 − 𝑠𝑖𝑑𝑒.
There are four more commands that switch math alphabets:
Command Math Alphabet Produces
\mathsf{a} math sans serif 𝟤 𝖦𝗋𝖾𝖾𝗄 𝗀𝖺𝗆𝗆𝖺𝗌, 𝛾 𝖺𝗇𝖽 
\mathrm{a} math roman 2 Greek gammas, 𝛾 and Γ
\mathtt{a} math typewriter 𝟸 𝙶𝚛𝚎𝚎𝚔 𝚐𝚊𝚖𝚖𝚊𝚜, 𝛾 𝚊𝚗𝚍 ⟳
\mathnormal{a} math italic 2 𝐺𝑟𝑒𝑒𝑘 𝑔𝑎𝑚𝑚𝑎𝑠, 𝛾 𝑎𝑛𝑑 𝛤
Math roman is used in formulas for operator names, such as sin in sin 𝑥, and for
text. For operator names, you should use the \DeclareMathOperator command or
the *-ed version, which sets the name of the operator in math roman, and also provides
the proper spacing (see Section 6.3.3). For text, you should use the \text command
(see Section 5.4.6).
The \mathnormal command switches to the default math alphabet; it is seldom
used in practice.
The Computer Modern fonts include a math bold italic alphabet, but LATEX does
not provide a command to access it.</p>

<p>Rule Math alphabets vs. text alphabets
Do not use text alphabets in a math formula, except in the argument of a \text
command.
It may not be easy to see the difference, but some things will not look right or may not
align properly.</p>

<h4 id="6-4-2-math-symbol-alphabets">6.4.2 Math symbol alphabets</h4>

<p>You may have noticed that 𝛼 was not classified as belonging to an alphabet in the example at the beginning of this section. Indeed, 𝛼 is treated by LATEX as a math symbol
rather than as a member of a math alphabet. You cannot italicize or slant it, nor is
there a sans serif version. There is a bold version, but you must use the \boldsymbol
command to produce it. For instance, 𝜶𝜷, is typed as
$\boldsymbol{\alpha}_{\boldsymbol{\beta}}$
Note that 𝜷 appears in a small size in 𝜶𝜷.
Four “alphabets of symbols” are built into LATEX.
Greek The examples 𝛼, 𝛽, Γ are typed as
$\alpha, \beta, \Gamma$
See Section A.1 for the symbol tables.
Calligraphic an uppercase-only alphabet invoked with the \mathcal command.
The examples , ,  are typed as
$\mathcal{A}, \mathcal{C}, \mathcal{E}$
Euler Fraktur invoked by the \mathfrak command. The examples 𝔫, 𝔑, 𝔭, 𝔓 are
typed as
$\mathfrak{n}, \mathfrak{N}, \mathfrak{p}, \mathfrak{P}$
Blackboard bold uppercase-only math alphabet, invoked with \mathbb. The examples 𝔸,𝔹, ℂ are typed as
$\mathbb{A}, \mathbb{B}, \mathbb{C}$</p>

<h4 id="6-4-3-bold-math-symbols">6.4.3 Bold math symbols</h4>

<p>In math, most characteristics of a font are specified by LATEX. One exception is boldface. To make a letter bold from a math alphabet within a formula, use the \mathbf
command. For instance, in
we choose the vector 𝐯
the bold 𝐯 is produced by $\mathbf{v}$.
To obtain bold math symbols, use the \boldsymbol command. For example, the
bold symbols
𝟓 𝜶 𝚲  → 𝑨
are typed as
[
\boldsymbol{5} \quad \boldsymbol{\alpha}
\quad \boldsymbol{\Lambda}\quad\boldsymbol{\mathcal{A}}
\quad \boldsymbol{\to} \quad \boldsymbol{A}
]
Note that \boldsymbol{A} typesets as 𝑨, a bold math italic A. To get an upright 𝐀,
type $\mathbf{A}$. The digit 5 did not really need \boldsymbol; \mathbf{5} gives
the same result.
To make an entire formula bold, use the \mathversion{bold} command, as in
{\mathversion{bold} $a \equiv c \pod{\theta}$}
which typesets as 𝒂 ≡ 𝒄 (𝜽). Note that the \mathversion{bold} command is given
before the formula.
To typeset , type
$\boldsymbol{ \mathcal{A} } \boldsymbol{ \mathcal{M} }
\boldsymbol{ \mathcal{S} }$
or
$\boldsymbol{ \mathcal{AMS} }$
or
{\mathversion{bold} $\mathcal{AMS}$}
Within the scope of \mathversion{bold}, you can undo its effect with
\mathversion{normal}</p>

<p>Not all symbols have bold variants. For example, if you type
$\sum \quad \boldsymbol{\sum}$
you get ∑ ∑, two identical symbols. If you want to obtain a bold version, use the
poor man’s bold invoked by the \pmb command. This command typesets the symbol
three times very close to one another producing a bold symbol of some quality. Note
that \pmb does destroy the type of the symbol, \pmb{\sum} is no longer spaced like a
large operator. To make it into a large operator, declare in the preamble
\DeclareMathOperator{\boldsum}{\pmb{\sum}}
and
\DeclareMathOperator*{\boldsumlim}{\pmb{\sum}}
Compare the following four variants of sum:
∑𝑛
𝑖=1
𝑖
2 ∑𝑛
𝑖=1𝑖
2 ∑𝑛
𝑖=1 𝑖
2 ∑𝑛
𝑖=1
𝑖
2
The first sum is typed (in displayed math mode) as
\sum<em>{i = 1}^{n} i^{2}
The second uses poor man’s bold, but does not declare the result to be a large operator:
\pmb{\sum}</em>{i = 1}^{n} i^{2}
The third uses the math operator declared:
\boldsum<em>{i = 1}^{n} i^{2}
The fourth uses the math operator with limit declared:
\boldsumlim</em>{i = 1}^{n} i^{2}</p>

<h4 id="6-4-4-size-changes">6.4.4 Size changes</h4>

<p>There are four math font sizes, invoked by the command declarations
\displaystyle, normal size for displayed formulas
\textstyle, normal size for inline formulas
\scriptstyle, normal size for subscripted and superscripted symbols
\scriptscriptstyle, normal size for doubly subscripted and superscripted
symbols</p>

<p>These commands control a number of style parameters in addition to the size.
Compare the two fractions
1
2 + 1
3
1
2 + 1
3
which are typed as
[
\frac{1}{\displaystyle 2 + \frac{1}{3}} \quad
\frac{1}{ 2 + \frac{1}{3} }
]</p>

<h4 id="6-4-5-continued-fractions">6.4.5 Continued fractions</h4>

<p>In addition to the \frac, \dfrac, and \tfrac commands (see Section 5.4.1), LATEX
makes typesetting continued fractions even easier by providing the \cfrac command.
The \cfrac command takes an optional argument, l or r, to place the numerator on
the left or on the right. For example,
1
2 +
1
3 + ⋯
1
2 +
1
3 + ⋯
is typed as
[
\cfrac{1}{ 2 + \cfrac{1}{3 + \cdots} } \qquad
\cfrac[l]{1}{2 + \cfrac[l]{1}{3 + \cdots}}
]</p>

<h3 id="6-5-vertical-spacing">6.5 Vertical spacing</h3>

<p>As a rule, all horizontal and vertical spacing in a math formula is done by LATEX. Nevertheless, you often need to adjust horizontal spacing (see Section 6.1). There is seldom
a need to adjust vertical spacing, but there are a few exceptions.
The formula √𝑎 +
√
𝑏 does not look quite right, because the square roots are not
uniform. You can correct this with \mathstrut commands, which inserts an invisible
vertical space:
$\sqrt{\mathstrut a} + \sqrt{\mathstrut b}$
typesets as √𝑎 + √𝑏. See Section 3.9.5 for struts in general.
Another way to handle this situation is with the \vphantom (vertical phantom)
command, which measures the height of its argument and places a math strut of that
height into the formula. So</p>

<p>$\sqrt{\vphantom{b} a} + \sqrt{b}$
also prints uniform square roots, √
𝑎 +
√
𝑏. The \vphantom method is more versatile
than the previous one.
Here is a more complicated example from a recent research article:
Θ𝑖 = ⋃(
Θ(𝑎 ∧ 𝑏, 𝑎 ∧ 𝑏) ∣ 𝑎, 𝑏 ∈ 𝐵𝑖
)
∨
⋃(
Θ(𝑎 ∨ 𝑏, 𝑎 ∨ 𝑏) ∣ 𝑎, 𝑏 ∈ 𝐵𝑖
)
,
typed as
[
\Theta_i = \bigcup \big( \Theta (\overline{a \wedge b},
\overline{\vphantom{b}a} \wedge \overline{b})
\mid a,\ b \in B_i \big)
\vee \bigcup \big( \Theta(\overline{a \vee b},
\overline{\vphantom{b}a} \vee \overline{b} )
\mid a,\ b \in B_i \big),
]
Another useful command for vertical spacing is the \smash command. It directs
LATEX to pretend that its argument does not protrude above or below the line in which
it is typeset.
For instance, the two lines of this admonition:
It is very important that you memorize the integral 1
∫ 𝑓(𝑥) 𝑑𝑥 = 2𝑔(𝑥) + 𝐶,
which will appear on the next test.
are too far apart because LATEX had to make room for the fraction. However, in this
instance, the extra vertical space is not necessary because the second line is very short.
To correct this, place the formula in the argument of a \smash command:
It is \emph{very important} that you memorize the
integral $\smash{\frac{1}{\int f(x) \, dx}} = 2g(x) + C$,
which will appear on the next test.
LATEX produces the following:
It is very important that you memorize the integral 1
∫ 𝑓(𝑥) 𝑑𝑥 = 2𝑔(𝑥) + 𝐶,
which will appear on the next test.
An optional argument to the \smash command controls which part of the formula
is ignored, t to smash the top and b to smash the bottom.</p>

<h3 id="6-6-tagging-and-grouping">6.6 Tagging and grouping</h3>

<p>You can attach a name to an equation using the \tag command. In the equation or
equation* environments,
\tag{name }
attaches the tag name to the equation—name is typeset as text. The tag replaces the
number.
Recall that the numbering of an equation is relative, that is, the number assigned to
an equation is relative to the placement of the equation with respect to other equations
in the document. An equation tag, on the other hand, is absolute—the tag remains the
same even if the equation is moved.
If there is a tag, the equation and the equation* environments are equivalent.
For example,
(Int) ∫
∞
−∞
𝑒−𝑥2
𝑑𝑥 = √𝜋
may be typed as
\begin{equation<em>}
\int_{-\infty}^{\infty} e^{-x^{2}} \, dx
= \sqrt{\pi}\tag{Int}
\end{equation</em>}
or
\begin{equation}
\int<em>{-\infty}^{\infty} e^{-x^{2}} \, dx
= \sqrt{\pi}\tag{Int}
\end{equation}
or
[
\int</em>{-\infty}^{\infty} e^{-x^{2}} \, dx
= \sqrt{\pi}\tag{Int}
]
The \tag* command is the same as \tag except that it does not automatically
enclose the tag in parentheses. To get
A–B ∫
∞
−∞
𝑒−𝑥2
𝑑𝑥 = √�</p>

<p>type
\begin{equation}
\int_{-\infty}^{\infty} e^{-x^{2}} \, dx = \sqrt{\pi}
\tag*{A--B}
\end{equation}
Tagging allows numbered variants of equations. For instance, the equation
(1) 𝐴[2] ⋄ 𝐵[2] ≅ (𝐴 ⋄ 𝐵)
[2]
may need a variant:
(1′
) 𝐴⟨2⟩ ⋄ 𝐵⟨2⟩ ≡ (𝐴 ⋄ 𝐵)
⟨2⟩
If the label of the first equation is E:first, then the second equation may be typed as
follows:
\begin{equation}\tag{\ref{E:first}$’$}
A^{\langle 2 \rangle} \diamond B^{\langle 2\rangle}
\equiv (A \diamond B)^{\langle 2 \rangle}
\end{equation}
Such a tag is absolute in the sense that it does not change if the equation is moved. But
if it references a label and the number generated by LATEX for the label changes, the tag
changes.
In contrast, grouping applies to a group of adjacent equations. Suppose the last
equation was numbered (1) and the next group of equations is to be referred to as (2),
with individual equations numbered as (2a), (2b), and so on. Enclosing these equations
in a subequations environment accomplishes this goal. For instance,
(1a) 𝐴[2] ⋄ 𝐵[2] ≅ (𝐴 ⋄ 𝐵)
[2]
and its variant
(1b) 𝐴⟨2⟩ ⋄ 𝐵⟨2⟩ ≡ (𝐴 ⋄ 𝐵)
⟨2⟩
are typed as
\begin{subequations}\label{E:joint}
\begin{equation}\label{E:original}
A^{[2]} \diamond B^{[2]} \cong (A \diamond B)^{[2]}
\end{equation}
\begin{equation}\label{E:modified}
A^{\langle 2 \rangle} \diamond B^{\langle 2\rangle}
\equiv (A \diamond B)^{\langle 2\rangle}
\end{equation}
\end{subequations}</p>

<p>Referring to these equations, you find that
\eqref{E:joint} resolves to (1)
\eqref{E:original} resolves to (1a)
\eqref{E:modified} resolves to (1b)
Note that in this example, references to the second and third labels produce numbers,
(1a) and (1b), that also appear in the typeset version. The group label, E:joint, references the entire group, but (1) does not appear in the typeset version unless referenced.
A subequations environment can contain the multiline math constructs discussed
in Chapter 7 (see Section 7.4.4).</p>

<h3 id="6-7-miscellaneous">6.7 Miscellaneous</h3>

<h4 id="6-7-1-generalized-fractions">6.7.1 Generalized fractions</h4>

<p>The generalized fraction command provides the facility to typeset many variants of
fractions and binomials, such as 𝑎+𝑏
𝑐 and ]𝑎+𝑏
𝑐
[
. The syntax is
\genfrac{left-delim }{right-delim }{thickness }{mathstyle }
{numerator }{denominator }
where
left-delim is the left delimiter for the formula (default: none)
right-delim is the right delimiter for the formula (default: none)
thickness is the thickness of the fraction line, in the form x pt (default: the normal
weight, 0.4pt), for instance, 12pt for 12 point width
mathstyle is one of
– 0 for \displaystyle
– 1 for \textstyle
– 2 for \scriptstyle
– 3 for \scriptscriptstyle
– Default: Depends on the context. If the formula is being set in display style, then
the default is 0, and so on
numerator is the numerator
denominator is the denominator</p>

<p>All arguments must be specified. The empty argument, {}, gives the default value.
Examples
1. \frac{numerator }{denominator }
is the same as
\genfrac{}{}{}{}{numerator }{denominator }
2. \dfrac{numerator }{denominator }
is the same as
\genfrac{}{}{}{0}{numerator }{denominator }
3. \tfrac{numerator }{denominator }
is the same as
\genfrac{}{}{}{1}{numerator }{denominator }
4. \binom{numerator }{denominator }
is the same as
\genfrac{(}{)}{0pt}{}{numerator }{denominator }
5. Here are some more examples:
𝑎 + 𝑏
𝑐
𝑎 + 𝑏
𝑐
𝑎 + 𝑏
𝑐
𝑎 + 𝑏
𝑐
[
𝑎 + 𝑏
𝑐
] ]𝑎 + 𝑏
𝑐
[
typed as
[
\frac{a + b}{c} \quad
\genfrac{}{}{1pt}{}{a + b}{c} \quad
\genfrac{}{}{1.5pt}{}{a + b}{c} \quad
\genfrac{}{}{2pt}{}{a + b}{c} \quad
\genfrac{[}{]}{0pt}{}{a + b}{c} \quad
\genfrac{]}{[}{0pt}{}{a + b}{c}
]
𝑎 + 𝑏
𝑐
𝑎 + 𝑏
𝑐
typed as
[
\frac{a + b}{c} \quad
\genfrac{}{}{0.4pt}{}{a + b}{c} \quad
]
You can choose the delimiters from Table 5.3.
If a \genfrac construct is used repeatedly, you should name it. See Section 14.1 for
custom commands.</p>

<h4 id="6-7-2-boxed-formulas">6.7.2 Boxed formulas</h4>

<p>The \boxed command puts its argument in a box, as in
(2) ∫
∞
−∞
𝑒−𝑥2
𝑑𝑥 = √𝜋
typed as
\begin{equation}
\boxed{ \int_{-\infty}^{\infty} e^{-x^{2}}\, dx
= \sqrt{\pi} }
\end{equation}
The \boxed command can also be used in the argument of a \text command. Note
that
\fbox{Hello world}
and
$\boxed{\text{Hello world}}$
produce the same Hello world .
Morten Høgholm’s mathtools package contains many variants of boxes.</p>

<h2 id="7-multiline-math-displays">7 Multiline math displays</h2>

<h3 id="7-1-visual-guide">7.1 Visual Guide</h3>

<p>LATEX is about typesetting math. It knows a lot about typesetting inline formulas, but not much about how to display a multiline formula to best reflect its meaning in a visually pleasing way. So you have to decide the visual structure of a multiline formula and then use the tools provided by LATEX to code and typeset it.</p>

<p>LATEX围绕排版数学。它知道很多关于排字的内联公式，但是对于如何显示多行公式来以一种视觉上令人愉悦的方式最好地反映其含义，它知道得不多。因此，您必须确定多行公式的可视结构，然后使用LATEX提供的工具对其进行编码和排版。</p>

<p>For many mathematical documents the three constructs of Chapter 1 suffice: simple and annotated alignments, and the cases construct. To help you choose the appropriate tool for more complicated constructs, we start by introducing the basic concepts and constructions with the Visual Guide of Figure 7.1.</p>

<p>对于许多数学文档来说，第1章的三种构造就足够了：简单且带注释的对齐，以及条件构造。为了帮助您为更复杂的结构选择合适的工具，我们首先通过图7.1的可视化指南介绍基本概念和结构。</p>

<h4 id="7-1-1-columns">7.1.1 Columns</h4>

<p>Multiline math formulas are displayed in columns. The columns are either adjusted, that
is, centered, or set flush left or right, or aligned, that is, an alignment point is designated
for each column and for each line. Moreover, the columns are either separated by the
intercolumn space or adjacent with no separation.</p>

<p>Adjusted environments
Adjusted subsidiary environments
Aligned environments
⎛
⎜⎜⎜⎝
1 0 ... 0
0 1 ... 0
.
.
. .
.
. ... .
.
.
0 0 ... 1
⎞
⎟⎟⎟⎠
matrix
multicolumn, centered
f(x) =
⎧
⎪⎨
⎪⎩
−x2, if x &lt; 0;
α + x, if 0 ≤ x ≤ 1;
x2, otherwise.
cases array columns flush left
multicolumn
each column adjusted independently
Aligned subsidiary environment
(x1x2x3x4x5x6)
2
+ (x1x2x3x4x5 + x1x3x4x5x6 + x1x2x4x5x6 + x1x2x3x5x6)
2
+ (x1x2x3x4 + x1x2x3x5 + x1x2x4x5 + x1x3x4x5)
2
0 = ..., 0,..., i
d, . . . , 0,...∧..., 0,..., j
a, . . . , 0,...
≡ ..., 0,..., j
a, . . . , 0,... (mod Θ)
(3.4)
(17) a11x1 + a12x2 + a13x3 = y1
(18) a21x1 + a22x2 + a24x4 = y2
(19) a31x1 + a33x3 + a34x4 = y3
a + b + c uv x − y 27
a + b u + v z 134
Figure 7.1: The Visual Guide for multiline math formulas.</p>

<p>One column
As in Chapter 1, we start with a simple align:
𝑟2 = 𝑠2 + 𝑡
2,
2𝑢 +1= 𝑣 + 𝑤𝛼
This is a single column, aligned at the = signs, and coded with the align environment
(see Section 1.7.3).
Two columns
The annotated align, coded with the align environment (see Section 1.7.3),
𝑥 = 𝑥 ∧ (𝑦 ∨ 𝑧) (by distributivity)
= (𝑥 ∧ 𝑦)∨(𝑥 ∧ 𝑧) (by condition (M))
= 𝑦 ∨ 𝑧
has two columns. The first column is aligned like our example of simple align, but the
second column is aligned flush left. There is a sizeable intercolumn space.</p>

<h4 id="7-1-2-subsidiary-math-environments">7.1.2 Subsidiary math environments</h4>

<p>The cases example in Section 1.7.4:
𝑓(𝑥) =
⎧
⎪
⎨
⎪
⎩
−𝑥2, if 𝑥 &lt; 0;
𝛼 + 𝑥, if 0 ≤ 𝑥 ≤ 1;
𝑥2, otherwise.
introduces a new concept. The part of the formula to the right of = is a multiline
construct. This is an example of a subsidiary math environment that can only be used
inside another math environment. It creates a “large math symbol”, in this case
⎧
⎪
⎨
⎪
⎩
−𝑥2, if 𝑥 &lt; 0;
𝛼 + 𝑥, if 0 ≤ 𝑥 ≤ 1;
𝑥2, otherwise.
So the cases example:
𝑓(𝑥) = large math symbol
is a single line displayed formula, where “large math symbol” is replaced by the cases
construct.</p>

<h4 id="7-1-3-adjusted-columns">7.1.3 Adjusted columns</h4>

<p>An adjusted column is either set centered, or flush left, or flush right. This may happen
by default, built into the environment, or so specified in the code.</p>

<p>For instance, in the displayed formula
𝑥1𝑥2 + 𝑥2
1𝑥2
2 + 𝑥3,
𝑥1𝑥3 + 𝑥2
1𝑥2
3 + 𝑥2
typeset with the gather environment, by default all the lines are centered.
On the other hand, in
( 1 100 115
201 0 1 )
coded with the array subsidiary math environment, the first column is flush left, the
second centered, the third flush right.</p>

<h4 id="7-1-4-aligned-columns">7.1.4 Aligned columns</h4>

<p>Aligned columns, on the other hand, are only of one kind, aligned by you. For instance,
𝑓(𝑥) = 𝑥 + 𝑦𝑧 𝑔(𝑥) = 𝑥 + 𝑦 + 𝑧
ℎ(𝑥) = 𝑥𝑦 + 𝑥𝑧 + 𝑦𝑧 𝑘(𝑥)=(𝑥 + 𝑦)(𝑥 + 𝑧)(𝑦 + 𝑧)
is coded with the alignat environment. It has two aligned columns, both aligned at
the = signs.</p>

<h4 id="7-1-5-touring-the-visual-guide">7.1.5 Touring the Visual Guide</h4>

<p>Figure 7.1, the Visual Guide, shows thumbnail pictures of the various kinds of multiline
math environments and subsidiary math environments.
The first part of the Visual Guide illustrates gather and multline. The gather
environment is a one-column, centered math environment—discussed in Section 7.2—
which is used to display a number of formulas collected into one multiline formula.
In contrast, multline—discussed in Section 7.3—displays one long formula in a number of lines. The first line is set flush left, the last line set flush right, and the rest (if any)
of the lines are centered.
The third part of the Visual Guide illustrates the align environment and two of
its variants, alignat and flalign, discussed in Section 7.5.
Three adjusted subsidiary math environments—matrix, cases, and array—are
illustrated in second part of the Visual Guide and presented in Section 7.7.
The aligned subsidiary math environments aligned and gathered look just like
the align and gather environments, so they are not illustrated in the Visual Guide.
The aligned and gathered environments—along with \itemref—are discussed in
Section 7.6, along with the split subsidiary math environment; this last one is illustrated in the last part of the Visual Guide.</p>

<h3 id="7-2-gathering-formulas">7.2 Gathering formulas</h3>

<p>The gather environment groups a number of one-line formulas, each centered on a
separate line:
𝑥1𝑥2 + 𝑥2
1𝑥2
2 + 𝑥3 (1) ,
𝑥1𝑥3 + 𝑥2
1𝑥2
3 + 𝑥2 (2) ,
𝑥1𝑥2𝑥3 (3) .
Formulas (1)–(3) are typed as follows:
\begin{gather}
x<em>{1} x</em>{2}+x<em>{1}^{2} x</em>{2}^{2} + x<em>{3},\label{E:1.1}<br />
x</em>{1} x<em>{3}+x</em>{1}^{2} x<em>{3}^{2} + x</em>{2},\label{E:1.2}<br />
x<em>{1} x</em>{2} x<em>{3}.\label{E:1.3}
\end{gather}
Rule gather environment
1. Lines are separated with \. Do not type \ at the end of the last line!
2. Each line is numbered unless it has a \tag or \notag on the line before the line
separator \.
3. No blank lines are permitted within the environment.
The gather* environment is like gather, except that all lines are unnumbered.
They can still be \tag-ged.
It would seem natural to code formulas (1)–(3) with three equation environments:
\begin{equation}
x</em>{1} x<em>{2}+x</em>{1}^{2} x<em>{2}^{2} + x</em>{3},\label{E:1.1}
\end{equation}
\begin{equation}
x<em>{1} x</em>{3}+x<em>{1}^{2} x</em>{3}^{2} + x<em>{2},\label{E:1.2}
\end{equation}
\begin{equation}
x</em>{1} x<em>{2} x</em>{3}.\label{E:1.3}
\end{equation}</p>

<p>Note how bad this looks typeset:
(1) 𝑥1𝑥2 + 𝑥2
1𝑥2
2 + 𝑥3,
(2) 𝑥1𝑥3 + 𝑥2
1𝑥2
3 + 𝑥2,
(3) 𝑥1𝑥2𝑥3.</p>

<h3 id="7-3-splitting-long-formulas">7.3 Splitting long formulas</h3>

<p>The multline environment is used to split one very long formula into several lines.
The first line is set flush left, the last line is set flush right, and the middle lines are
centered:
(4) (𝑥1𝑥2𝑥3𝑥4𝑥5𝑥6)
2
+ (𝑦1𝑦2𝑦3𝑦4𝑦5 + 𝑦1𝑦3𝑦4𝑦5𝑦6 + 𝑦1𝑦2𝑦4𝑦5𝑦6 + 𝑦1𝑦2𝑦3𝑦5𝑦6)
2
+ (𝑧1𝑧2𝑧3𝑧4𝑧5 + 𝑧1𝑧3𝑧4𝑧5𝑧6 + 𝑧1𝑧2𝑧4𝑧5𝑧6 + 𝑧1𝑧2𝑧3𝑧5𝑧6)
2
+ (𝑢1𝑢2𝑢3𝑢4 + 𝑢1𝑢2𝑢3𝑢5 + 𝑢1𝑢2𝑢4𝑢5 + 𝑢1𝑢3𝑢4𝑢5)
2
This formula is typed as
\begin{multline}\label{E:mm2}
(x<em>{1} x</em>{2} x<em>{3} x</em>{4} x<em>{5} x</em>{6})^{2}<br />
+ (y<em>{1} y</em>{2} y<em>{3} y</em>{4} y<em>{5}
+ y</em>{1} y<em>{3} y</em>{4} y<em>{5} y</em>{6}
+ y<em>{1} y</em>{2} y<em>{4} y</em>{5} y<em>{6}
+ y</em>{1} y<em>{2} y</em>{3} y<em>{5} y</em>{6})^{2}<br />
+ (z<em>{1} z</em>{2} z<em>{3} z</em>{4} z<em>{5}
+ z</em>{1} z<em>{3} z</em>{4} z<em>{5} z</em>{6}
+ z<em>{1} z</em>{2} z<em>{4} z</em>{5} z<em>{6}
+ z</em>{1} z<em>{2} z</em>{3} z<em>{5} z</em>{6})^{2}<br />
+ (u<em>{1} u</em>{2} u<em>{3} u</em>{4} + u<em>{1} u</em>{2} u<em>{3} u</em>{5}
+ u<em>{1} u</em>{2} u<em>{4} u</em>{5} + u<em>{1} u</em>{3} u<em>{4} u</em>{5})^{2}
\end{multline}</p>

<p>Rule multline environment
1. Lines are separated with \. Do not type \ at the end of the last line!
2. The formula is numbered as a whole unless it is \tag-ged or the numbering is suppressed with \notag. (Alternatively, use the multline* environment.)</p>

<ol>
<li>No blank lines are permitted within the environment.</li>
<li>Each line is a subformula (see Section 7.4.2).
If you are very observant, you may have noticed that we failed to type {}+ following the line separators of the formula. In Section 6.1.2, you were told that this omission
would result in the second line being typeset as
+(𝑦1𝑦2𝑦3𝑦4𝑦5 + 𝑦1𝑦3𝑦4𝑦5𝑦6 + 𝑦1𝑦2𝑦4𝑦5𝑦6 + 𝑦1𝑦2𝑦3𝑦5𝑦6)
2
The multline environment, however, knows that a long formula is being broken and
so typesets + as a binary operation.
A common mistake is to write multiline for multline, resulting in the message:
! LaTeX Error: Environment multiline undefined.
In the multline* environment, the formula is not numbered but can be \tag-ged.
The indentation of the first and last lines is controlled by the \multlinegap length
command, with a default of 10 points, unless there is a tag on one of those lines. You
can adjust the indentation by enclosing the multline environment in a setlength
environment (see Section 14.5.2 ), as follows:
\begin{multline*}
(x<em>{1} x</em>{2} x<em>{3} x</em>{4} x<em>{5} x</em>{6})^{2}<br /></li>
<li>(x<em>{1} x</em>{2} x<em>{3} x</em>{4} x_{5}</li>
<li>x<em>{1} x</em>{3} x<em>{4} x</em>{5} x_{6}</li>
<li>x<em>{1} x</em>{2} x<em>{4} x</em>{5} x_{6}</li>
<li>x<em>{1} x</em>{2} x<em>{3} x</em>{5} x_{6})^{2}<br /></li>
<li>(x<em>{1} x</em>{2} x<em>{3} x</em>{4} + x<em>{1} x</em>{2} x<em>{3} x</em>{5}</li>
<li>x<em>{1} x</em>{2} x<em>{4} x</em>{5} + x<em>{1} x</em>{3} x<em>{4})^{2}
\end{multline<em>}
\begin{setlength}{\multlinegap}{0pt}
\begin{multline</em>}
(x</em>{1} x<em>{2} x</em>{3} x<em>{4} x</em>{5} x_{6})^{2}<br /></li>
<li>(x<em>{1} x</em>{2} x<em>{3} x</em>{4} x_{5}</li>
<li>x<em>{1} x</em>{3} x<em>{4} x</em>{5} x_{6}</li>
<li>x<em>{1} x</em>{2} x<em>{4} x</em>{5} x_{6}</li>
<li>x<em>{1} x</em>{2} x<em>{3} x</em>{5} x_{6})^{2}<br /></li>
<li>(x<em>{1} x</em>{2} x<em>{3} x</em>{4} + x<em>{1} x</em>{2} x<em>{3} x</em>{5}</li>
<li>x<em>{1} x</em>{2} x<em>{4} x</em>{5} + x<em>{1} x</em>{3} x_{4})^{2}
\end{multline*}
\end{setlength}
which typesets as
(𝑥1𝑥2𝑥3𝑥4𝑥5𝑥6)
2</li>
<li>(𝑥1𝑥2𝑥3𝑥4𝑥5 + 𝑥1𝑥3𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥3𝑥5𝑥6)
2</li>
<li>(𝑥1𝑥2𝑥3𝑥4 + 𝑥1𝑥2𝑥3𝑥5 + 𝑥1𝑥2𝑥4𝑥5 + 𝑥1𝑥3𝑥4)
2</li>
</ol>

<p>(𝑥1𝑥2𝑥3𝑥4𝑥5𝑥6)
2
+ (𝑥1𝑥2𝑥3𝑥4𝑥5 + 𝑥1𝑥3𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥3𝑥5𝑥6)
2
+ (𝑥1𝑥2𝑥3𝑥4 + 𝑥1𝑥2𝑥3𝑥5 + 𝑥1𝑥2𝑥4𝑥5 + 𝑥1𝑥3𝑥4)
2
Notice that the second variant is not indented.
Any line of a multline environment can be typeset flush left or right by making
it the argument of a \shoveleft or \shoveright command, respectively (same with
multline<em>). For instance, to typeset the second line of formula (4) flush left, as in
(𝑥1𝑥2𝑥3𝑥4𝑥5𝑥6)
2
+ (𝑥1𝑥2𝑥3𝑥4𝑥5 + 𝑥1𝑥3𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥3𝑥5𝑥6)
2
+ (𝑥1𝑥2𝑥3𝑥4 + 𝑥1𝑥2𝑥3𝑥5 + 𝑥1𝑥2𝑥4𝑥5 + 𝑥1𝑥3𝑥4𝑥5)
2
type the formula as follows:
\begin{multline</em>}
(x<em>{1} x</em>{2} x<em>{3} x</em>{4} x<em>{5} x</em>{6})^{2}<br />
\shoveleft{+ (x<em>{1} x</em>{2} x<em>{3} x</em>{4} x<em>{5}
+ x</em>{1} x<em>{3} x</em>{4} x<em>{5} x</em>{6}
+ x<em>{1} x</em>{2} x<em>{4} x</em>{5} x<em>{6}
+ x</em>{1} x<em>{2} x</em>{3} x<em>{5} x</em>{6})^{2}}<br />
+ (x<em>{1} x</em>{2} x<em>{3} x</em>{4} + x<em>{1} x</em>{2} x<em>{3} x</em>{5}
+ x<em>{1} x</em>{2} x<em>{4} x</em>{5}
+ x<em>{1} x</em>{3} x<em>{4} x</em>{5})^{2}
\end{multline*}
Observe that the entire line is the argument of the \shoveleft command, which is
followed by \ unless it is the last line of the environment.</p>

<h3 id="7-4-some-general-rules">7.4 Some general rules</h3>

<h4 id="7-4-1-general-rules">7.4.1 General rules</h4>

<p>Even though you have only seen a few examples of multiline math environments, I venture to point out now that the multiline math environments and subsidiary math environments share a number of rules.
Rule Multiline math environments
1. Lines are separated with \. Do not type \ at the end of the last line!
2. No blank lines are permitted within an environment.
3. No blank line before the environment.</p>

<ol>
<li>If an environment contains more than one formula, then, as a rule, each formula is
numbered separately. If you add a \label command to a line, then the equation
number generated for that line can be cross-referenced.</li>
<li>You can suppress the numbering of a line by using a \notag command on the line.</li>
<li>You can also override numbering with the \tag command, which works just as it
does for equations (see Section 6.6).</li>
<li>\tag and \label should always precede the line separator \ for lines that are
regarded as formulas in their own right. For instance, the lines of the multline
environment cannot be individually numbered or tagged. The \tag command works
for individual lines, not for the environment as a whole.</li>
<li>For cross-referencing, use \label, \ref, and \eqref in the same way you would
for an equation (see Section 5.3).</li>
<li>Each multiline math environment has a *-ed form, which suppresses numbering.
Individual formulas can still be \tag-ged.
A \notag command placed after the environment is ignored, but a \tag command
gives the message
! Package amsmath Error: \tag not allowed here.</li>
</ol>

<h4 id="7-4-2-subformula-rules">7.4.2 Subformula rules</h4>

<p>A formula in the multline environment is split into a number of parts by \ commands; for instance, formula (4) is split into three parts:
1. (x<em>{1} x</em>{2} x<em>{3} x</em>{4} x<em>{5} x</em>{6})^{2}
2. + (x<em>{1} x</em>{2} x<em>{3} x</em>{4} x<em>{5}
+ x</em>{1} x<em>{3} x</em>{4} x<em>{5} x</em>{6}
+ x<em>{1} x</em>{2} x<em>{4} x</em>{5} x<em>{6}
+ x</em>{1} x<em>{2} x</em>{3} x<em>{5} x</em>{6})^{2}
3. + (x<em>{1} x</em>{2} x<em>{3} x</em>{4}+x<em>{1} x</em>{2} x<em>{3} x</em>{5} +
x<em>{1} x</em>{2} x<em>{4} x</em>{5}+x<em>{1} x</em>{3} x<em>{4} x</em>{5})^{2}
Such parts of a formula are called subformulas.
The first line of the aligned formula 𝑟2 = 𝑠2 + 𝑡
2—from the simple alignment
example in Section 1.7.3—which is typed as
r^{2} &amp;= s^{2} + t^{2}
is split into two parts:
1. r^{2}
2. = s^{2} + t^{2}</p>

<p>In general, in a line of an aligned formula, the first part is everything between the beginning of the line and the first &amp; symbol. There can then be a number of parts delimited
by two consecutive &amp; symbols. Finally, the last part is from the last &amp; symbol to the end
of the line or the line separator \. These parts are also called subformulas.
Here are the last of the general rules.
Rule Subformula
1. Each subformula must be a formula that LATEX can typeset independently.
2. If a subformula starts with the binary operation + or -, type it as {}+ or {}-.
3. If a subformula ends with the binary operation + or -, type it as +{} or -{}.
Suppose that you want to split the formula
𝑥1 + 𝑦1 +
(
∑
𝑖&lt;5
(
5
𝑖
)
+ 𝑎2
)2
just before the binomial coefficient. Try
\begin{multline}
x<em>{1} + y</em>{1} + \left( \sum<em>{i &lt; 5}<br />
\binom{5}{i} + a^{2} \right)^{2}
\end{multline}
When typesetting this formula, you get the message
! Missing \right. inserted.
because the first subformula violates the first subformula rule.
x</em>{1} + y<em>{1} + \left( \sum</em>{i &lt; 5}
cannot be typeset by LATEX because the \left( command must be matched by the
\right command and some delimiter.
Testing for the first subformula rule is easy. Split the formula into its subformulas,
and test each subformula separately by typesetting it.</p>

<h4 id="7-4-3-breaking-and-aligning-formulas">7.4.3 Breaking and aligning formulas</h4>

<p>You do not have to know where and how to break inline math formulas because LATEX
does all the work for you.
Unfortunately, multiline formulas are different. LATEX gives you excellent tools for
displaying multiline math formulas, but offers you no advice on deciding where to break
a long formula into lines. And that is how it should be. You, the author, are the only
judge of where to break a long formula so that the result is mathematically informative
and follows the traditions of mathematical typesetting.</p>

<p>Arlene Ann O’Sean, and Antoinette Tingley Schleyer [68]. I state only three.
Rule Breaking displayed formulas
1. Try to break a long formula before a binary relation or binary operation.
2. If you break a formula before a + or -, start the next line with {}+ or {}-.
3. If you break a formula within a bracket, indent the next line so that it begins to the
right of the opening bracket.
Formula (4) on page 196 illustrates the first rule. Here is an illustration of the third
rule:
𝑓(𝑥, 𝑦, 𝑧, 𝑢) = [(𝑥 + 𝑦 + 𝑧)×(𝑥2 + 𝑦2 + 𝑧2 − 1)
× (𝑥3 + 𝑦3 + 𝑧3 − 𝑢)×(𝑥4 + 𝑦4 + 𝑧4 + 𝑢)]2
The rules for aligning columns are similar.
Rule Aligning columns
1. Try to align columns at a binary relation or a binary operation.
2. If you align a column at a binary relation, put the &amp; symbol immediately to the left
of the binary relation.
3. If you align a column at the binary operation + or -, put the &amp; symbol to the left of
the binary operation.</p>

<h4 id="7-4-4-numbering-groups-of-formulas">7.4.4 Numbering groups of formulas</h4>

<p>With most constructs in this chapter, you have a number of equations typeset together,
arranged in some way, aligned or adjusted. Each equation is numbered separately, unless \tag-ged or \notag-ged. Often, you may want the equations to share a common
number, but still be able to reference each equation separately.
You can change the numbering of the equations on page 195 in formulas (1)–(3)
to (1), (1a), and (1b) as follows:
\begin{gather}
x<em>{1} x</em>{2} + x<em>{1}^{2} x</em>{2}^{2} + x<em>{3},
\label{E:1}<br />
x</em>{1} x<em>{3} + x</em>{1}^{2} x<em>{3}^{2} + x</em>{2},
\tag{\ref{E:1}a}<br />
x<em>{1} x</em>{2} x_{3};\tag{\ref{E:1}b}
\end{gather}</p>

<p>produces the desired result:
𝑥1𝑥2 + 𝑥2
1𝑥2
2 + 𝑥3 (1) ,
𝑥1𝑥3 + 𝑥2
1𝑥2
3 + 𝑥2 (1a) ,
𝑥1𝑥2𝑥3 (1b) ;
To obtain (1′
) or (1’) type
\tag{\ref{E:1}$’$}
or
\tag{(\ref{E:1}\textquoteright)}
and for (1a), type
\tag{\ref{E:1}${}<em>{\text{a}}$}
Alternatively, you may include the gather environment in a subequations environment (see Section 6.6):
𝑥1𝑥2 + 𝑥2
1𝑥2
2 + 𝑥3 (5a) ,
𝑥1𝑥3 + 𝑥2
1𝑥2
3 + 𝑥2 (5b) ,
𝑥1𝑥2𝑥3 (5c) ,
typed as
\begin{subequations}\label{E:gp}
\begin{gather}
x</em>{1} x<em>{2} + x</em>{1}^{2} x<em>{2}^{2} + x</em>{3},
\label{E:gp1}<br />
x<em>{1} x</em>{3} + x<em>{1}^{2} x</em>{3}^{2} + x<em>{2},
\label{E:gp2}<br />
x</em>{1} x<em>{2} x</em>{3},\label{E:gp3}
\end{gather}
\end{subequations}
Then \eqref{E:gp} references the whole group of equations as (5), while
\eqref{E:gp1}, \eqref{E:gp2}, and \eqref{E:gp3}
reference the individual formulas as (5a), (5b), and (5c).</p>

<h3 id="7-5-aligned-columns">7.5 Aligned columns</h3>

<p>The lines of multiline formulas are naturally divided into columns. In this section, we
discuss how to typeset such formulas with aligned columns. All of these constructs are
implemented with the align math environment and its variants.</p>

<p>In Section 1.7.3, you saw two simple, one-column examples of aligned columns—
which we called simple alignment—and a special case of aligned columns—which we
called annotated alignment.
The align environment can also create multiple aligned columns. The number of
columns is restricted only by the width of the page. In the following example, there are
two aligned columns:
(6) 𝑓(𝑥) = 𝑥 + 𝑦𝑧 𝑔(𝑥) = 𝑥 + 𝑦 + 𝑧
ℎ(𝑥) = 𝑥𝑦 + 𝑥𝑧 + 𝑦𝑧 𝑘(𝑥)=(𝑥 + 𝑦)(𝑥 + 𝑧)(𝑦 + 𝑧)
typed as
\begin{align}\label{E:mm3}
f(x) &amp;= x + yz &amp; g(x) &amp;= x + y + z<br />
h(x) &amp;= xy + xz + yz &amp; k(x) &amp;= (x + y)(x + z)(y + z)
\notag
\end{align}
Use Figure 7.2 to visualize how the alignment points in the source turn into alignment points in the typeset formula and the role played by the intercolumn space.
Remember that the visual layout of the source is for your benefit only.
In a multicolumn align environment, the ampersand (&amp;) plays two roles. It is a
mark for the alignment point and it is also a column separator. In the line
f(x) &amp;= x + yz &amp; g(x) &amp;=x+y+z
the two columns are
1. f(x) &amp;= x + yz
2. g(x) &amp;=x+y+z
In each column, we use a single ampersand to mark the alignment point. Of the three &amp;
symbols in the previous example,
The first &amp; marks the alignment point of the first column.
The second &amp; is a column separator that separates the first and second columns.
The third &amp; marks the alignment point of the second column.
I use the convention of typing a space on the left of an alignment point &amp; and no space
on the right, and of putting spaces on both sides of &amp; as a column separator.
If the number of columns is three, then there should be five &amp;’s in each line. Evennumbered &amp;’s are column separators and odd-numbered &amp;’s are alignment marks.
Rule Ampersands
If there are 𝑛 aligned columns, then each line should have at most 2𝑛 − 1 ampersands. Even-numbered &amp;’s are column separators; odd-numbered &amp;’s mark the alignment points.</p>

<p>first column second column
alignment points
of first column of second column
start of second column
(6) f(x) = x + yz g(x) = x + y + z
h(x) = xy + xz + yz k(x)=(x + y)(x + z)(y + z)
first column second column
intercolumn space
alignment points
of second column
alignment points
of first column
Figure 7.2: Two aligned columns: source and typeset.
So for a single aligned column, you have to place one alignment point for each
line. For two aligned columns, you have to place at most three alignment points for
each line. The beginning of the line to the second &amp; is the first column, then from the
second &amp; to the end of the line is the second column. Each line of each column has an
alignment point marked by &amp;.
A column in a line may be empty—a gap is produced—or it may have only a few
columns. Both of these are illustrated by
𝑎1 𝑐1
𝑏2 𝑐2
𝑎3
typed as
\begin{align<em>}
&amp; a_1 &amp; &amp; &amp; &amp;c_1<br />
&amp; &amp; &amp;b_2 &amp; &amp;c_2<br />
&amp; a_3
\end{align</em>}</p>

<h4 id="7-5-1-an-align-variant">7.5.1 An align variant</h4>

<p>A variant of align is the flush alignment environment flalign, which moves the
leftmost column as far left and the rightmost column as far right as space allows, making
more room for the formula. Here is formula (6) again, followed by the flalign variant:
(6) 𝑓(𝑥) = 𝑥 + 𝑦𝑧 𝑔(𝑥) = 𝑥 + 𝑦 + 𝑧
ℎ(𝑥) = 𝑥𝑦 + 𝑥𝑧 + 𝑦𝑧 𝑘(𝑥)=(𝑥 + 𝑦)(𝑥 + 𝑧)(𝑦 + 𝑧)
(7) 𝑓(𝑥) = 𝑥 + 𝑦𝑧 𝑔(𝑥) = 𝑥 + 𝑦 + 𝑧
ℎ(𝑥) = 𝑥𝑦 + 𝑥𝑧 + 𝑦𝑧 𝑘(𝑥)=(𝑥 + 𝑦)(𝑥 + 𝑧)(𝑦 + 𝑧)
The variant is typed as follows:
\begin{flalign}\label{E:mm3fl}
f(x) &amp;= x + yz &amp; g(x) &amp;= x + y + z<br />
h(x) &amp;= xy + xz + yz &amp; k(x) &amp;= (x + y)(x + z)(y + z)
\notag
\end{flalign}</p>

<h4 id="7-5-2-eqnarray-the-ancestor-of-align">7.5.2 eqnarray, the ancestor of align</h4>

<p>LATEX’s original aligned math environment is eqnarray. Here is an example:
\begin{eqnarray}
x&amp;=&amp; 17y<br />
y&amp;&gt;&amp;a+b+c
\end{eqnarray}
which typesets as
(8) 𝑥 = 17𝑦
(9) 𝑦&gt;𝑎 + 𝑏 + 𝑐
You can type the same formulas with align:
\begin{align}
x &amp; = 17y<br />
y &amp;&gt; a+b+c
\end{align}
which typesets as
(10) 𝑥 = 17𝑦
(11) 𝑦&gt;𝑎 + 𝑏 + 𝑐
In the eqnarray environment the spacing is based on the spacing of the columns rather
than on the spacing requirements of the symbols.
I mention eqnarray not for historical reasons but for a very practical one. Unfortunately, a large number of journal submissions still use this construct, and have to be
recoded in the editorial offices. Be kind to your editor and do not use eqnarray.</p>

<h4 id="7-5-3-the-subformula-rule-revisited">7.5.3 The subformula rule revisited</h4>

<p>Suppose that you want to align the formula
𝑥1 + 𝑦1 +
(
∑
𝑖
(
5
𝑖
)
+ 𝑎2
)2
with
(
∑
𝑖
(
5
𝑖
)
+ 𝛼2
)2
so that the + 𝑎2 in the first formula aligns with the + 𝛼2 in the second formula. You
might try typing
\begin{align<em>}
x<em>{1} + y</em>{1} + \left( \sum_i \binom{5}{i}
&amp;+ a^{2} \right)^{2}<br />
\left( \sum_i \binom{5}{i} &amp;+ \alpha^{2} \right)^{2}
\end{align</em>}
But when you typeset this formula, you get the message
! Extra }, or forgotten \right.
This alignment structure violates the subformula rule because LATEX cannot typeset
x<em>{1} + y</em>{1} + \left( \sum<em>i \binom{5}{i}
so it is not a subformula.
As another simple example, try to align the + in (𝑎+𝑏
2
)
with the + in 𝑥 + 𝑦:
\begin{align}
\binom{a &amp;+ b}{2}<br />
x &amp;+ y
\end{align}
When typesetting this formula, you get the message
! Missing } inserted.
Again, LATEX cannot typeset the subformula \binom{a.
To align the two formulas in the first example, add a \phantom command to push
the second line to the right:
\begin{align*}
&amp;x</em>{1} + y<em>{1} + \left( \sum</em>{i &lt; 5} \binom{5}{i}
+ a^{2} \right)^{2}<br />
&amp;\phantom{x<em>{1} + y</em>{1} + {}}
\left( \sum_{i &lt; 5} \binom{5}{i} + \alpha^{2}
\right)^{2}
\end{align*}</p>

<p>yielding
𝑥1 + 𝑦1 +
(
∑
𝑖&lt;5
(
5
𝑖
)
+ 𝑎2
)2
(
∑
𝑖&lt;5
(
5
𝑖
)
+ 𝛼2
)2</p>

<h4 id="7-5-4-the-alignat-environment">7.5.4 The alignat environment</h4>

<p>Another variant of the align environment is the alignat environment, which is one of
the most important alignment environments. While the align environment calculates
how much space to put between the columns, the alignat environment leaves spacing
up to the user. It is important to note that the alignat environment has a required
argument, the number of columns.
Here is formula (6) typed with the alignat environment:
\begin{alignat}{2}\label{E:mm3A}
f(x) &amp;= x + yz &amp; g(x) &amp;= x + y + z<br />
h(x) &amp;= xy + xz + yz &amp; k(x) &amp;= (x + y)(x + z)(y + z)
\notag
\end{alignat}
which typesets as
(12) 𝑓(𝑥) = 𝑥 + 𝑦𝑧 𝑔(𝑥) = 𝑥 + 𝑦 + 𝑧
ℎ(𝑥) = 𝑥𝑦 + 𝑥𝑧 + 𝑦𝑧𝑘(𝑥)=(𝑥 + 𝑦)(𝑥 + 𝑧)(𝑦 + 𝑧)
This attempt did not work very well because alignat did not separate the two formulas
in the second line. So you must provide the intercolumn spacing. For instance, if you
want a \qquad space between the columns, as in
(13) 𝑓(𝑥) = 𝑥 + 𝑦𝑧 𝑔(𝑥) = 𝑥 + 𝑦 + 𝑧
ℎ(𝑥) = 𝑥𝑦 + 𝑥𝑧 + 𝑦𝑧 𝑘(𝑥)=(𝑥 + 𝑦)(𝑥 + 𝑧)(𝑦 + 𝑧)
then type the formula as
\begin{alignat}{2}\label{E:mm3B}
f(x) &amp;= x + yz &amp; g(x) &amp;= x + y + z<br />
h(x) &amp;= xy + xz + yz \qquad &amp; k(x) &amp;= (x+y)(x+z)(y+z)
\notag
\end{alignat}
The alignat environment is especially appropriate when annotating formulas
where you would normally want a \quad between the formula and the text. To obtain
(14) 𝑥 = 𝑥 ∧ (𝑦 ∨ 𝑧) (by distributivity)
= (𝑥 ∧ 𝑦)∨(𝑥 ∧ 𝑧) (by condition (M))
= 𝑦 ∨ �</p>

<p>type
\begin{alignat}{2}\label{E:mm4}
x &amp;= x \wedge (y \vee z) &amp;
&amp;\quad\text{(by distributivity)}<br />
&amp;= (x \wedge y) \vee (x \wedge z) &amp; &amp;
\quad\text{(by condition (M))}\notag<br />
&amp;= y \vee z \notag
\end{alignat}
The alignat environment is very important for typing systems of equations such as
(15) (𝐴 + 𝐵𝐶)𝑥 + 𝐶𝑦 = 0,
(16) 𝐸𝑥 + (𝐹 + 𝐺)𝑦 = 23.
typed as follows:
\begin{alignat}{2}
(A + B C)x &amp;+{} &amp;C &amp;y = 0,<br />
Ex &amp;+{} &amp;(F + G)&amp;y = 23.
\end{alignat}
Note again +{}. See also the subformula rule in Section 7.4.2.
As a last example, consider
𝑎11𝑥1 + 𝑎12𝑥2 + 𝑎13𝑥3 = 𝑦1 (17) ,
𝑎21𝑥1 + 𝑎22𝑥2 + 𝑎24𝑥4 = 𝑦2 (18) ,
𝑎31𝑥1 + 𝑎33𝑥3 + 𝑎34𝑥4 = 𝑦3 (19) .
typed as
\begin{alignat}{4}
a_{11}x<em>1 &amp;+ a</em>{12}x<em>2 &amp;&amp;+ a</em>{13}x_3 &amp;&amp;
&amp;&amp;= y<em>1,<br />
a</em>{21}x<em>1 &amp;+ a</em>{22}x<em>2 &amp;&amp; &amp;&amp;+ a</em>{24}x_4
&amp;&amp;= y<em>2,<br />
a</em>{31}x<em>1 &amp; &amp;&amp;+ a</em>{33}x<em>3 &amp;&amp;+ a</em>{34}x_4
&amp;&amp;= y_3.
\end{alignat}
Note that the argument of alignat does not have to be precise. If you want two
columns, the argument can be 2, or 3, or any larger number. If you want to, you can
simply type 10 and just ignore the argument. You may define a new environment (see
Section 14.2.1) that does just that.</p>

<h4 id="7-5-5-inserting-text">7.5.5 Inserting text</h4>

<p>The \intertext command places one or more lines of text in the middle of an aligned
environment. For instance, to obtain</p>

<p>ℎ(𝑥) = ∫
(
𝑓(𝑥) + 𝑔(𝑥)
1 + 𝑓2(𝑥)
+
1 + 𝑓(𝑥)𝑔(𝑥)
√
1 − sin 𝑥
)
(20) 𝑑𝑥
The reader may find the following form easier to read:
= ∫
1 + 𝑓(𝑥)
1 + 𝑔(𝑥)
𝑑𝑥 − 2 arctan(𝑥 − 2)
you would type
\begin{align}\label{E:mm5}
h(x) &amp;= \int \left(
\frac{ f(x) + g(x) }
{1 + f^{2}(x)} +
\frac{1 + f(x)g(x)}
{ \sqrt{1 - \sin x} }
\right) \, dx<br />
\intertext{The reader may find the following form
easier to read:}
&amp;= \int \frac{1 + f(x)}
{1 + g(x)}
\, dx - 2 \arctan(x - 2) \notag
\end{align}
Notice how the equal sign in the first formula is aligned with the equal sign in the second
formula even though a line of text separates the two.
Here is another example, this one using align<em>:
𝑓(𝑥) = 𝑥 + 𝑦𝑧 𝑔(𝑥) = 𝑥 + 𝑦 + 𝑧
The reader may also find the following polynomials useful:
ℎ(𝑥) = 𝑥𝑦 + 𝑥𝑧 + 𝑦𝑧 𝑘(𝑥)=(𝑥 + 𝑦)(𝑥 + 𝑧)(𝑦 + 𝑧)
is typed as
\begin{align</em>}
f(x) &amp;= x + yz &amp; \qquad g(x) &amp;= x + y + z<br />
\intertext{The reader may also find the following
polynomials useful:}
h(x) &amp;= xy + xz + yz
&amp; \qquad k(x) &amp;= (x + y)(x + z)(y + z)
\end{align*}</p>

<p>The \intertext command must follow a line separator command, \ or \* (see
Section 7.9). If you violate this rule, you get the message
! Misplaced \noalign. \intertext #1-&gt;\noalign
{\penalty \postdisplaypenalty
\vskip ...
The text in \intertext can be centered using a center environment or with the
\centering command (see Section 4.3).</p>

<h3 id="7-6-aligned-subsidiary-math-environments">7.6 Aligned subsidiary math environments</h3>

<p>A subsidiary math environment is a math environment that can only be used inside
another math environment. Think of it as creating a “large math symbol”.
In this section, we discuss aligned subsidiary math environments. We discuss adjusted subsidiary math environments, including cases, in Section 7.7.</p>

<h4 id="7-6-1-subsidiary-variants">7.6.1 Subsidiary variants</h4>

<p>The align, alignat, and gather environments (see Sections 7.5, 7.5.4, and 7.2) have
subsidiary versions. They are called aligned, alignedat, and gathered. To obtain
𝑥 =3+ 𝐩 + 𝛼
𝑦 =4+ 𝐪
𝑧 =5+ 𝐫
𝑢 =6+ 𝐬
using
𝐩 =5+ 𝑎 + 𝛼
𝐪 = 12
𝐫 = 13
𝐬 = 11 + 𝑑
type
[
\begin{aligned}
x &amp;= 3 + \mathbf{p} + \alpha<br />
y &amp;= 4 + \mathbf{q}<br />
z &amp;= 5 + \mathbf{r}<br />
u &amp;=6 + \mathbf{s}
\end{aligned}
\text{\qquad using\qquad}
\begin{gathered}
\mathbf{p} =5+a+ \alpha<br />
\mathbf{q} = 12<br />
\mathbf{r} = 13<br />
\mathbf{s} = 11 + d
\end{gathered}
]</p>

<p>Note how the list of aligned formulas
𝑥 =3+ 𝑝 + 𝛼
𝑦 =4+ 𝐪
𝑧 =5+ 𝐫
𝑢 =6+ 𝐬
and the list of centered formulas
𝐩 =5+ 𝑎 + 𝛼
𝐪 = 12
𝐫 = 13
𝐬 = 11 + 𝑑
are treated as individual large symbols.
The aligned, alignedat, and gathered subsidiary math environments follow
the same rules as align and gather. The aligned subsidiary math environment allows any number of columns, but you must specify the intercolumn spacing as in the
alignat environment.
You can use the aligned subsidiary math environment to rewrite formula (4)
from Section 1.7.3 so that the formula number is centered between the two lines:
(21)
ℎ(𝑥) = ∫
(
𝑓(𝑥) + 𝑔(𝑥)
1 + 𝑓2(𝑥)
+
1 + 𝑓(𝑥)𝑔(𝑥)
√
1 − sin 𝑥
)
𝑑𝑥
= ∫
1 + 𝑓(𝑥)
1 + 𝑔(𝑥)
𝑑𝑥 − 2 arctan(𝑥 − 2)
this is typed as
\begin{equation}\label{E:mm6}
\begin{aligned}
h(x) &amp;= \int \left(
\frac{ f(x) + g(x) }
{ 1 + f^{2}(x) } +
\frac{ 1 + f(x)g(x) }
{ \sqrt{1 - \sin x} }
\right) \, dx<br />
&amp;= \int \frac{ 1 + f(x) }
{ 1 + g(x) } \, dx - 2 \arctan (x - 2)
\end{aligned}
\end{equation}
See Section 7.6.2 for a better way to split a long formula.
Symbols, as a rule, are vertically centrally aligned. This is not normally an issue with math symbols, but it may be important with large symbols created by subsidiary math environments. The subsidiary math environments, aligned, gathered,</p>

<p>and array, take c, t, or b as optional arguments to force vertically centered, top, or
bottom alignment, respectively. The default is c (centered). To obtain
𝑥 =3+ 𝐩 + 𝛼
𝑦 =4+ 𝐪
𝑧 =5+ 𝐫
𝑢 =6+ 𝐬 using
𝐩 =5+ 𝑎 + 𝛼
𝐪 = 12
𝐫 = 13
𝐬 = 11 + 𝑑
for example, you would type
[
\begin{aligned}[b]
x &amp;= 3 + \mathbf{p} + \alpha<br />
y &amp;= 4 + \mathbf{q}<br />
z &amp;= 5 + \mathbf{r}<br />
u &amp;=6 + \mathbf{s}
\end{aligned}
\text{\qquad using\qquad}
\begin{gathered}[b]
\mathbf{p} =5+a+ \alpha<br />
\mathbf{q} = 12<br />
\mathbf{r} = 13<br />
\mathbf{s} = 11 + d
\end{gathered}
]
There is no numbering or \tag-ing allowed in subsidiary math environments because LATEX does not number or tag what it considers to be a single symbol.</p>

<h4 id="7-6-2-split">7.6.2 Split</h4>

<p>The split subsidiary math environment is used to split a long formula into aligned
parts. There are two major advantages to use split:
1. The math environment that contains it considers the split environment to be a
single equation, so it generates only one number for it.
2. If a split environment appears inside an align environment, the alignment point
of the split environment is recognized by align and is used in aligning all the
formulas in the align environment.
To illustrate the first advantage, consider
(𝑥1𝑥2𝑥3𝑥4𝑥5𝑥6)
2
+ (𝑥1𝑥2𝑥3𝑥4𝑥5 + 𝑥1𝑥3𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥3𝑥5𝑥6)
2 (22)
typed as</p>

<p>\begin{equation}\label{E:mm7}
\begin{split}
(x<em>{1}x</em>{2}&amp;x<em>{3}x</em>{4}x<em>{5}x</em>{6})^{2}<br />
&amp;+ (x<em>{1}x</em>{2}x<em>{3}x</em>{4}x<em>{5}
+ x</em>{1}x<em>{3}x</em>{4}x<em>{5}x</em>{6}
+ x<em>{1}x</em>{2}x<em>{4}x</em>{5}x<em>{6}
+ x</em>{1}x<em>{2}x</em>{3}x<em>{5}x</em>{6})^{2}
\end{split}
\end{equation}
See also the two examples of split in the secondarticle.tex sample article in
Section 9.3 and in the samples folder (see page 5).
To illustrate the second advantage, here is an example of a split subsidiary math
environment within an align environment:
𝑓 = (𝑥1𝑥2𝑥3𝑥4𝑥5𝑥6)
2
= (𝑥1𝑥2𝑥3𝑥4𝑥5 + 𝑥1𝑥3𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥3𝑥5𝑥6)
2, (23)
𝑔 = 𝑦1𝑦2𝑦3 (24) .
which is typed as
\begin{align}\label{E:mm8}
\begin{split}
f &amp;= (x<em>{1} x</em>{2} x<em>{3} x</em>{4} x<em>{5} x</em>{6})^{2}<br />
&amp;= (x<em>{1} x</em>{2} x<em>{3} x</em>{4} x<em>{5}
+ x</em>{1} x<em>{3} x</em>{4} x<em>{5} x</em>{6}
+ x<em>{1} x</em>{2} x<em>{4} x</em>{5} x<em>{6}
+ x</em>{1} x<em>{2} x</em>{3} x<em>{5} x</em>{6})^{2},
\end{split}<br />
g &amp;= y<em>{1} y</em>{2} y_{3}.\label{E:mm9}
\end{align}
Notice the \ command following \end{split} to separate the lines for align.
Rule split subsidiary math environment
1. split can only be used inside another math environment, such as displaymath,
equation, align, gather, flalign, gathered and their *-ed variants.
2. A split formula has only one number, automatically generated by LATEX, or one
tag from a \tag command. Use the \notag command to suppress numbering.
3. The \label, \tag, or \notag command must precede \begin{split} or follow
\end{split}.</p>

<p>Here is an example of split inside a gather environment:
\begin{gather}\label{E:mm10}
\begin{split}
f &amp;= (x<em>{1} x</em>{2} x<em>{3} x</em>{4} x<em>{5} x</em>{6})^{2}<br />
&amp;= (x<em>{1} x</em>{2} x<em>{3} x</em>{4} x<em>{5}
+ x</em>{1} x<em>{3} x</em>{4} x<em>{5} x</em>{6}
+ x<em>{1} x</em>{2} x<em>{4} x</em>{5} x<em>{6}
+ x</em>{1} x<em>{2} x</em>{3} x<em>{5} x</em>{6})^{2}<br />
&amp;= (x<em>{1} x</em>{2} x<em>{3} x</em>{4}
+ x<em>{1} x</em>{2} x<em>{3} x</em>{5}
+ x<em>{1} x</em>{2} x<em>{4} x</em>{5}
+ x<em>{1} x</em>{3} x<em>{4} x</em>{5})^{2}
\end{split}<br />
\begin{aligned}
g &amp;= y<em>{1} y</em>{2} y<em>{3}<br />
h &amp;= z</em>{1}^{2} z<em>{2}^{2} z</em>{3}^{2} z_{4}^{2}
\end{aligned}
\end{gather}
which produces
𝑓 = (𝑥1𝑥2𝑥3𝑥4𝑥5𝑥6)
2
= (𝑥1𝑥2𝑥3𝑥4𝑥5 + 𝑥1𝑥3𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥4𝑥5𝑥6 + 𝑥1𝑥2𝑥3𝑥5𝑥6)
2
= (𝑥1𝑥2𝑥3𝑥4 + 𝑥1𝑥2𝑥3𝑥5 + 𝑥1𝑥2𝑥4𝑥5 + 𝑥1𝑥3𝑥4𝑥5)
2
(25)
𝑔 = 𝑦1𝑦2𝑦3
ℎ = 𝑧2
1𝑧2
2𝑧2
3𝑧2
4
If you try to use split outside a displayed math environment, you get the message
! Package amsmath Error: \begin{split} won’t work here.
You may want to read the discussion of the AMS document classes and amsmath
package options in Section 9.5 that modify the placement of equation numbers.</p>

<h3 id="7-7-adjusted-columns">7.7 Adjusted columns</h3>

<p>In an adjusted multiline math environment, the columns are adjusted so that they are
displayed centered, flush left, or flush right, instead of aligned (as in Section 7.5). Since
you have no control line by line over the alignment of the columns, &amp; has only one role
to play—it is the column separator.
In Sections 7.2 and 7.3, we discussed two adjusted one-column math environments,
gather and multline. All the other adjusted constructs are subsidiary math environments. For example, a matrix environment (see Section 7.7.1) produces a multicolumn</p>

<p>centered display:
(
𝑎 + 𝑏 + 𝑐 𝑢𝑣 𝑥 − 𝑦 27</p>

<h1 id="𝑎-𝑏-𝑢-𝑣-𝑧-1340">𝑎 + 𝑏 𝑢 + 𝑣 𝑧 1340)</h1>

<p>( 1 100 115 27
201 0 1 1340)
The array environment (see Section 7.7.2) produces a multicolumn adjusted display:
( 𝑎 + 𝑏 + 𝑐 𝑢𝑣 𝑥 − 𝑦 27</p>

<h1 id="𝑎-𝑏-𝑢-𝑣-𝑧-1340-1">𝑎 + 𝑏 𝑢 + 𝑣 𝑧 1340 )</h1>

<p>( 1 100 115 27
201 0 1 1340 )
The columns are centered, flush left, or flush right. In this example, the first matrix
has three centered columns and one flush right column, while the second matrix has
four flush right columns. A variant, cases (see Sections 1.7.4 and 7.7.3), produces two
columns set flush left:
(26) 𝑓(𝑥) =
⎧
⎪
⎨
⎪
⎩
−𝑥2, if 𝑥 &lt; 0;
𝛼 + 𝑥, if 0 ≤ 𝑥 ≤ 1;
𝑥2, otherwise.</p>

<h4 id="7-7-1-matrices">7.7.1 Matrices</h4>

<p>Use the matrix subsidiary math environment to typeset matrices. For example,
\begin{equation<em>}
\left(
\begin{matrix}
a + b + c &amp; uv &amp; x - y &amp; 27<br />
a+b &amp;u+v&amp;z &amp; 1340
\end{matrix}
\right) =
\left(
\begin{matrix}
1 &amp; 100 &amp; 115 &amp; 27<br />
201 &amp; 0 &amp; 1 &amp; 1340
\end{matrix}
\right)
\end{equation</em>}
produces
(
𝑎 + 𝑏 + 𝑐 𝑢𝑣 𝑥 − 𝑦 27</p>

<h1 id="𝑎-𝑏-𝑢-𝑣-𝑧-1340-2">𝑎 + 𝑏 𝑢 + 𝑣 𝑧 1340)</h1>

<p>( 1 100 115 27
201 0 1 1340)
If you use matrix on its own, i.e., outside a math environment,
\begin{matrix}
a + b + c &amp; uv &amp; x - y &amp; 27<br />
a + b &amp; u + v &amp; z &amp; 134
\end{matrix}</p>

<p>you get the message
! Missing $ inserted.
<inserted text>
$
l.5 \begin{matrix}
obliquely reminding you that matrix is a subsidiary math environment.
The matrix subsidiary math environment provides a matrix of up to 10 centered
columns. If you need more columns, you have to ask for them. The following example
sets the number of columns to 12:
\begin{equation}\label{E:mm12}
\setcounter{MaxMatrixCols}{12}
\begin{matrix}
1 &amp; 2 &amp; 3 &amp; 4 &amp; 5 &amp; 6 &amp; 7 &amp; 8 &amp; 9 &amp; 10 &amp; 11 &amp; 12<br />
1&amp;2&amp;3&amp; \hdotsfor{7} &amp; 11 &amp; 12
\end{matrix}
\end{equation}
produces
(27) 1 2 3 4 5 6 7 8 9 10 11 12
123 ........................ 11 12
We discuss \setcounter and other counters further in Section 14.5.1.
You can have dots span any number of columns with the \hdotsfor command, as
in (27). The argument of this command specifies the number of columns to fill (which
is one more than the number of &amp;’s the command replaces). The \hdotsfor command
must either appear at the beginning of a row or immediately following an ampersand
(&amp;). If you violate this rule, you get the message
! Misplaced \omit.
\multispan #1-&gt;\omit
\mscount #1\relax \loop \ifnum
\mscount ...
l.12 \end{equation}
The \hdotsfor command also takes an optional argument, a number that multiplies the spacing between the dots. The default is 1. For instance, if we replace
\hdotsfor{7} in the previous example by \hdotsfor[3]{7}, then we get
(28) 1 2 3 4 5 6 7 8 9 10 11 12
123 .............. 11 12
We can replace a part of a matrix column with a large symbol.
𝑎 =
⎛
⎜
⎜
⎝
(𝑎11)
⋯ 0
(𝑎𝑛1)
⎞
⎟
⎟
⎠
, (𝑎𝑘1) =
⎛
⎜
⎜
⎜
⎜
⎝
0…0 1 0…0
0
0 ⋯ 0
0
⎞
⎟
⎟
⎟
⎟
⎠</p>

<p>typed as
\newcommand{\BigFig}[1]{\parbox{12pt}{\Huge #1}}
\newcommand{\BigZero}{\BigFig{0}}
[
a=\left( \begin{matrix}
(a<em>{11})<br />
\cdots &amp; \BigZero <br />
(a</em>{n1})<br />
\end{matrix}
\right) ,\quad
(a_{k1})=\left(
\begin{matrix}
0\ldots0&amp;1&amp; 0\ldots 0<br />
&amp; 0<br />
\BigZero &amp; \cdots &amp; \BigZero<br />
&amp; 0<br />
\end{matrix} \right)
]
Matrix variants
A matrix may be enclosed by delimiters (see Section 5.5.1) in a number of different
ways:
𝑎 + 𝑏 + 𝑐 𝑢𝑣
𝑎 + 𝑏 𝑐 + 𝑑
(
𝑎 + 𝑏 + 𝑐 𝑢𝑣
𝑎 + 𝑏 𝑐 + 𝑑
) [𝑎 + 𝑏 + 𝑐 𝑢𝑣
𝑎 + 𝑏 𝑐 + 𝑑
]
|
|
|
|
𝑎 + 𝑏 + 𝑐 𝑢𝑣
𝑎 + 𝑏 𝑐 + 𝑑
|
|
|
|
‖
‖
‖
‖
𝑎 + 𝑏 + 𝑐 𝑢𝑣
𝑎 + 𝑏 𝑐 + 𝑑
‖
‖
‖
‖
{𝑎 + 𝑏 + 𝑐 𝑢𝑣
𝑎 + 𝑏 𝑐 + 𝑑
}
The first matrix is typed as
\begin{matrix}
a+b+c&amp; uv<br />
a+b &amp;c+d
\end{matrix}
The others are typed in the same way, except that they use the pmatrix, bmatrix,
vmatrix, Vmatrix, and Bmatrix environments, respectively. We can use other delimiters, as in
\begin{equation*}
\left(
\begin{matrix}
1 &amp; 0 &amp; \dots &amp; 0<br />
0 &amp; 1 &amp; \dots &amp; 0<br />
\vdots &amp; \vdots &amp; \ddots &amp; \vdots\</p>

<p>0 &amp; 0 &amp; \dots &amp; 1
\end{matrix}
\right]
\end{equation*}
which produces
⎛
⎜
⎜
⎜
⎝
10…0
01…0
⋮⋮⋱⋮
00…1
⎤
⎥
⎥
⎥
⎦
This example also uses vertical dots provided by the \vdots commands and diagonal
dots provided by the \ddots commands.
Small matrix
If you put a matrix in an inline math formula, it may be too large. Instead, use the
smallmatrix environment. Compare (
𝑎 + 𝑏 + 𝑐 𝑢𝑣
𝑎 + 𝑏 𝑐 + 𝑑
)
, typed as
$\begin{pmatrix}
a+b+c&amp; uv<br />
a+b &amp;c+d
\end{pmatrix}$
with the small matrix ( 𝑎+𝑏+𝑐 𝑢𝑣 𝑎+𝑏 𝑐+𝑑
)
, typed as
$\left(
\begin{smallmatrix}
a+b+c&amp; uv<br />
a+b &amp;c+d
\end{smallmatrix}
\right)$
There are no delimited variants of smallmatrix similar to those of matrix. Instead,
use the \left and \right commands with delimiters to enclose a small matrix. The
\hdotsfor command does not work in a small matrix.</p>

<h4 id="7-7-2-arrays">7.7.2 Arrays</h4>

<p>The array subsidiary math environment is a variant of matrix. For array, you must
specify the alignment of each column and you have more options to customize it.
The first matrix in the introduction to Section 7.7 would be typed as follows using
the array subsidiary math environment:
\begin{equation*}
\left(
\begin{array}{cccc}
a + b + c &amp; uv &amp; x - y &amp; 27\</p>

<p>a + b &amp; u + v &amp; z &amp; 134
\end{array}
\right)
\end{equation*}
which produces
( 𝑎 + 𝑏 + 𝑐 𝑢𝑣 𝑥 − 𝑦 27
𝑎 + 𝑏 𝑢 + 𝑣 𝑧 134 )
Rule array subsidiary math environment
1. Adjacent columns are separated by an ampersand (&amp;).
2. The argument of \begin{array} is mandatory. The argument is a series of the
letters l, r, or c, signifying that the corresponding column in the array should be set
flush left, flush right, or centered, respectively.
The matrix
( 𝑎 + 𝑏 + 𝑐 𝑢𝑣 𝑥 − 𝑦 27
𝑎 + 𝑏 𝑢 + 𝑣 𝑧 134 )
could not have been typeset with matrix since the last column is set flush right. This
is not quite true, of course. In a matrix environment, \hfill 27 would force the
number 27 to be set flush right (see Section 3.8.4).
If the argument of \begin{array} is missing, as in
\begin{equation}
\begin{array}
a + b + c &amp; uv &amp; x - y &amp; 27<br />
a + b &amp; u + v &amp; z &amp; 134
\end{array}
\end{equation}
LATEX generates the message
! Package array Error: Illegal pream-token (a): ‘c’ used.
If you change the first entry of the matrix to c+b+a, then the message is
! Extra alignment tab has been changed to \cr.
<recently read> \endtemplate
l.5 c + b + a &amp;
uv &amp; x - y &amp; 27<br />
Note that the first character in c+b+a is not an
Illegal character in array arg.
because c is one possible argument of \begin{array}.</p>

<p>If the closing brace of the argument of \begin{array} is missing, as in
\begin{equation}
\begin{array}{cccc
a + b + c &amp; uv &amp; x - y &amp; 27<br />
a + b &amp; u + v &amp; z &amp; 134
\end{array}
\end{equation}
you get the message
Runaway argument?
{cccc a + b + c &amp; uv &amp; x - y &amp; 27\ a + b
&amp;u+v \ETC.
! Paragraph ended before \@array was complete.
In fact, the argument of array can be more complex than stated in the rule. Indeed,
the array subsidiary math environment can take any argument that the tabular environment can take (see Section 4.6). For instance, here is a matrix with headers:
𝑎𝑏𝑐
1 111
2 1 −1 −1
2 210
typed as
[
\begin{array}{r|rrr}
&amp; a &amp; b &amp; c <br />
\hline
1 &amp; 1 &amp; 1 &amp; 1 <br />
2 &amp; 1 &amp; -1 &amp; -1 <br />
2&amp;2&amp; 1&amp; 0
\end{array}
]
In Section 7.7.1 we have the matrix example:
𝑎 =
⎛
⎜
⎜
⎝
(𝑎11)
⋯ 0
(𝑎𝑛1)
⎞
⎟
⎟
⎠
If rows are spanned, we need to use array instead of matrix:
⎡
⎢
⎢
⎢
⎣
𝑎 𝑏
𝑐 𝑑 0
𝑚 𝑛 0 𝑘 𝑙
⎤
⎥
⎥
⎥
⎦
typed as (the \BigZero command is defined on page 217)</p>

<p>\left[ \hspace{-\arraycolsep}
spacing is automatic with matrix but not with array
\begin{array}{cccc}
a &amp; b &amp;\multicolumn{2}{c}{}<br />
c &amp; d &amp;\multicolumn{2}{c}
{\raisebox{1.5ex}[0pt]{\BigZero}}<br />
\multicolumn{2}{c}{}&amp; m &amp; n <br />
\multicolumn{2}{c}
{\raisebox{1.5ex}[0pt]{\BigZero}}&amp; k &amp; l
\end{array}
\hspace{-\arraycolsep} \right]
\end{equation*}</p>

<h4 id="7-7-3-cases">7.7.3 Cases</h4>

<p>The cases environment is also a subsidiary math environment. Here is the example
from Section 1.7.4 and the introduction to this section:
𝑓(𝑥) =
⎧
⎪
⎨
⎪
⎩
−𝑥2, if 𝑥 &lt; 0;
𝛼 + 𝑥, if 0 ≤ 𝑥 ≤ 1;
𝑥2, otherwise.
It is typed as
\begin{equation}
f(x)=
\begin{cases}
-x^{2}, &amp;\text{if $x &lt; 0$;}<br />
\alpha + x, &amp;\text{if $0 \leq x \leq 1$;}<br />
x^{2}, &amp;\text{otherwise.}
\end{cases}
\end{equation}
It would be easy to code the cases environment as a special case of the array subsidiary math environment:
\begin{equation}
f(x) =
\left{
\begin{array}{ll}
-x^{2}, &amp;\text{if $x &lt; 0$;}<br />
\alpha + x, &amp;\text{if $0 \leq x \leq 1$;}<br />
x^{2}, &amp;\text{otherwise.}
\end{array}
\right.
\end{equation}</p>

<p>or of the alignedat subsidiary math environment:
\begin{equation<em>}
f(x) =
\left{
\begin{alignedat}{2}
&amp;-x^{2}, &amp;&amp;\quad\text{if $x &lt; 0$;}<br />
&amp;\alpha + x, &amp;&amp;\quad\text{if $0 \leq x \leq 1$;}<br />
&amp;x^{2}, &amp;&amp;\quad\text{otherwise.}
\end{alignedat}
\right.
\end{equation</em>}</p>

<h3 id="7-8-commutative-diagrams">7.8 Commutative diagrams</h3>

<p>The amscd package provides the CD subsidiary math environment for typesetting simple
commutative diagrams. To use it, make sure that the command
\usepackage{amscd}
is in the preamble of the document.
For instance, to obtain
A −−−−→ B
⏐
⏐</p>

<p>⏐
⏐</p>

<p>C D
type
[
\begin{CD}
A @&gt;&gt;&gt; B<br />
@VVV @VVV<br />
C @= D
\end{CD}
]
A commutative diagram is a matrix made up of two kinds of rows, horizontal rows,
that is, rows with horizontal arrows; and vertical rows, rows with vertical arrows. For
example,
A @&gt;&gt;&gt; B
is a typical horizontal row. It defines two columns and a connecting horizontal arrow
@&gt;&gt;&gt;. There may also be more than two columns, as in</p>

<p>A @&gt;&gt;&gt; B @&gt;&gt;&gt; C @= D @&lt;&lt;&lt; E @&lt;&lt;&lt; F
The connecting pieces can be:
Stretchable right arrows, @&gt;&gt;&gt;
Stretchable left arrows, @&lt;&lt;&lt;
Stretchable equal signs, @=
Blanks, @.
The label above a stretchable arrow should be typed between the first and second &gt;
or &lt; symbols, whereas the label below should be typed between the second and third &gt;
or &lt; symbols. You can have both.
The following is a typical vertical row containing vertical arrows:
@VVV @VVV @AAA
The vertical pieces could be
Stretchable down arrows, @VVV
Stretchable up arrows, @AAA
Double vertical lines, @| or @\vert
Blanks, @.
The vertical arrows are placed starting with the first column.
The label to the left of a stretchable vertical arrow should be typed between the first
and second V or A, whereas the label on the right should be typed between the second
and third V or A symbols. You can have both.
These constructs are illustrated in
C
H1
−−−−→ C
H2
−−−−→ C
Pc,3
⏐
⏐</p>

<p>Pc,¯ 3
⏐
⏐</p>

<p>⏐
⏐</p>

<p>P−c,3
C
H1
−−−−→ C
H2
−−−−→ C
typed as
[
\begin{CD}
\mathbb{C} @&gt;H<em>{1}&gt;&gt; \mathbb{C} @&gt;H</em>{2}&gt;&gt;\mathbb{C}<br />
@VP<em>{c,3}VV @VP</em>{\bar{c},3}VV @VVP<em>{-c,3}V<br />
\mathbb{C} @&gt;H</em>{1}&gt;&gt; \mathbb{C} @&gt;H_{2}&gt;&gt; \mathbb{C}
\end{CD}
]</p>

<p>Here is another example utilizing the \text command, followed by its source:
A log
−−−−→ B −−−−→ bottom
C D ←−−−− E ←−−−− F
one-one
⏐
⏐</p>

<p>
⏐
⏐onto



X Y −−−−→ Z −−−−→ U
β

⏐
⏐

⏐
⏐
γ
⏐
⏐</p>

<p>⏐
⏐</p>

<p>D α
−−−−→ E −−−−→ H I
[
\begin{CD}
A @&gt;\log&gt;&gt; B @&gt;&gt;\text{bottom}&gt; C
@= D @&lt;&lt;&lt; E
@&lt;&lt;&lt; F<br />
@V\text{one-one}VV @. @AA\text{onto}A @|<br />
X @= Y @&gt;&gt;&gt; Z
@&gt;&gt;&gt; U<br />
@A\beta AA @AA\gamma A @VVV @VVV<br />
D @&gt;\alpha&gt;&gt; E @&gt;&gt;&gt; H
@. I<br />
\end{CD}
]
Diagrams requiring more advanced commands should be done with a drawing (or
drafting) application or with specialized packages. The AMS recommends Kristoffer H.
Rose and Ross Moore’s xy-pic package (see Section D.1). If you get familiar with the
TikZ package in Chapter 13, then you should utilize the tikzcd package of Florêncio
Neves to draw commutative diagrams, see Section 13.4.</p>

<h3 id="7-9-adjusting-the-display">7.9 Adjusting the display</h3>

<p>By default, the math environments described in this chapter do not allow page breaks.
While a page break in a cases environment is obviously not desirable, it may be acceptable in an align or gather environment. You can allow page breaks by using the
\allowdisplaybreaks
command. It allows page breaks in a multiline math environment within its scope. For
instance,
{\allowdisplaybreaks
\begin{align}\label{E:mm13}
a &amp;= b + c,<br />
d &amp;= e + f,\</p>

<p>x &amp;= y + z,<br />
u &amp;= v + w.
\end{align}
}% end of \allowdisplaybreaks
allows a page break after any one of the first three lines.
Within the scope of an \allowdisplaybreaks command, use the \* command
to prohibit a break after that line. The line separators \ and \* can use an optional
argument to add some additional interline space (see Section 3.7.2).
Just before the line separator command (\), include a \displaybreak command
to force a break, or a
\displaybreak[0]
command to allow one. \displaybreak[n ], where n is 1, 2, or 3, specifies the intermediate steps between allowing and forcing a break. \displaybreak[4] is the same
as \displaybreak. You can easily visualize these rules:
allow display break =
\displaybreak[0] \displaybreak[1] ... \displaybreak[4]
= \displaybreak
= force display break
Note the similarity between the displaybreak sequence and the pagebreak sequence
in Section 3.7.3.
If you want to allow page breaks in all multiline math environments in your document, place the \allowdisplaybreaks[1] command in the preamble of your document. The optional argument can be varied from 1 to 4, in order of increasing permissiveness.
Note that none of the subsidiary math environments are affected by any variant of
the \displaybreak or the \allowdisplaybreaks commands.</p>

<h1 id="iii-document-structure">III Document Structure</h1>

<h2 id="8-documents">8 Documents</h2>

<p>In this chapter, we take up the organization of shorter documents. Longer documents and books are discussed in Part VI.</p>

<p>在本章中，我们将讨论较短文档的组织。较长的文档和书籍将在第6部分中讨论。</p>

<p>If you are writing a simple article, start with a template (see Section 9.4), then you can safely ignore much of the material discussed in this chapter. In more complicated articles you may need the material discussed in this chapter.</p>

<p>如果你正在写一篇简单的文章，从模板开始(见章节9.4)，那么你可以放心地忽略本章讨论的大部分内容。在比较复杂的文章中，您可能需要本章讨论的材料。</p>

<p>Section 8.1 discusses document structure in general, the preamble is presented in Section 8.2. Section 8.3 discusses the top matter, in particular, the abstract environment. Section 8.4 presents the main matter, including sectioning, cross-referencing, tables, and figures. Section 8.5 covers the back matter, including the bibliography and index.</p>

<p>第8.1节讨论了一般的文档结构，第8.2节介绍了序言。第8.3节讨论了最重要的内容，特别是摘要环境。第8.4节介绍了主要内容，包括分段、交叉引用、表格和图表。第8.5节讨论了背景资料，包括参考书目和索引。</p>

<p>In Section 8.1–8.5 we discuss the logical design of a LATEX document. The visual design is largely left to the document class. In Section 8.6, however, we briefly discuss one frequently adjusted aspect of visual design, the page style.</p>

<p>在8.1-8.5节中，我们将讨论LATEX文档的逻辑设计。视觉设计在很大程度上留给了文档类。然而，在第8.6节中，我们将简要讨论视觉设计中经常调整的一个方面，即页面样式。</p>

<h3 id="8-1-the-structure-of-a-document">8.1 The structure of a document</h3>

<p>The source file of a LATEX document is divided into two main parts: the preamble and
the body (see Figure 8.1).
Preamble This is the portion of the source file before the
\begin{document}
command. It contains definitions and instructions that affect the entire document.
Body This is the content of the document environment. It contains all the material to
be typeset.
These statements oversimplify the situation somewhat. For instance, you can
define a command in the preamble to typeset some text that will appear wherever the
command is used in the body, but the text is actually typed in the preamble. Nevertheless, I hope the division between the preamble and the body is clear.
Figure 8.1: The structure of a LATEX document.
The body is divided into three parts:</p>

<p>Top matter This is the first part of the body. It is concluded with the \maketitle
command. Traditionally it included only the \title, the \author, and the
\date commands. The top matter is derived from these commands and from
it the title page of an article was designed. This evolved to include a lot more
information about the author(s), for instance, their e-mail addresses, academic
affiliations, home pages, and about the article, for instance, research support, subject classification. The typeset top matter now is split into several locations, the
top and bottom of the first page and the bottom of the last page. See page 4 and
pages 272–275 for two examples and Section 17.1.2 for more components that
can be used in longer documents and books.
Main matter This is the main part of the document, including any appendices.
Back matter This is the material that is typeset at the end of the document. For a typical shorter document, the back matter is just the bibliography. See Section 17.1.2
for more information about additional components—such as the index—that are
often used in longer documents and books.</p>

<h3 id="8-2-the-preamble">8.2 The preamble</h3>

<p>You were introduced to the preamble of a document in Section 1.8. Recall that the
preamble contains the crucial \documentclass line, specifying the document class
and the options that modify its behavior. For instance,
\documentclass[draft,reqno]{amsart}
loads the document class amsart with the draft option, which paints a slug in the
margin indicating lines that are too wide (see Section 3.7.1), and the reqno option,
which places the equation numbers on the right (see Section 9.5).
article is the most popular legacy document class (see Section 10.1). The command
\documentclass[titlepage,twoside]{article}
loads the document class article with the titlepage option, which creates a separate
title page and places the abstract on a separate page, and the twoside option, which
formats the typeset article for printing on both sides of the paper.
The \documentclass command is usually followed by the \usepackage commands, which load LATEX enhancements called packages. For instance,
\usepackage{latexsym}
loads a package that defines some additional LATEX symbol names (see Section 10.3),
whereas</p>

<p>\usepackage[demo]{graphicx}
loads the graphicx package (see Section 8.4.3) with the demo option that inserts rectangles in place of the illustrations. Document class options are also passed on to the
packages as possible options, so
\documentclass[demo]{amsart}
\usepackage{graphicx}
would also load the graphicx package with the demo option unless it is invoked with
\usepackage[final]{graphicx}
Any document class options that are not relevant for a package are ignored.
\usepackage commands can also be combined:
\usepackage{amssymb,latexsym}
is the same as
\usepackage{amssymb}
\usepackage{latexsym}
Document class files have a cls extension, whereas package files are designated
by the sty extension. The document class amsart is defined in the amsart.cls file,
the graphicx package is defined in the graphicx.sty file. You may define your own
packages, such as the newlattice package described in Section 14.3.
The preamble normally contains any custom commands (see Chapter 14) and
the proclamation definitions (see Section 4.4). Some commands can only be in the
preamble. \DeclareMathOperator is such a command (see Section 14.1.6) and so is
\numberwithin (see Section 5.3). If you put such a command in the body, for example,
\DeclareMathOperator, you get a message:
! LaTeX Error: Can be used only in preamble.
l.103 \DeclareMathOperator
There is one command that may only be placed before the
\documentclass{...}
line:
\NeedsTeXFormat{LaTeX2e}[2005/12/01]
This command checks the version of LATEX being used to typeset the document and
issues a warning if it is older than December 1, 2005 or whatever date you specified.
Use this optional date argument if your document contains a feature that was introduced
on or after the date specified or if an earlier version had a bug that would materially affect
the typesetting of your document.</p>

<p>For instance, if you use the \textsubscript command, introduced in the
December 1, 2005 release (see page 293), then you may use the \NeedsTeXFormat
line shown above. LATEX now hardly changes from year to year, so this command is
rarely used except in document class files or package files. See, however, the discussion on page 293.</p>

<h3 id="8-3-top-matter">8.3 Top matter</h3>

<p>The top matter of an article is part of the article body and, as a rule, it contains the
material used to create the “title page” and, optionally, an abstract.
Discussion of the top matter should take place in the context of a particular document class. We discuss the top matter of the amsart document class in Section 1.8,
and we continue discussing it in much more detail in Section 9.2. The top matter of the
article document class is covered in Section 10.1.1.
Long documents, such as books, have rather complicated top matter such as tables
of contents (see Chapter 17). In this section, we only discuss the abstract.</p>

<h4 id="8-3-1-abstract">8.3.1 Abstract</h4>

<p>Most standard document classes, except those for letters and books, make provision for
an abstract, typed in an abstract environment.
The document class formats the heading as Abstract, or some variant, and, as
a rule, typesets the text of the abstract in smaller type with wider margins.
The amsart document class requires that you place the abstract environment
before the \maketitle command (see Figure 8.1). See the abstract in the sample article firstarticle.tex on page 4. If you forget to place it there, you get the warning
Class amsart Warning:
Abstract should precede \maketitle in AMS
documentclasses; reported on input line 21.
and the abstract is typeset wherever the abstract environment happens to be placed.
In the article document class you place the abstract after the \maketitle command. If you place the abstract before the \maketitle command, the abstract is placed
on page 1, and the article starts on page 2.
If the abstract and the “footnotes” from the top matter fill the first page, the second
page has no running head. To fix this, follow the \maketitle command with the
\clearpage command (see Section 3.7.3).</p>

<h3 id="8-4-main-matter">8.4 Main matter</h3>

<p>The main matter contains most of the essential parts of the document, including the
appendices.
We discuss now how to structure the main matter. We describe sectioning in Section 8.4.1, cross-referencing in Section 8.4.2, and tables and figures in Section 8.4.3.</p>

<h4 id="8-4-1-sectioning">8.4.1 Sectioning</h4>

<p>The main matter of a typical shorter document is divided into sections. We discuss
sectioning of longer documents in Section 17.1.1.
Sections
LATEX is instructed to start a section with the \section command, which takes the title
of the section as its argument. This argument may also be used for the running head and
it is also placed in the table of contents (see Section 17.2), which means that you need
to protect fragile commands with the \protect command (see Section 3.3.3). LATEX
automatically assigns a section number and typesets the section number followed by the
section title.
Any \section command may be followed by a \label command, so that you
can refer to the section number generated by LATEX, as in
\section{Introduction}\label{S:intro}
The command \ref{S:intro} refers to the number of the section and the command
\pageref{S:intro} refers to the number of the typeset page where the section title
appears.
You save a lot of work if in the source file you type in the cross-reference:
\section{Introduction}\label{S:intro}
%Section~\ref{S:intro}
Other sectioning commands
A section may be subdivided into subsections, which may themselves be divided into
subsubsections, paragraphs, and subparagraphs. Subsections are numbered within
a section (in Section 1, they are numbered 1.1, 1.2, and so on). Here is the whole
hierarchy:
\section
\subsection
\subsubsection
\paragraph
\subparagraph</p>

<p>It is important to understand that the five levels of sectioning are not just five different styles for typesetting section headers but they form a hierarchy. You should never
have a subsection outside a section, a subsubsection outside a subsection, and so on.
For instance, if the first sectioning command in your document is \subsection, the
subsections are numbered 0.1, 0.2, .... Or if in the first section of your document the
first sectioning command is \subsubsection, the subsubsections are numbered 1.0.1,
1.0.2, .... Both are clearly undesirable.
There are two additional sectioning commands provided by the report and by
the book document classes (book and amsbook): \chapter and \part (discussed in
Section 17.1.1).
Any sectioning command may be followed by a \label command so that you can
refer to the number (if any) generated by LATEX and the page on which it appears (see
Section 8.4.2).
There is also the seldom used top level \specialsection command. Articles do
not have parts and chapters, but sometimes a long article may require further division
using the \specialsection command.
The form of sectioning commands
All sectioning commands take one of the following three forms, illustrated below with
the \section command:
Form 1 The simplest form is
\section{title }
where title is the section title, of course. You need to protect any fragile commands
in title with the \protect command (see Section 3.3.3).
Form 2 The sectioning command may have an optional argument
\section[short_title ]{title }
The optional short_title argument is used in the running head. See Section 17.2 on
what goes into the table of contents. Protect any fragile commands in short_title
with the \protect command (see Section 3.3.3).
Form 3 Finally, we consider the <em>-ed version
\section</em>{title }
There are no section numbers printed and the title is not included in the running
head. Remember that if you * a section, all subsections, and so on, must also be *-ed
to avoid having strange section numbers.</p>

<p>Sectioning commands typeset
Consider the following text:
\section{Introduction}\label{S:Intro}
We shall discuss the main contributors of this era.
\subsection{Birkhoff’s contributions}\label{SS:contrib}
\subsubsection{The years 1935--1945}\label{SSS:1935}
Going to Oxford was a major step.
\paragraph{The first paper}
What should be the definition of a universal algebra?
\subparagraph{The idea}
One should read Whitehead very carefully.
This is how it looks typeset in the amsart document class:
1 Introduction
We shall discuss the main contributors of this era.
1.1 Birkhoff ’s contributions
1.1.1 The years 1935–1945
Going to Oxford was a major step.
The first paper What should be the definition of a universal algebra?
The idea One should read Whitehead very carefully.
Notice that paragraphs and subparagraphs are not displayed prominently by the AMS.
By contrast, look at the same text typeset in the legacy article document class:
1. Introduction
We shall discuss the main contributors of this era.
1.1. Birkhoff ’s contributions.
1.1.1. The years 1935–1945. Going to Oxford was a major step.
The first paper. What should be the definition of a universal algebra?
The idea. One should read Whitehead very carefully.
This illustrates vividly one huge difference between the two document classes, the visual
handling of sectioning.</p>

<p>Section 14.5.1 discusses how you can change the format of the section numbers,
and how to specify which sectioning levels are to be numbered.
Section 2.2 of The LATEX Companion, 2nd edition [56] explains how to change the
layout of section headings, especially useful for document class designers.
Appendix
In the main matter, if the article contains appendices, mark the beginning of the appendices with the \appendix command. After the \appendix command, the \section
command starts the appendices (for books, see Section 17.1.2):
\appendix
\section{A proof of the Main Theorem}\label{S:geom}
This produces Appendix A with the given title, typeset just like a section.
Note that appendices may be labeled and cross-referenced like any other section. In
an appendix, subsections are numbered A.1, A.2, and so on, subsubsections within A.1
are numbered A.1.1, A.1.2, and so on.
Let me repeat, \appendix is not like \section. It is not a command with an
argument. Appendices are named by arguments of the \section— commands (for
books, by the \chapter—commands) placed after the \appendix command.</p>

<h4 id="8-4-2-cross-referencing">8.4.2 Cross-referencing</h4>

<p>There are three types of cross-referencing available in LATEX:
1. Symbolic referencing with \ref and \eqref for equations
2. Page referencing with \pageref
3. Bibliographic referencing with \cite
In this section, we discuss the first two, while bibliographies are discussed in Section 8.5.1 and in Chapter 15.
Symbolic referencing
Wherever LATEX can automatically generate a number in your document, you can place
a \label command
\label{symbol }
Then, at any place in your document, you can use the \ref command
\ref{symbol }
to place that number in the document. We call symbol the label. You can use labels
for sectioning units, equations, figures, tables, items in an enumerated list environment
(see Section 4.2.1), as well as for theorems and other proclamations.</p>

<p>If the equation labeled E:int is the fifth equation in an article, then LATEX stores
the number 5 for the label E:int, so \ref{E:int} produces the number 5. If equations
are numbered within sections (see Section 5.3), and an equation is the third equation
in Section 2, then LATEX stores the number 2.3 for the label E:int, so the reference
\ref{E:int} produces the number 2.3.
Example 1 The present section starts with the command
\section{Main matter}\label{S:MainMatter}
So \ref{S:MainMatter} produces the number 8.4 and we get the number of the typeset page where the section title appears with \pageref{S:MainMatter}, which is 234.
Tip Type
\section{Main matter}\label{S:MainMatter}
%Section~\ref{S:MainMatter}
to make cross-referencing quicker.
Example 2
\begin{equation}\label{E:int}
\int<em>{0}^{\pi} \sin x \, dx = 2.
\end{equation}
In this case, \ref{E:int} produces the number of the equation, \eqref{E:int} produces the number of the equation in parentheses.
Tip Type
\begin{equation}\label{E:int}%\eqref{E:int}
\int</em>{0}^{\pi} \sin x \, dx = 2.
\end{equation}
to make cross-referencing quicker.
Tip If you have to reference an equation in the statement of a theorem, always use \eqref.
Do not use \eqref to reference anything but proclamations. (See the \itemref command introduced in Section 14.1.2.)</p>

<p>Example 3
\begin{theorem}\label{T:fund}
Statement of theorem.
\end{theorem}
The reference \ref{T:fund} produces the number of the theorem.
Tip Type
\begin{theorem}\label{T:fund}%Theorem~\ref{T:fund}
Statement of theorem.
\end{theorem}
to make cross-referencing quicker.
Tip Typeset a document twice to see a change in a cross-reference.
See Section C.2.4 for a discussion of how LATEX stores these numbers and why you have
to typeset twice. If you typeset only once, and LATEX suspects that the cross-references
have not been updated, you get a warning:
LaTeX Warning: Label(s) may have changed.
Rerun to get cross-references right.
Rule 1 \label command
The argument of the \label command is a string of letters, punctuation marks, and
digits. It is case sensitive, so S:intro is different from S:Intro.
Rule 2 \label command
Place a \label command immediately after the command that generates the number.
The following is not compulsory but advisable.
Tip When referencing:
see Section~\ref{S:Intro} proved in Theorem~\ref{T:main}</p>

<p>or
see Sections~\ref{S:Intro} and~\ref{S:main}
use ties (˜).
It is difficult to overemphasize how useful automatic cross-referencing can be when
writing a document.
Tip Make your labels meaningful to yourself, so they are easy to remember. Systematize
your labels. For example, start the label for a section with S:, theorem with T:, lemma
with L:, and so on.
When you are cross-referencing, even if you follow these tips, it may not be easy
to remember a label. David Carlisle’s showkeys package may help you out. It is part
of the tools distribution (see Section 10.3.1 and Section D.1). Include the line
\usepackage{showkeys}
in the preamble of your document. The showkeys package shows all symbolic references in the margin of the typeset document. With the notcite option, my preference,
\usepackage[notcite]{showkeys}
showkeys does not show the labels for bibliographic references. When the document
is ready for final typesetting, then comment out this line.
Section 2.4 of The LATEX Companion, 2nd edition [56] describes varioref, a package which extends the power of \ref, and xr, a package for referencing external documents.
Absolute referencing
There are two forms of absolute referencing.
1. Equations can be tagged. The \tag{name } command attaches a name to the formula. The tag replaces the equation number.
2. Items in an itemize environment can be tagged with the \item[name ] construct.
The tag replaces the item number.
Our first example is the equation
(Int) ∫
𝜋
0
sin 𝑥 𝑑𝑥 = 2</p>

<p>is typed as
\begin{equation}
\int_{0}^{\pi} \sin x \, dx = 2 \tag{Int}
\end{equation}
Our second example is the numbered list:
This space has the following properties:
(a) Grade 2 Cantor;
(b) Half-smooth Hausdorff;
(c) Metrizably smooth.
typed as
\noindent This space has the following properties:
\begin{enumerate}
\item[(a)] Grade 2 Cantor\label{Cantor};
\item[(b)] Half-smooth Hausdorff\label{Hausdorff};
\item[(c)] Metrizably smooth\label{smooth}.
\end{enumerate}
Tags are absolute. This equation is always referred to as (Int). Equation numbers, on
the other hand, are relative, they may change when the file is edited.
Tip Do not label absolute references. It may lead to problems that are hard to explain.
Page referencing
The command
\pageref{symbol }
produces the number of the typeset page corresponding to the location of the command
\label{symbol }. For example, if the following text is typeset on page 5,
There may be three types of problems with the
construction of such lattices.\label{problem}
and you type
Because of the problems associated with
the construction (see page~\pageref{problem})</p>

<p>anywhere in the document, LATEX produces
Because of the problems associated with the construction (see page 5)
Because of the way LATEX typesets a page, page references may be off by one. See
the discussion in Section 17.6 on how to guarantee that the page number is correct.</p>

<h4 id="8-4-3-floating-tables-and-illustrations">8.4.3 Floating tables and illustrations</h4>

<p>Many documents contain tables and illustrations. These must be treated in a special way
since they cannot be broken across pages. If necessary, LATEX moves—floats—a table
or an illustration to the top or bottom of the current or the next page if possible and
further away if not.
LATEX provides the table and the figure environments for typesetting floats. The
two are essentially identical except that the figure environments are named Figure 1,
Figure 2, and so on, whereas the table environments are numbered as Table 1, Table 2, and so on.
Tables
A table environment is set up as follows:
\begin{table}
Place the table here
\caption{title }\label{Ta:xxx }
\end{table}
The \caption command is optional and may also precede the table. The optional
\label command must be placed between the command \caption and the command
\end{table}. The label is used to reference the table’s number. A table environment
can have more than one table, each with its own caption.
Tip Type
\begin{table}
Place the table here
\caption{title }\label{Ta:xxx }%Table~\ref{Ta:xxx }
\end{table}
to make cross-referencing quicker.
The table environment is primarily used for tables made with the tabular or
similar environments (see Section 4.6). There are many examples of tables in this book,
for instance, Section 3.4 has four.</p>

<p>If your document uses the twocolumn document class option, the table environment produces tables that span only one column and the table* environment produces
tables that span both columns. Such tables can be placed only at the top of a page.
Figures
Illustrations, also called graphics or figures, include drawings, scanned images, digitized photos, and so on. These can be inserted with a figure environment:
\begin{figure}
Place the graphics here
\caption{title }\label{Fi:xxx }
\end{figure}
The above discussion of captions and labels for tables also applies to figures. Like
the table environment, if your document uses the twocolumn document class option,
the figure environment produces figures that span only one column, but the figure*
environment produces figures that span both columns. However, these figures can be
placed only at the top of a page.
Tip Type
\begin{figure}
Place the table here
\caption{title }\label{Fi:xxx }%Table~\ref{Fi:xxx }
\end{figure}
to make cross-referencing quicker.
The standard way of including a graphics file is with the commands provided by the
graphicx package by David Carlisle and Sebastian Rahtz, which is part of the LATEX
distribution (see Section 10.3). Save your graphics in PDF (Portable Document Format)
format—as a rule.
Your graphics can also be made within a picture environment, an approach that
is neither encouraged nor discussed in this book. To draw within LATEX, use TikZ, see
Chapter 13.
Using the graphicx package, a typical figure is specified as follows:
\begin{figure}
\centering\includegraphics{file }
\caption{title }\label{Fi:xxx }
\end{figure}</p>

<p>The illustration circle.pdf is included with the command
\includegraphics{circle}
without the extension! LATEX and the graphicx package assumes the pdf extension.
If you have to scale the graphics image, say to 68% of its original size, use the
command
\includegraphics[scale=.68]{file }
For instance, the figure on page 32 is included with the commands
\begin{figure}
\centering\includegraphics[scale=.8]{StrucLaT}
\caption{The structure of \protect\la.}
\label{Fi:StrucLaT}
\end{figure}
For another use of the graphicx package, see Section 6.2.1.
Float control
The table and figure environments may have an optional argument, with which you
can influence LATEX’s placement of the typeset table. The optional argument consists of
one to four letters:
b, the bottom of the page
h, here (where the environment appears in the text)
t, the top of the page
p, a separate page
For instance,
\begin{table}[ht]
requests LATEX to place the table “here” or at the “top” of a page. The default is [tbp]
and the order of the optional arguments is immaterial, for example, [th] is the same as
[ht]. If h is specified, it takes precedence, followed by t and b.
LATEX has more than a dozen internal parameters that control a complicated algorithm to determine the placement of tables and figures. If you want to override these</p>

<p>parameters for one table or figure only, add an exclamation mark (!) to the optional
argument. For instance, [!h] requests that this table or figure be placed where it is in
the source file even if this placement violates the algorithm. For a detailed discussion
of the float mechanism, see Chapter 6 of The LATEX Companion, 2nd edition [56].
The \suppressfloats command stops LATEX from placing any more tables or
figures on the page it appears on. An optional argument t or b (but not both) prohibits
placement of floats at the top or bottom of the current page. The table or figure that is
suppressed appears on the next page or later in the document, if necessary.
Your demands and LATEX’s float mechanism may conflict with one another with
the result that LATEX may not place material where you want it. The default values
of the float placement parameters are good only for documents with a small number
of floating objects. Combining two tables or illustrations into one sometimes helps.
The \clearpage command not only starts a new page with the \newpage command,
but also forces LATEX to print all the tables and figures it has accumulated but not yet
placed in the typeset document. See also some related commands discussed in Section 3.7.3.
For more information on graphics, see Chapter 10 of The LATEX Companion, 2nd
edition [56] and Chapter 2.4 of The LATEX Graphics Companion [17]. See also the
documentation for the graphicx package in the LATEX distribution (see Section 10.3).</p>

<h3 id="8-5-back-matter">8.5 Back matter</h3>

<p>The back matter of an article is very simple, as a rule. It is either empty or consists
of only a bibliography. A long document, such as a book, may have more complicated
back matter (see Chapter 17). In this section, we discuss only the bibliography and
a very simple index.</p>

<h4 id="8-5-1-bibliographies-in-articles">8.5.1 Bibliographies in articles</h4>

<p>The simplest way to typeset a bibliography is to type it directly into the article. For an
example, see the bibliography in the secondarticle.tex article (on page 275).
The following bibliography contains two examples, one short and one long, of
each of the seven most frequently used kinds of items.
You type the text of a bibliography in a thebibliography environment, as shown
in the following examples.
\begin{thebibliography}{99}
\bibitem{hA70}
Henry~H. Albert,
\emph{Free torsoids},
Current trends in lattice theory.
D.~Van Nostrand, 1970.
\bibitem{hA70a}</p>

<p>Henry~H. Albert,
\emph{Free torsoids},
Current trends in lattice theory
(G.\,H. Birnbaum, ed.).
vol.~7, D.~Van Nostrand, Princeton, January, 1970,
no translation available, pp.~173--215 (German).
\bibitem{sF90}
Soo-Key Foo,
\emph{Lattice Constructions},
Ph.D. thesis, University of Winnebago, 1990.
\bibitem{sF90a}
Soo-Key Foo,
\emph{Lattice Constructions},
Ph.D. thesis, University of Winnebago, Winnebago, MN,
December 1990, final revision not yet available.
\bibitem{gF86}
Grant~H. Foster,
\emph{Computational complexity in lattice theory},
tech. report, Carnegie Mellon University, 1986.
\bibitem{gF86a}
Grant~H. Foster,
\emph{Computational complexity in lattice theory},
Research Note 128A, Carnegie Mellon University,
Pittsburgh, PA, December, 1986,
research article in preparation.
\bibitem{pK69}
Peter Konig,
\emph{Composition of functions}.
Proceedings of the Conference on Universal Algebra
(Kingston, 1969).
\bibitem{pK69a}
Peter Konig,
\emph{Composition of functions}.
Proceedings of the Conference on Universal Algebra
(G.~H. Birnbaum, ed.).
vol.~7, Canadian Mathematical Society,
Queen’s Univ., Kingston, ON,
available from the Montreal office,
pp.~1--106 (English).
\bibitem{wL75}
William~A. Landau,
\emph{Representations of complete lattices},</p>

<p>Abstract: Notices Amer. Math. Soc. \textbf{18}, 937.
\bibitem{wL75a}
William~A. Landau,
\emph{Representations of complete lattices},
Abstract: Notices Amer. Math. Soc. \textbf{18}, 937,
December, 1975.
\bibitem{gM68}
George~A. Menuhin,
\emph{Universal algebra}.
D.~Van Nostrand, Princeton, 1968.
\bibitem{gM68a}
George~A. Menuhin,
\emph{Universal algebra}. 2nd ed.,
University Series in Higher Mathematics, vol.~58,
D.~Van Nostrand, Princeton,
March, 1968 (English), no Russian translation.
\bibitem{eM57}
Ernest~T. Moynahan,
\emph{On a problem of M. Stone},
Acta Math. Acad. Sci. Hungar.
\textbf{8}~(1957), 455--460.
\bibitem{eM57a}
Ernest~T. Moynahan,
\emph{On a problem of M. Stone},
Acta Math. Acad. Sci. Hungar.
\textbf{8}~(1957), 455--460
(English), Russian translation available.
\end{thebibliography}
Figure 8.2 shows a typeset version of this bibliography in the amsart document
class. By contrast, look at the same bibliography typeset in the legacy article document class in Figure 8.3.
You can find these entries in the document inbibl.tpl in the samples folder
(see page 5).
I use the convention that the label for a \bibitem consists of the initials of the
author and the year of publication. The first cited publication by Andrew B. Reich in
1987 would have the label aR87 and the second, aR87a. Of course, you can use any
label you choose, but such conventions make the items easier to reuse.
The thebibliography environment takes an argument—in the previous example, this argument is 99—telling LATEX that the widest reference number it must generate
is two digits wide. For fewer than 10 items, use 9 and for 100 or more items, use 999.</p>

<p>If the argument of \begin{thebibliography} is missing, you get the message
! LaTeX Error: Something’s wrong--perhaps
a missing \item.
Each bibliographic item is introduced with \bibitem, which is used the same as
the \label command. In your text, use \cite, in a similar way to \eqref—it provides
the number enclosed in brackets. So if the 13th bibliographic item is introduced with
\bibitem{eM57}
then
\cite{eM57}
refers to that item and typesets it as [13]. The bibliography of the article itself is automatically numbered by LATEX. It is up to the author to make sure that the listing of the
bibliographic items is in the proper order.
References
[1] Henry H. Albert, Free torsoids, Current trends in lattice theory. D. Van Nostrand, 1970.
[2] Henry H. Albert, Free torsoids, Current trends in lattice theory (G. H. Birnbaum, ed.). vol. 7,
D. Van Nostrand, Princeton, January, 1970, no translation available, pp. 173–215 (German).
[3] Soo-Key Foo, Lattice Constructions, Ph.D. thesis, University of Winnebago, 1990.
[4] Soo-Key Foo, Lattice Constructions, Ph.D. thesis, University of Winnebago, Winnebago,
MN, December 1990, final revision not yet available.
[5] Grant H. Foster, Computational complexity in lattice theory, tech. report, Carnegie Mellon
University, 1986.
[6] Grant H. Foster, Computational complexity in lattice theory, Research Note 128A, Carnegie
Mellon University, Pittsburgh, PA, December, 1986, research article in preparation.
[7] Peter Konig, Composition of functions. Proceedings of the Conference on Universal Algebra
(Kingston, 1969).
[8] Peter Konig, Composition of functions. Proceedings of the Conference on Universal Algebra
(G. H. Birnbaum, ed.). vol. 7, Canadian Mathematical Society, Queen’s Univ., Kingston, ON,
available from the Montreal office, pp. 1–106 (English).
[9] William A. Landau, Representations of complete lattices, Abstract: Notices Amer. Math.
Soc. 18, 937.
[10] William A. Landau, Representations of complete lattices, Abstract: Notices Amer. Math.
Soc. 18, 937, December, 1975.
[11] George A. Menuhin, Universal algebra. D. Van Nostrand, Princeton, 1968.
[12] George A. Menuhin, Universal algebra. 2nd ed., University Series in Higher Mathematics,
vol. 58, D. Van Nostrand, Princeton, March, 1968 (English), no Russian translation.
[13] Ernest T. Moynahan, On a problem of M. Stone, Acta Math. Acad. Sci. Hungar. 8 (1957),
455–460.
[14] Ernest T. Moynahan, On a problem of M. Stone, Acta Math. Acad. Sci. Hungar. 8 (1957),
455–460 (English), Russian translation available.
Figure 8.2: The most important bibliographic entry types.</p>

<p>Figure 8.3: Bibliography in the article document class.</p>

<p>Tip Do not leave spaces in a \cite command. For example, \cite{eM57␣} produces [?]
indicating an unknown reference.
You can use \cite to cite two or more items in the form
\cite{hA70,eM57}
which typesets as [1, 13]. There is also an optional argument for \cite to specify
additional information. For example,
\cite[pages~2--15]{eM57}
typesets as [13, pages 2–15].
If you wish to use labels rather than numbers to identify bibliographic items, then
you can specify those labels with an optional argument of the \bibitem command:
typed as
\bibitem[EM57]{eM57}
Ernest~T. Moynahan, \emph{On a problem of M. Stone},
Acta Math. Acad. Sci. Hungar.
\textbf{8} (1957), 455--460.
If this optional argument of \bibitem is used, then the \cite command produces
[EM57]. The argument of \begin{thebibliography} must be set wide enough to
allow for such labels.
Rule Label for a bibliographic item
A label cannot contain a comma or a space.
The examples I have used follow the formatting rules set by the AMS. Only titles
are italicized, and only volume numbers of journals are set in boldface. You also have
to watch the order in which the items are given, the punctuation, and the capitalization.
If an author appears repeatedly, use the \bysame command, which replaces the
author’s name with a long dash followed by a thin space. For example,
\bibitem{gF86}
Grant~H. Foster,
\emph{Computational complexity in lattice theory},
8.5 Back matter 251
tech. report, Carnegie Mellon University, 1986.
\bibitem{gF86a}
\bysame,
\emph{Computational complexity in lattice theory},
Research Note 128A, Carnegie Mellon University,
Pittsburgh PA, December 1986,
research article in preparation.
See the third page of secondarticle.pdf on page 275 for a typeset example.
Tip If you want a different title for your bibliography, say Bibliography, place the command
\renewcommand{\refname}{Bibliography}
anywhere before the thebibliography environment (see Section 14.1.7). If you use
a legacy document class or amsbook.cls, use the line
\renewcommand{\bibname}{Bibliography}
Tip You may have more than one thebibliography environment in a document. Because
each bibliography would number the entries from 1, you should provide labels as optional parameters of the \bibitem commands for cross-referencing.</p>

<h4 id="8-5-2-simple-indexes">8.5.2 Simple indexes</h4>

<p>Using the \label and \pageref commands (see Section 8.4.2), it is quite simple to
produce a small index in a theindex environment. At each point in the text that you
want to reference in the index, place a \label command. The corresponding entry in
the index typesets the page number with the \pageref command.
The \item, \subitem, and \subsubitem commands create an entry, subentry,
and subsubentry, respectively. If you need additional vertical spacing when the first
letter changes, for instance, between the “h” entries and the “i” entries, you can use the
\indexspace command. Here are some examples of index entries:
\begin{theindex}
\item Lakser, H., \pageref{Lakser}
\item Lattice, \pageref{Lattice_intro},
\textbf{\pageref{Lattice}}
\subitem distributive, \pageref{Lattice_distributive}
\subitem modular, \pageref{Lattice_distributive},</p>

<p>\textbf{\pageref{Lattice_distributive2}}
\item Linear subspace, \pageref{Linear_subspace}
\end{theindex}
And here is the typeset index:
For a larger index, you should use the MakeIndex application (see Chapter 16).</p>

<h3 id="8-6-visual-design">8.6 Visual design</h3>

<p>In this chapter, we have discussed the logical design of a LATEX document. The visual
design is largely left to the document class. But there is one small aspect of the visual
design we have to discuss, the page style.
To get a visual representation of the page style of your document, use layout
package of Kent McPherson. Load the package with
\usepackage{layout}
and place the \layout command somewhere in the body of your article. LATEX produces a graphical representation of the page layout. Figure 8.4 shows the page layout
for odd pages for the amsart document class with no options.
A typeset page has three parts, the running head or header, the body, and the
footer. As a rule, the document class takes care of the contents and formatting of all
three parts. For the running head and footer, however, you can override the page design
of the document class with the command
\pagestyle{style }
where the argument style is one of the following:
plain The running head is empty and the footer contains only the page number
empty Both the running head and the footer are blank
headings The running head contains the information provided by the document class
and the footer is empty
myheadings The running head contains the information provided by the commands
\markboth and \markright, the footer is empty</p>

<p>Figure 8.4: Page layout for the amsart document class.</p>

<p>The \markright command takes only one argument. The last \markright on a page
provides the running head information for that page. The \markboth command has
two arguments. The first provides the running head information for a left-hand page,
the second provides the running head information for a right-hand page. The AMS
document classes also have a \markleft command for the running head information
for a left-hand page.
The \thispagestyle command is the same as \pagestyle except that it affects
only the current page.
For instance, if the current page is a full-page graphic, you might want to issue the
command
\thispagestyle{empty}
The \maketitle command automatically issues a
\thispagestyle{plain}
command, so if you want to suppress the page number on the first page of a document,
you have to put
\thispagestyle{empty}
immediately after the \maketitle command.
The commands listed in Figure 8.4 are length commands (see Section 14.5.2) and
can be changed with the commands introduced in that section. As a rule, you do not
have to worry about these settings, they are chosen by the document class for you.
Sometimes, however, you have a job that requires such changes. I once had to submit
a research plan on a form with a 7.5 inch by 5 inch box. To be able to cut and paste the
typeset report, I had to produce the text with a \textwidth of 7 inches. If I simply set
\setlength{\textwidth}{7in}
the text would overflow the printed page and the last few characters of each line would
be missing. So I had to change the margins by starting the document with
\documentclass[12pt]{report}
\setlength{\textwidth}{7in}
\setlength{\oddsidemargin}{0pt}
All of Chapter 4 of The LATEX Companion, 2nd edition [56] deals with page layouts.
There you can find a description of the geometry package of Hideo Umeki, which
computes all the parameters from the ones you supply. Also you find there a discussion
of Piet van Oostrum’s excellent package, fancyhdr, which allows you to create your
own page style (see also [24]).
However, if you submit an article to a journal, do not change the type size, page
dimensions, headers. Use the document class and the article templates the journal provides (if any). This will make your submission easier for you and the journal. See also
Section 2.6.</p>

<h2 id="9-the-ams-article-document-class">9 The AMS article document class</h2>

<p>In this chapter, we discuss amsart, the main AMS document class for journal articles. The AMS book document class is discussed in Chapter 17.</p>

<p>在这一章中，我们将讨论amsart，即期刊文章的主要AMS文档类。AMS图书文档类将在第17章中讨论。</p>

<p>In Section 9.1, I argue that there are good reasons why you should write your articles for publication in amsart. Section 9.2 introduces the rules governing the top matter in the amsart document class. The amsart sample article secondarticle.tex is presented in Section 9.3. In Section 9.4, you are guided through the process for creating detailed templates.</p>

<p>在第9.1节中，我认为有充分的理由说明为什么您应该将拟发表文章以amsart书写。第9.2节介绍了管理amsart文档类中的首要事项的规则。第9.3节介绍了amsart示例文章secondarticle.tex。在章节9.4中，您将被引导完成创建详细模板的过程。</p>

<p>A document class is finely tuned by its options. In Section 9.5, we discuss the options of amsart. Section 9.6 briefly describes the various packages in the AMS distribution and their interdependencies.</p>

<p>文档类可以通过它的选项进行很好的调整。在第9.5节中，我们将讨论amsart的选项。第9.6节简要描述了AMS分发版中的各种包及其相互依赖关系。</p>

<h3 id="9-1-why-amsart">9.1 Why amsart?</h3>

<h4 id="9-1-1-submitting-an-article-to-the-ams">9.1.1 Submitting an article to the AMS</h4>

<p>You want to submit an article written with the amsart document class to the Proceedings of the American Mathematical Society.</p>

<p>For general information on the AMS journals, go to the AMS Web site
<a href="http://www.ams.org/">http://www.ams.org/</a>
and start discovering the wealth of relevant information for Author, in the Author
Resource Center.
To find the class file for the Proceedings at the <a href="http://www.ams.org/">http://www.ams.org/</a> site, type
in the search field: proc_amslatex. Click on Proceedings of the AMS, choose
the TeX package AMS-LaTeX, and finally, choose proc-l.cls to download it.
Now, in the preamble of your article, replace the line
\documentclass{amsart}
with
\documentclass{proc-l}
Typeset the article and you are done. Your article is formatted as it will appear in the
Proceedings.</p>

<h4 id="9-1-2-submitting-an-article-to-algebra-universalis">9.1.2 Submitting an article to Algebra Universalis</h4>

<p>There are many journals whose document classes are based on amsart. For instance,
<a href="http://www.algebrauniversalis.com">http://www.algebrauniversalis.com</a>
takes you to the home page of the journal Algebra Universalis. To find the document
class, click on Instructions for Authors and in Section D, click on au.cls. Now
in your article make the replacement
\documentclass{au}
and your article typesets in the format appropriate for this journal.</p>

<h4 id="9-1-3-submitting-to-other-journals">9.1.3 Submitting to other journals</h4>

<p>A large number of journals use document classes based on amsart. Not all are as
friendly as Algebra Universalis, but as a rule a small number of changes in the article
suffice.
All of them share the attribute that the top matter is given as the arguments of
several commands. In the introductory sample article, firstarticle.tex, on page 4,
there were only four, but in the sample article secondarticle.tex in Section 9.3,
there are nine—there could be more. Contrast this with the legacy article class (see
Section 10.1.1). As a result, this document class is able to shape the top matter as the
journal requires. Even if the names of some of these commands are different (e.g.,
affiliation for address), the principles you learn from the amsart document class
apply.</p>

<p>Many journals insist that you use their own document classes. For these, you may
have to add the AMS packages (see Section 9.6) to continue using the enhancements of
the AMS.
A shrinking number of journals use document classes incompatible with the AMS
packages. If you can, avoid these journals.</p>

<h4 id="9-1-4-submitting-to-conference-proceedings">9.1.4 Submitting to conference proceedings</h4>

<p>The AMS also has a document class for articles for book-form proceedings of meetings.
The differences in the rules for the amsart and amsproc document classes are minor,
for instance, amsproc does not access \date.</p>

<h3 id="9-2-the-top-matter">9.2 The top matter</h3>

<p>See the typeset top matter of the secondarticle.tex article on pages 272 and 275 for
a fairly representative example. As you may recall from Section 1.8, part of the author
information is moved to the end of the typeset article—see page 275.
Title page information is provided as arguments of several commands. For your
convenience, I divide them into three groups: information about the article, information
about the author, and AMS related information.
There is only one general rule.
Rule Top matter commands
All top matter commands are short.
This means that there can be no blank line (or \par command) in the argument of any
of these commands (see Section 3.3.3).</p>

<h4 id="9-2-1-article-information">9.2.1 Article information</h4>

<p>You have to supply five pieces of information about the article.
Rule Title
Command: \title
Separate lines with <br />
Optional argument: Short title for running head</p>

<p>Do not put a period at the end of a title
Do not use custom commands in the title
The typeset title is placed on the front page of the typeset article.
Many titles are too long to be typeset on a single line. If the way LATEX breaks
the title is not satisfactory, you can indicate where the title should be broken with the
\ command. Alternatively, you may nudge LATEX in the right direction with ~ (see
Section 3.4.3). For instance, the title:
The \texttt{amsart} document class
is broken by LATEX between document and class. So either add \:
The \texttt{amsart}\ document class
or replace document class with document~class:
The \texttt{amsart} document~class
The running head (see Section 8.6) is the title on odd-numbered pages, set in capital letters. If the title is more than a few words long, use an optional argument to specify
a short title for the running head. Do not use \ in the short title.
Example of a title:
\title{A construction of distributive lattices}
A title with a short title:
\title[Complete-simple distributive lattices]
{A construction of\ complete-simple
distributive lattices}
Note the AMS rules about short titles and the table of contents in Section 17.2.1.
Rule Translator
Command: \translator
Do not put a period at the end of the argument.
The typeset \translator is placed on the last page of the typeset article, before the address(es). There can be more than one translator. Each should be given as the argument
of a separate \translator command.
Example:
\translator{Harry~M. Goldstein}</p>

<p>Rule Dedication
Command: \dedicatory
Separate lines with <br />
The typeset dedication is placed under the author(s).
Example:
\dedicatory{To the memory of my esteemed
friend and teacher,\ Harry~M. Goldstein}
Rule Date
Command: \date
Example:
\date{January 22, 2015}
The typeset \date is placed on the front page of the typeset article as a footnote. Do not
use this when you submit an article; specify the submission date.
To suppress the date, use \date{} or omit the \date command entirely.</p>

<h4 id="9-2-2-author-information">9.2.2 Author information</h4>

<p>There are seven pieces of information about yourself.
Rule Author
Command: \author
Optional argument: Short form of the name for the running head
The typeset author is placed on the front page of the typeset article.
Examples:
\author{George~A. Menuhin}
With a short form of the name for the running head:
\author[G.\,A. Menuhin]{George~A. Menuhin}
Section 9.2.4 discusses how to specify multiple authors.</p>

<p>Rule Contributor
Command: \contrib
Optional argument: Describing the contribution
The typeset contributor’s name is placed on the front page of the typeset article.
Examples:
A contributor authoring an appendix:
\contrib[with an appendix by]{John Blaise}
If this appendix has two authors:
\contrib[with an appendix by]{J. Blaise}
\contrib[]{W. Brock}
This typesets (with author G. A. Menuhin) the author line as
G. A. MENUHIN, WITH AN APPENDIX BY J. BLAISE AND W. Brock
Contributors can have addresses, current addresses, etc., just like authors.
Rule Address
Command: \address
Separate lines with <br />
Optional argument: Name of author
The typeset address is placed at the end of the typeset article.
Example:
DEPARTMENT OF APPLIED MATHEMATICS, UNIVERSITY OF WINNEBAGO, WINNEBAGO, MN 53714
which is typed as
\address{Department of Applied Mathematics<br />
University of Winnebago<br />
Winnebago, MN 53714}
Notice that LATEX replaces the \ line separators with commas.</p>

<p>If there are several authors, you can use the author’s name as an optional argument
of \address to avoid ambiguity. See Example 4 in Section 9.2.5 (page 267) for a
complete example.
Rule Current address
Command: \curraddr
Separate lines with <br />
Optional argument: name of author
The typeset current address is placed at the end of the typeset article.
Example:
Current address: Department of Mathematics, University of York, Heslington, York,
England
is typed as
\curraddr{Department of Mathematics<br />
University of York<br />
Heslington, York, England}
If there are several authors, you can use the author’s name as an optional argument
of \curraddr to avoid ambiguity; for some examples, see Section 9.2.5.
Rule E-mail address
Command: \email
Optional argument: Name of author
The typeset e-mail address is placed at the end of the typeset article.
Example:
\email{gmen@ccw.uwinnebago.edu}
Tip Some e-mail addresses contain the special underscore character ( _ ). Recall (see
Section 3.4.4) that you have to type _ to get _.</p>

<p>Example:
\email{George_Gratzer@umanitoba.ca}
Tip Some older e-mail addresses contain the percent symbol (%); recall that you have to
type \% to get % (see Section 3.4.4).
Example:
\email{h1175moy\%ella@relay.eu.net}
Rule Web (home) page (URL)
Command: \urladdr
Optional argument: Name of author
The typeset Web (home) page is placed at the end of the typeset article.
Example:
\urladdr{<a href="http://www.maths.umanitoba.ca/homepages/gratzer/">http://www.maths.umanitoba.ca/homepages/gratzer/</a>}
Tip Many Internet addresses contain the tilde (˜), indicating the home directory of the user.
Type ˜ to get ˜ and not ~, as recommended in Section 3.4.4. $\sim$ is also unacceptable.
Example:
\urladdr{<a href="http://kahuna.math.hawaii.edu/~ralph/">http://kahuna.math.hawaii.edu/~ralph/</a>}
Rule Research support or other acknowledgments
Command: \thanks
Do not specify linebreaks.
Terminate the sentence with a period.</p>

<p>The typeset research support or other acknowledgments is placed on the front page of
the typeset article as an unmarked footnote.
Example:
\thanks{Supported in part by NSF grant PAL-90-2466.}
A \thanks{} command is ignored in typesetting.</p>

<h4 id="9-2-3-ams-information">9.2.3 AMS information</h4>

<p>The AMS requires that you supply two more pieces of information about the article.
The following are collected at the bottom of the first page as unmarked footnotes
along with the arguments of the \thanks and \date commands.
Rule AMS subject classifications
Command: \subjclass
Optional argument: 2010—the default is 1991.
amsart supplies the phrase 1991 Mathematics Subject Classification and a period
at the end of the subject classification—with the optional argument 2010, the phrase
is 2010 Mathematics Subject Classification
The argument should be either a five-character code or the phrase Primary: followed
by a five-character code, a semicolon, the phrase Secondary: and one or more additional five-character codes.
The typeset AMS subject classifications is placed at the bottom of the front page of the
typeset article as a footnote.
Examples:
\subjclass[2010]{06B10}
\subjclass[2010]{Primary: 06B10; Secondary: 06D05}
The current subject classification scheme for mathematics was adopted in 2010,
making the 1991 classification scheme obsolete. Thus, 2010 should be considered as a
compulsory optional argument—maybe the only one in all of LATEX.
The current subject classification scheme, MSC 2010, is available from the AMS
Web site
<a href="http://www.ams.org/">http://www.ams.org/</a>
Search for MSC. Or in the Author Resource Center click on MSC.</p>

<p>Rule Keywords
Command: \keywords
Do not indicate line breaks.
amsart supplies the phrase Key words and phrases. and a period at the end of the
list of keywords.
The typeset keywords are placed on the front page of the typeset article as a footnote.
Example:
\keywords{Complete lattice, distributive lattice,
complete congruence, congruence lattice}
Keywords are optional for many journals.
Further footnotes An additional \thanks command creates an unmarked footnote.
Examples:
\thanks{This is a preliminary version of this article,
prepared for the Second Annual Meeting of the
Statistical Association of Winnebago.}
\thanks{This article is in final form, and no version
of it will be submitted elsewhere.}</p>

<h4 id="9-2-4-multiple-authors">9.2.4 Multiple authors</h4>

<p>If an article has several authors, repeat the author information commands for each one.
Take care that the e-mail address follows the address.
If two authors share the same address, omit the \address command for the second
author, who can still have a different e-mail address and Web home page. An additional
\thanks command for the first author should precede any \thanks commands for
the second author. Since the footnotes are not marked, the argument of the \thanks
command for research support should contain a reference to the author:
\thanks{The research of the first author was supported
in part by NSF grant PAL-90-2466.}
\thanks{The research of the second author was supported by
the Hungarian National Foundation for Scientific
Research, under Grant No.~9901.}</p>

<p>Finally, if an article has more than two authors, supply the author information
for each author as usual, but explicitly specify the running heads with the \markleft
command:
\markleft{FIRST AUTHOR ET AL.}
where FIRST AUTHOR must be all capitals.
If there are multiple authors, sometimes it may not be clear whose address, current
address, e-mail address, or Web home page is being given. In such cases, give the name
of the authors as optional arguments for these commands. For example,
Email address, Ernest T. Moynahan: emoy@ccw.uwinnebago.edu.
is typed as
\email[Ernest~T. Moynahan]{emoy@ccw.uwinnebago.edu}
See also Example 4 in Section 9.2.5.</p>

<h4 id="9-2-5-examples">9.2.5 Examples</h4>

<p>The following examples show typical top matter commands and can be found in the
topmat.tpl file in the samples folder (see page 5).
Example 1 One author.
%Article information
\title[Complete-simple distributive lattices]
{A construction of complete-simple<br />
distributive lattices}
\date{\today}
%Author information
\author{George~A. Menuhin}
\address{Computer Science Department<br />
University of Winnebago<br />
Winnebago, MN 53714}
\email{gmen@ccw.uwinnebago.edu}
\urladdr{<a href="http://math.uwinnebago.edu/homepages/menuhin/">http://math.uwinnebago.edu/homepages/menuhin/</a>}
\thanks{This research was supported by
the NSF under grant number 23466.}
%AMS information
\keywords{Complete lattice, distributive lattice,
complete congruence, congruence lattice}
\subjclass[2010]{Primary: 06B10; Secondary: 06D05}</p>

<p>In the \title command, supplying the optional argument for the running head is the
rule, not the exception. The only required item is \title. If it is missing, you get the
strange message:
! Undefined control sequence.
<argument> \shorttitle
l.49 \maketitle
Example 2 Two authors but only the first has a Web home page. I only show the
author information section here. The other commands are the same as in Example 1.
%Author information
\author{George~A. Menuhin}
\address{Computer Science Department<br />
University of Winnebago<br />
Winnebago, MN 53714}
\email{gmen@ccw.uwinnebago.edu}
\urladdr{<a href="http://math.uwinnebago.edu/homepages/menuhin/">http://math.uwinnebago.edu/homepages/menuhin/</a>}
\thanks{The research of the first author was
supported by the NSF under grant number 23466.}
\author{Ernest~T. Moynahan}
\address{Mathematical Research Institute
of the Hungarian Academy of Sciences<br />
Budapest, P.O.B. 127, H-1364<br />
Hungary}
\email{h1175moy\%ella@relay.eu.net}
\thanks{The research of the second author
was supported by the Hungarian
National Foundation for Scientific Research,
under Grant No. 9901.}
Example 3 Two authors, same department. I only show the author information section
here. The other commands are identical to those in Example 1.
%Author information
\author{George~A. Menuhin}
\address{Computer Science Department<br />
University of Winnebago<br />
Winnebago, MN 53714}
\email[George~A. Menuhin]{gmen@ccw.uwinnebago.edu}
\urladdr[George~A. Menuhin]%
{<a href="http://math.uwinnebago.edu/homepages/menuhin/">http://math.uwinnebago.edu/homepages/menuhin/</a>}</p>

<p>\thanks{The research of the first author was
supported by the NSF under grant number~23466.}
\author{Ernest~T. Moynahan}
\email[Ernest~T. Moynahan]{emoy@ccw.uwinnebago.edu}
\thanks{The research of the second author was supported
by the Hungarian National Foundation for
Scientific Research, under Grant No. 9901.}
Note that the second author has no \address.
Example 4 Three authors, the first two from the same department, the second and
third with e-mail addresses and research support. I only show the author information
section. The other commands are unchanged. There are various ways of handling this
situation. This example shows one solution.
%Author information
\author{George~A. Menuhin}
\address[George~A. Menuhin and Ernest~T. Moynahan]
{Computer Science Department<br />
University of Winnebago<br />
Winnebago, MN 53714}
\email[George~A. Menuhin]{gmen@ccw.uwinnebago.edu}
\urladdr[George~A. Menuhin]%
{<a href="http://math.uwinnebago.edu/homepages/menuhin/">http://math.uwinnebago.edu/homepages/menuhin/</a>}
\thanks{The research of the first author was
supported by the NSF under grant number 23466.}
\author{Ernest~T. Moynahan}
\email[Ernest~T. Moynahan]{emoy@ccw.uwinnebago.edu}
\thanks{The research of the second author was supported
by the Hungarian National Foundation for
Scientific Research, under Grant No. 9901.}
\author{Ferenc~R. Richardson}
\address[Ferenc~R. Richardson]
{Department of Mathematics<br />
California United Colleges<br />
Frasco, CA 23714}
\email[Ferenc~R. Richardson]{frich@ccu.frasco.edu}
\thanks{The research of the third author was
supported by the NSF under grant number 23466.}
The most common mistake in the top matter is the misspelling of a command name;
for instance, \adress. LATEX sends the error message
! Undefined control sequence.
l.37 \adress
{Computer Science Department\</p>

<p>which tells you exactly what you mistyped. Similarly, if you drop a closing brace, as in
\email{menuhin@ccw.uwinnebago.edu
you are told clearly what went wrong. Because the top matter commands are short
(see Section 3.3.3), LATEX gives the message
Runaway argument?
{menuhin@ccw.uwinnebago.edu \thanks
{The research of th\ETC.
!File ended while scanning use of \email.
If you drop an opening brace,
\author George~A. Menuhin}
you get the message
! Too many }’s.
l.43 \author George~A. Menuhin}
If you enclose an optional argument in braces instead of brackets,
\title{Complete-simple distributive lattices}%
{A construction of complete-simple<br />
distributive lattices}
LATEX uses the short title as the title and the real title is typeset before the title of the
typeset article.</p>

<h4 id="9-2-6-abstract">9.2.6 Abstract</h4>

<p>As we discussed in Section 8.3.1, you type the abstract in an abstract environment,
which you place as the last item before the \maketitle command. The abstract should
be self-contained; do not include cross-references and do not cite from the bibliography.
Avoid custom commands.
If you place the abstract after the \maketitle command, LATEX typesets it wherever it happens to be and sends a warning.</p>

<h3 id="9-3-the-sample-article">9.3 The sample article</h3>

<p>secondarticle.tex is the source file for our more advanced sample article (in the
samples folder, see page 5) using the amsart document class. A simpler article,
firstarticle.tex, is presented in Part I (see Section 1.8).
Look up the full text of secondarticle.tex in the samples folder. On the next
few pages, we present some important parts—from a LATEX point of view—of the source
file and the full typeset file.</p>

<p>% Sample file: secondarticle.tex
\documentclass{amsart}
\usepackage{amssymb,latexsym}
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem<em>{main}{Main~Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}
\theoremstyle{definition}
\newtheorem{definition}{Definition}
\theoremstyle{remark}
\newtheorem</em>{notation}{Notation}
\numberwithin{equation}{section}
\begin{document}
\title[Complete-simple distributive lattices]
{A construction of complete-simple<br />
distributive lattices}
\author{George~A. Menuhin}
\address{Computer Science Department<br />
University of Winnebago<br />
Winnebago, MN 53714}
\email{menuhin@ccw.uwinnebago.edu}
\urladdr{<a href="http://math.uwinnebago.edu/menuhin/">http://math.uwinnebago.edu/menuhin/</a>}
\thanks{Research supported by the NSF under grant number
23466.}
\keywords{Complete lattice, distributive lattice,
complete congruence, congruence lattice}
\subjclass[2010]{Primary: 06B10; Secondary: 06D05}
\date{March 15, 2015}
\begin{abstract}
In this note we prove that there exist
\emph{complete-simple distributive lattices,}
that is, complete distributive lattices, in which
there are only two complete congruences.
\end{abstract}
\maketitle</p>

<p>\section{Introduction}\label{S:intro}
In this note we prove the following result:
\begin{main}
There exists an infinite complete distributive lattice~$K$
with only the two trivial complete congruence relations.
\end{main}
\section{The $D^{\langle 2 \rangle}$ construction}\label{S:Ds}
For the basic notation in lattice theory and universal algebra,
see Ferenc~R. Richardson~\cite{fR82} and
George~A. Menuhin~\cite{gM68}.
We start with some definitions:
\begin{definition}\label{D:prime}
Let $V$ be a complete lattice, and let $\mathfrak{p} = [u, v]$
...
\end{definition}
Now we prove the following result:
\begin{lemma}\label{L:ds}
Let $D$ be a complete distributive lattice satisfying
conditions \eqref{m-i} and~\eqref{j-i}. Then
...
\end{lemma}
\begin{proof}
By conditions~\eqref{m-i} and \eqref{j-i},
...
\end{proof}
\begin{corollary}\label{C:prime}
If $D$ is complete-prime, then so is $D^{\langle 2 \rangle}$.
\end{corollary}
The motivation for the following result comes
from Soo-Key Foo~\cite{sF90}.
\begin{lemma}\label{L:ccr}</p>

<p>Let $\Theta$ be a complete congruence relation of
...
\end{lemma}
\begin{proof}
Let $\Theta$ be a complete congruence relation of
$D^{\langle 2 \rangle}$ satisfying \eqref{E:rigid}.
Then $\Theta = \iota$.
\end{proof}
\section{The $\Pi^{<em>}$ construction}\label{S:P</em>}
The following construction is crucial to our proof
of the Main Theorem:
\begin{definition}\label{D:P<em>}
Let $D<em>{i}$, for $i \in I$, be complete distributive lattices
satisfying condition~\eqref{j-i}.
...
\end{definition}
\begin{notation}
If $i \in I$ and $d \in D</em>{i}^{-}$, then
...
\end{notation}
See also Ernest~T. Moynahan \cite{eM57a}. Next we verify:
\begin{theorem}\label{T:P</em>}
Let $D<em>{i}$, for $i \in I$, be complete distributive lattices
satisfying condition~\eqref{j-i}. Let $\Theta$ be a complete
...
\end{theorem}
\begin{proof}
...
\end{proof}
\begin{theorem}\label{T:P*a}
Let $D</em>{i}$ for $i \in I$ be complete distributive lattices
...
\end{theorem}</p>

<p>\begin{proof}
Let $\Theta$ be a complete congruence on
$\Pi^{<em>} ( D_{i} \mid i \in I )$. Let $i \in I$.
\end{proof}
The Main Theorem follows easily from \ref{T:P</em>} and \ref{T:P*a}.
\begin{thebibliography}{9}
\bibitem{sF90}
Soo-Key Foo, \emph{Lattice Constructions}, Ph.D. thesis,
University of Winnebago, Winnebago, MN, December, 1990.
\bibitem{gM68}
George~A. Menuhin, \emph{Universal algebra},
D.~van Nostrand, Princeton, 1968.
\bibitem{eM57}
Ernest~T. Moynahan, \emph{On a problem of M. Stone},
Acta Math. Acad. Sci. Hungar. \textbf{8} (1957), 455--460.
\bibitem{eM57a}
\bysame, \emph{Ideals and congruence relations in lattices}.
II, Magyar Tud. Akad. Mat. Fiz. Oszt. K\&quot;{o}zl.
\textbf{9} (1957), 417--434 (Hungarian).
\bibitem{fR82}
Ferenc~R. Richardson, \emph{General lattice theory},
Mir, Moscow, expanded and revised ed., 1982 (Russian).
\end{thebibliography}
\end{document}</p>

<h3 id="9-4-article-templates">9.4 Article templates</h3>

<p>In this section, we create a template to be used for amsart articles. Open it with a text
editor and save it under a different name. You can then start to write your new article
using the new file, without having to remember the details governing the preamble and
the top matter.
Create the template, which contains a customized preamble and top matter with
sample bibliographic items, in several steps.
Step 1 In your text editor, open the amsart.tpl document from the samples folder
(see page 5) and save it in your work subfolder as myams.tpl. Alternatively, type in
the lines as shown in this section.
The first few lines of the file are
% Sample file: amsart.tpl
%Preamble
\documentclass{amsart}
\usepackage{amssymb,latexsym}</p>

<p>Notice the use of commented out lines (lines that start with %) that have been added as
comments about the file.
Edit line 1 to read
% Template file: myams.tpl
The lines
\documentclass{amsart}
\usepackage{amssymb,latexsym}
specify the amsart document class and the use of the amssymb and latexsym packages
to gain access, by name, to all the symbols listed in Appendices A and B.
Step 2 After the \usepackage command, there are sets of proclamation definitions
corresponding to the examples in Section 4.4.2. Choose Option 5 for myams.tpl by
deleting all the lines related to the other options. You are left with the lines
%Theorems, corollaries, lemmas, and propositions, in the
%most emphatic (plain) style. All are numbered separately.
%There is a Main Theorem in the most emphatic (plain)
%style, unnumbered. There are definitions, in the less
%emphatic(definition) style. There are notations, in the
%least emphatic (remark) style, unnumbered.
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem<em>{main}{Main Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}
\theoremstyle{definition}
\newtheorem{definition}{Definition}
\theoremstyle{remark}
\newtheorem</em>{notation}{Notation}
Step 3 Two more choices are presented. You can have either one or two authors—for
more complex situations, see Section 9.2.4. For the myams.tpl template, choose one
author by deleting everything between
%Two authors</p>

<p>and
%End Two authors
You are left with
\begin{document}
%One author
\title[shorttitle]{titleline1<br />
titleline2}
\author{name}
\address{line1<br />
line2<br />
line3}
\email{name@address}
\urladdr{<a href="http://homepage">http://homepage</a>}
\thanks{thanks}
%End one author
\keywords{keywords}
\subjclass[2010]{Primary: subject; Secondary: subject}
\date{date}
\begin{abstract}
abstract
\end{abstract}
\maketitle
\begin{thebibliography}{99}
\end{thebibliography}
\end{document}
In the top matter, fill in your own personal information. For instance, I edited
\author{name}
to read
\author{George~Gr\&quot;{a}tzer}
I also edited \address, \email, \urladdr, and \thanks. After the editing, I had the
following:
%top matter
\title[shorttitle]{titleline1<br />
titleline2}</p>

<p>\author{George~Gr\&quot;{a}tzer} \address{University of Manitoba\ Department of Mathematics\ Winnipeg, MB R3T 2N2\ Canada} \email{gratzer@ms.umanitoba.ca} \urladdr{<a href="http://server.maths.umanitoba.ca/homepages/gratzer/">http://server.maths.umanitoba.ca/homepages/gratzer/</a>} \thanks{Research supported by the NSERC of Canada.}
\keywords{keywords} \subjclass[2010]{Primary: subject; Secondary: subject} \date{date}
\begin{abstract} abstract \end{abstract} \maketitle
\begin{thebibliography}{99}
\end{thebibliography} \end{document}
Since this template is meant to be used for all my future articles, I do not edit the lines that change from article to article (\title, \keywords, and so on). Remember that the short title is for running heads, the title shown at the top of every odd-numbered page other than the title page. If the title of your article is only one line long, delete the separation mark \ and the second line, except for the closing brace. If the full title of your article is short, delete [shorttitle]. Now save myams.tpl. I saved my template under the name ggamsart.tpl (in the samples folder, see page 5). You can also make an additional template with two authors to be used as a template for joint articles. Note that at the end of the template, just before the line \end{document}, there are two lines: \begin{thebibliography}{99}
\end{thebibliography} The argument of \begin{thebibliography} should be 9 if there are fewer than 10 references, 99 with 10–99 references, and so forth. We discuss how to format bibliographic items in 8.5.1. The templates for bibliographic items are listed after the \end{document} line. To make sure that you do not overwrite your template, I recommend that you make it read-only. How you do this depends on your computer’s operating system.</p>

<p>You should modify the template you create in this section to the template of the journal you submit your article to. In the samples folder, you ﬁnd the AMS template for the Proceedings of the AMS, called amsproc.tpl.</p>

<h3 id="9-5-options">9.5 Options</h3>

<p>The amsart document class supports a number of options, aﬀecting many attributes. For each attribute there is a defaultvalue that is used if a value is not speciﬁed.
Fontsize Options: 9pt 10pt default 11pt 12pt This option declares the default font size. You may want to use the 12pt option for proofreading:
\documentclass[12pt]{amsart}
Remember, however, that changing the font size changes the line breaks, so changing the 12pt option back to 10pt may require that you make some adjustments in the text (see Section 1.4).
Papersize
Options: letterpaper (8.5 inches by 11 inches) default legalpaper (8.5 inches by 14 inches) a4paper (210 mm by 297 mm)
Equationsandequationnumbers
A number of options deal with the placement of equations and equation numbers. Options: leqno default reqno By default, equation numbers are placed on the left, the default leqno option. The reqno option places the equation numbers on the right. Option: fleqn This option positions equations a ﬁxed distance from the left margin rather than centering them. The fleqn option is typically used in conjunction with the reqno option. Here is how an equation looks with the fleqn and reqno options:</p>

<p> π 0
sinxdx= 2 (1)
typed as
\begin{equation}\label{E:firstInt} \int_{0}^{\pi} \sin x \, dx = 2 \end{equation}
Options: tbtags centertags default The tbtags option uses top-or-bottomtags for a split environment, that is, it places the equation number level with the last line if numbers are on the right, or level with the ﬁrst line if the numbers are on the left: f =(x1x2x3x4x5x6)2 =(x1x2x3x4x5 + x1x3x4x5x6 +x1x2x4x5x6 + x1x2x3x5x6)2 =(x1x2x3x4 + x1x2x3x5 + x1x2x4x5 +x1x3x4x5)2
(1)
tbtags
The centertags option (the default) vertically centers the equation number in a split subsidiary math environment.
Limits
Options: intlimits nointlimits default
Theintlimitsoption places the subscripts and superscripts of integral symbols above andbelowtheintegralsymbolratherthanonthesideinadisplayedmathformula—with this option you can use the \nolimit command to disable the option for one integral. The nointlimits option positions the subscripts and superscripts of integral symbols on the side. Options: sumlimits default nosumlimits
The sumlimits option places the subscripts and superscripts of large operators, such as ∑, ∏, ∐, ⨂, ⨁, above and below the large operator in a displayed math formula. nosumlimits positions them on the side (see Table 5.7 and Section A.7.1). Options: namelimits default nonamelimits</p>

<p>The namelimitsoption places the subscripts and superscripts of operators with limits such as det, inf, lim, max, min, and so on, above and below the operator in a displayed math formula. nonamelimits positions them on the side (see Tables 5.4, 5.5, and Section A.7).
Two-sidedprinting Options: twoside default oneside The twoside option formats the output for printing on both sides of the paper. The alternative is the oneside option. This option inﬂuences running heads, the placement of page numbers, and so on.
Two-columnprinting Options: twocolumn onecolumn default The twocolumn option typesets the document in two columns.
Titlepage Options: titlepage notitlepage default The titlepage option creates a separate title page including the abstract. The notitlepage option splits the top matter between the ﬁrst and last pages of the typeset article.
Draft Options: draft final default The draft option prints a slug in the margin next to each line that is too wide. The final option does not. Note that this option is passed on to some packages, such as graphicx.
Fonts Option: noamsfonts With this option, the document class does not load the packages necessary for the use of the AMSFonts font set. Option: psamsfonts The psamsfonts option tells L ATEX to use the PostScript version of the AMSFonts set.</p>

<p>Nomath Option: nomath By default, amsart loads the amsmath package (which, in turn, loads three more math packages). If you want to use the title page and related features without the math features, you can use the nomath option.</p>

<h3 id="9-6-the-ams-packages">9.6 The AMS packages</h3>

<p>If you follow the recommendation of this book and begin each article with
\documentclass{amsart} \usepackage{amssymb,latexsym}
then you can safely ignore most of the information in this section. There are two minor exceptions, the packages amsxtra and upref. However, if you use a document class that does not load the same packages that amsart loads, then you have to load the packages needed for your work. Typically, you have
\usepackage{amsmath,amsfonts,amsthm} \usepackage{amssymb,latexsym}
as a minimum. The AMS distribution contains many packages that can be loaded together or by themselves.
Mathenhancements
amsmath The primary math enhancement package, which loads the four packages, amsgen, amsbsy, amsopn, and amstext.
amsbsy Provides two commands for the use of bold math symbols, \boldsymbol and \pmb (see Section 6.4.3).
amscd Commands for creating simple commutative diagrams (see Section 7.8).
amsgen An auxiliary package that is never invoked directly. It is loaded by all the AMS math packages (except for upref).
amsopn Provides operator names and also the\DeclareMathOperatorcommand for deﬁning new ones (see Section 5.6).</p>

<p>amstext Deﬁnes the \text command and redeﬁnes commands such as \textrm and \textbf to behave like the \text command (see Section 5.4.6).
amsxtra Provides the “sp” math accents (see Sections 5.7 and A.8) and loads the amsmath package.
upref Ensures that the \ref command always produces upright numbers.
AMSFonts
amsfonts Contains the basic commands needed to utilize the AMSFonts. It also deﬁnes the \mathfrak command which makes the Euler Fraktur math alphabet available (see Section 6.4.2). If you use the PostScript AMSFonts font set, you should load this package with the option
\usepackage[psamsfonts]{amsfonts}
In addition, if you want to use the 12pt document class option, then you must also load the exscale package (see Section 10.3):
\usepackage{exscale}
amssymb Deﬁnes the symbol names for amsfonts. It loads amsfonts.
eucal Replaces the calligraphic math alphabet with the Euler Script math alphabet (see Section 6.4.2). If you load it with the option mathscr, as in
\usepackage[mathscr]{eucal}
then both the \mathscr and the \mathcal commands are available, so you can have both  and 𝒞ℰ, typed as
$\mathcal{C}\mathcal{E}$ and $\mathscr{C}\mathscr{E}$
eufrak Deﬁnes the Euler Fraktur math alphabet (see Section 6.4.2).
Loadingpackages
amsart contains code to provide more ﬂexible formatting of proclamations and the proof environment (see Sections 4.4.2 and 4.5). By loading the amsthm package you can add this functionality to a non-AMS document class. The amsthm package loads the amsgen package. amsart loads four packages from the math enhancements group, the amsmath, amsbsy, amstext, amsopn, and amsgen packages, and the amsfonts package from the AMSFonts group.</p>

<p>A typical article using the legacy article document class (see Section 10.1) and the AMS enhancements would normally have
\documentclass{article} \usepackage{amsmath}% math enhancements \usepackage{amssymb,latexsym}% AMSFonts and LaTeX symbol names \usepackage{amsthm}% proclamations with style
and perhaps the following:
\usepackage{eucal}% Euler Script
Note that it is not critical for you to remember which packages load others. No harm is done if you type
\usepackage{amsmath} \usepackage{amsbsy}
The amsbsy package is loaded by the amsmath package, and the
\usepackage{amsbsy}
line is ignored by L ATEX. All the math related options of amsart (see Section 9.5) are also options of the amsmath package. So, for instance, if you want the equation numbers on the right, load amsmath with the reqno option:
\usepackage[reqno]{amsmath}
Multipleindices
The AMS distribution also contains the package amsmidx for creating multiple indices for amsbook. This package is discussed in Section 16.5.</p>

<h2 id="10-legacy-documents">10 Legacy documents</h2>

<p>Even though the AMS spent a few decades reﬁning the amsart document class, some of the legacy document classes of LATEX are still around. If you want to whip up a quick report or write up a research note, the legacy article or report document classes may serve you well.</p>

<p>尽管AMS花了几十年的时间来改进amsart文档类，但LATEX的一些遗留文档类仍然存在。如果您想快速生成一份报告或撰写一份研究报告，那么遗留的文章或报告文档类可能会很有用。</p>

<p>In this chapter, we discuss some of the legacy LATEX document classes. We take up the book document class in Chapter 17. We do not discuss the slides document class for preparing slides. It is now considered obsolete. Use instead the beamer class which we discuss in Chapter 12.</p>

<p>在本章中，我们将讨论一些遗留的LATEX文档类。我们将在第17章讨论书籍文档类。我们不讨论准备幻灯片的幻灯片文档类。它现在被认为是过时的。使用我们在第12章讨论的beamer类。</p>

<p>We conclude this chapter with a description of the components of the standard LATEX distribution.</p>

<p>我们以对标准LATEX版本的组成部分的描述来结束本章。</p>

<h3 id="10-1-articles-and-reports">10.1 Articles and reports</h3>

<p>Thearticleandreportdocument classes are very similar. There are two substantive diﬀerences to remember: 1. The report document class provides a separate page for the abstract by default, the article document class does not.</p>

<ol>
<li>The report document class has two additional sectioning commands, \chapter and \part. We discuss these commands in Section 17.1.1. In thesamplesfolder (see page 5) is the documentlegacy-article.tex, a variant of the introductory sample article,firstarticle.texof Chapter 1. The ﬁrst page of this article is shown typeset on the following page.</li>
</ol>

<h4 id="10-1-1-top-matter">10.1.1 Top matter</h4>

<p>For a detailed discussion of the top matter, refer to Chapter 8, in particular Sections 8.1 and 8.3—see also Figure 8.1. Here is the top matter of the legacy article: \title{A construction of complete-simple\ distributive lattices} \author{George~A. Menuhin\thanks{Research supported by the NSF under grant number 23466.}\ Computer Science Department\ Winnebago, MN 23714\ menuhin@cc.uwinnebago.edu} \date{March 15, 2010} \maketitle There are four commands for the top matter: \title, \author, \thanks, and \date.
Rule Topmatterforthearticledocumentclass 1. If necessary, break the title into separate lines with \. Do not put a \ at the end of the last line.
2. \thanks places a footnote at the bottom of the ﬁrst page. If it is not needed, omit it.
3. Separate the lines of the address with \. Do not put a \ at the end of the last line.
4. Multiple authors are separated by \and. 5. There is only one \author command, and it contains all the information—name, address, support—about alltheauthors. There is no \ command before the \and command.
6. If there is no \date command, L ATEX will insert the date on which you typeset the ﬁle (\date{\today} will produce the same result). If you do not want any date to appear, type \date{}. For a speciﬁc date, such as February 21, 2007, type \date{February 21, 2007}.
7. The \title command is the only required command. The others are optional.</p>

<p>A construction of complete-simple distributive lattices
George A. Menuhin∗ Computer Science Department Winnebago, MN 23714 menuhin@cc.uwinnebago.edu March 15, 2006
Abstract In this note, we prove that there exist complete-simple distributive lattices, that is, complete distributive lattices in which there are only two complete congruences.
1 Introduction
In this note, we prove the following result: Theorem 1 There exists an inﬁnite complete distributive lattice K with only the two trivial complete congruence relations.
2 The Π∗ construction The following construction is crucial in the proof of our Theorem: Deﬁnition 1 Let Di, fori ∈ I, be complete distributive lattices satisfying condition (J). Their Π∗ product is deﬁned as follows: Π∗(Di | i ∈ I) = Π(D− i | i ∈ I)+1; that is, Π∗(Di | i ∈ I) is Π(D− i | i ∈ I) with a new unit element. Notation 1 If i ∈ I and d ∈ D− i , then ...,0,...,d,...,0,... is the element of Π∗(Di | i ∈ I) whose i-th component is d and all the other components are 0. ∗Research supported by the NSF under grant number 23466.
1
Figure 10.1: The ﬁrst page of the legacy article typeset</p>

<p>As you see, the rules for the \date command here diﬀer slightly from the rules for the \date command in the amsart document class. However, the rules for the command \author here are verydiﬀerent from the rules for the \author command in the amsart document class. For two authors use the following template: \author{name1\thanks{support1}\ address1line1\ address1line2\ address1line3 \and name2\thanks{support2}\ address2line1\ address2line2\ address2line3} Note the use of the \and command, which separates the two authors. One more diﬀerence to keep in mind. Place the abstract after the \maketitle command.</p>

<h4 id="10-1-2-options">10.1.2 Options</h4>

<p>The article and report document classes have a similar range of options. These are listed below.
Fontsize Options: 10pt default 11pt 12pt Each option declares the speciﬁed size to be the default font size.
Papersize Options: letterpaper (8.5 inches by 11 inches) default legalpaper (8.5 inches by 14 inches) executivepaper (7.25 inches by 10.5 inches) a4paper (210 mm by 297 mm) a5paper (148 mm by 210 mm) b5paper (176 mm by 250 mm)
Draft Options: draft final default</p>

<p>The draft option places a slug in the margin next to each line that is too wide (see Section 1.4). The final option does not. Note that this option is passed on to some packages, such asgraphicx. To prevent this, invokegraphicxwith thefinaloption.
Landscapeprinting
Option: landscape The landscapeoption typesets the document in landscape format, swapping the width and height of the paper.
Two-sidedprinting Options: twoside oneside default The twoside option formats the output for printing on both sides of the paper.
Two-columnprinting Options: twocolumn onecolumn default The twocolumn option typesets the document in two-column format. This option has many problems. It is better to use the multicol package (see Section 10.3.1).
Titlepage Options: titlepage default for report notitlepage default for article Thetitlepageoption creates a separate title page and places the abstract on a separate page. The notitlepage option places the title and the abstract together on the ﬁrst page.
Equationsandequationnumbers Options: leqno reqno default
The leqno option places any equation number in the document on the left side and reqno places them on the right. Option: fleqn The fleqn option sets displayed formulas ﬂush left. This option is typically used in conjunction with the reqno option.</p>

<p>[1] Soo-Key Foo. Lattice Constructions. PhD thesis, University of Winnebago, Winnebago, MN, December 1990. [2] George A. Menuhin. Universal Algebra. D. Van Nostrand, Princeton, 1968. [3] Ernest T. Moynahan. Ideals and congruence relations in lattices. II. Magyar Tud. Akad. Mat. Fiz. Oszt. K¨ozl., 7:417–434, 1957. [4] Ernest T. Moynahan. On a problem of M. Acta Math. Acad. Sci. Hungar., 8:455–460, 1957. [5] Ferenc R. Richardson. General Lattice Theory. Mir, Moscow, expanded and revised edition, 1982. Stone.
Figure 10.2: The openbib option.
Bibliography Option: openbib The openbib option typesets the bibliography in a spread out “open” format (see Figure 10.2).
Combinations
Of course, these options can be combined with each other and are also used by most legacy document classes. For instance,
\documentclass[12pt,a4paper,twoside,twocolumn]{report}
produces a double-columned, two-sided report on A4 paper, the European standard, at the 12-point font size.</p>

<h3 id="10-2-letters">10.2 Letters</h3>

<p>The letter document class was developed for writing letters. One document can contain any number of letters, each in its own letter environment. In the following example (letter.tex in the samples folder) there is only a single letter: % Sample file: letter.tex \documentclass{letter}
\begin{document}</p>

<p>\address{George Gr\&quot;{a}tzer\ Department of Mathematics\ University of Manitoba\ Winnipeg, MB, R3T 2N2\ Canada} \signature{George Gr\&quot;{a}tzer} \date{}
\begin{letter}{Prof.~John Hurtig\ Computer Science Department\ University of Winnebago\ Winnebago, Minnesota 23714} \opening{Dear John,} Enclosed you will find the first draft of the five-year plan. \closing{Friendly greetings,} \cc{Carla May\ Barry Bold} \encl{Five-year plan} \ps{P.S. Remember our lunch meeting tomorrow! G.} \end{letter}
\end{document}
Figure 10.3 shows the typeset letter. The argument of theletterenvironment is the name and address of the recipient. It is a required argument and if it is omitted, you get a message such as
! Incomplete \iffalse; all text was ignored after line 21. <inserted text> \fi l.21 \end{letter}
As with all multiline arguments, the lines are separated by \. The arguments of some commands may apply to all the letter environments in the document. Such commands should be placed before the ﬁrst letter environment. In the example, \signature and \address are so placed. If the \date command is absent, today’s date is typeset. If you want no date, use an empty argument \date{}, as in the example. If you want all the letters in the same document to have the same date, the \date command should precede the ﬁrst letter environment.</p>

<p>George Gr¨atzer Department of Mathematics University of Manitoba Winnipeg, MB, R3T 2N2 Canada
Prof. John Hurtig Computer Science Department University of Winnebago Winnebago, Minnesota 23714
Dear John, Enclosed you will ﬁnd the ﬁrst draft of the ﬁve-year plan.
Friendly greetings,
George Gr¨atzer
cc: Carla May Barry Bold encl: Five-year plan P.S. Remember our lunch meeting tomorrow! G.
Figure 10.3: A sample letter.
Many of the options listed in Section 10.1.2 can also be invoked for the letter document class.</p>

<h3 id="10-3-the-latex-distribution">10.3 The LATEX distribution</h3>

<p>The L ATEX distribution contains a number of document classes and packages, most of which you have probably received with your TEX software. If you ﬁnd that you are missing some ﬁles, see Section D.1 on how to get them. The ﬁles of the L ATEX distribution on CTAN are grouped in the directory
/pub/tex/macros/latex
into four subdirectories.</p>

<p>base contains all the ﬁles necessary to install the system. As a rule, for every package, say, exscale, it contains two ﬁles, exscale.ins and exscale.dtx. Typesetting the ﬁrst gives you exscale.sty and typesetting the second produces the user guide and the commented source code. Since most L ATEX implementations install the content of the unpacked directory, this directory is not for the average user.
doc contains L ATEX documentation in PDF ﬁles and also the L ATEX News.
required contains the directoriesamslatex,babel,cyrillic,graphics,psnfss, tools.
unpacked contains the unpacked L ATEX distribution. Since most L ATEX implementations install this, you may never need it.
Of the packages and tex ﬁles included in the unpacked folder, the following should be of special interest to readers of this book.
latexsym Some symbol deﬁnitions (see the tables in Appendix A).
alltt The alltt environment, which is like the verbatim environment except that {} retain their usual meanings.
exscale Scaled versions of the math extension font.
makeidx Commands for producing indexes (see Chapter 16).
showidx A package to allow you to typeset the index entries in the margin of your typeset document (see Section 16.1).
nfssfont.tex Generates font tables for use with the \symbol command (see Section 3.4.4).
There is also the ﬁle fixltx2e.sty in the unpacked directory (and the corresponding fixltx2e.dtx and fixltx2e.ins in the base directory). This ﬁle contains ﬁxes to latex.ltx, the main L ATEX ﬁle, and also some new commands that did not make it into the current release. For instance, fixltx2e.sty of Dec. 2005 contains two important additions. It complements the \textsuperscript command (see Section B.4) with a\textsubscript command. More importantly, it introduces a very useful new command \TextOrMath. This command has two arguments and it typesets the ﬁrst in text and the second in math. For instance, if in newlattice.sty (see 14.3) you deﬁne
\newcommand{\ga}{\TextOrMath{$\alpha$\xspace}{\alpha}}</p>

<p>then you can type \ga in both test and math. Indeed. this is \ga in text, and this is $\ga - x^2$ in math
typesets as
this is 𝛼 in text, and this is 𝛼 − 𝑥2 in math
If you want to use these commands, include the line
\usepackage{fixltx2e} in the preamble. The last fixltx2e.sty is dated Sept. 29, 2014. The recent ﬁles contain only small bug ﬁxes. In the required folder there are some major software distributions related to L ATEX. amslatex Discussed in detail in this book, this directory contains the AMS math packages and document classes, while the font-related AMS ﬁles are in the directory
/tex-archive/fonts/amsfonts/latex/
babel For typesetting languages other than American English.
cyrillic For typesetting Cyrillic characters.
graphicx For the inclusion and transformation of graphics and for typesetting in color (see Section 8.4.3). This package requires that you have a suitable printer driver.
psnfss For typesetting with a wide range of PostScript fonts (see Section E.1).
tools A range of tools for managing document production discussed in the next section.
Each of these packages comes with its own documentation. They are also described in The L ATEX Companion, 2nd edition [56].</p>

<h4 id="10-3-1-tools">10.3.1 Tools</h4>

<p>Some of these packages are so important that they could well have been incorporated into L ATEX proper. Here is a brief listing.
afterpage Implements the \afterpage command. The commands speciﬁed in its argument are expanded after the current page is output.
array Containsextendedversionsofthearrayandtabularenvironmentswithmany extra features.</p>

<p>bm Gives access to bold math symbols.
calc Allows algebraic manipulation of lengths and counter values when specifying lengths and counters.
dcolumn Providesalignmentondecimalpointsintabularentries. Itrequiresthearray package.
delarray Adds “large delimiters” around arrays. It requires the array package.
enumerate Provides customized enumerate environments (see Sections 4.2.4 and also Sections 14.2.1, 14.3, 14.4).
fileerr Helps with missing ﬁles.
fontsmpl Produces a test ﬁle for displaying “font samples”.
ftnright Places all footnotes in the right-hand column of documents typeset with the twocolumn document class option.
hhline Provides control over horizontal lines in tables.
indentfirst Indents the ﬁrst paragraph of each section.
layout Shows the page layout deﬁned by a document class (see Section 8.6).
longtable Helps to create multipage tables. It does not require the array package, but it uses array’s extended features if both packages are loaded.
multicol Provides multicolumn typesetting with some advanced features.
rawfonts Preloads fonts using the old font names of L ATEX 2.09.
showkeys Selectively prints the labels used by \label, \ref, \cite, and so forth, in the margin (see Section 8.4.2).
somedefs Elective handling of package options. It is used by the rawfonts package.
tabularx Deﬁnes a variant of the tabular environment where all the columns are the same width. It requires the array package.
theorem Allows the deﬁnition of proclamations in ﬂexible formats. The AMS variant, the amsthm package, is discussed in Section 4.4.2.
trace Tracing help for macro writers.
varioref Provides smart as well as multilingual handling of page references.
verbatim Extendstheverbatimenvironmentandprovidesthecommentenvironment (see Sections 3.5.1 and 4.8).</p>

<p>xr Creates cross-references among documents.
xspace Provides a “smart space” command that helps you avoid the common mistake of missing space after commands. It is mainly used in commands that expand to some text (see Section 14.1.1).
All of these packages are discussed in The L ATEX Companion, 2nd edition [56].</p>

<h1 id="iv-pdf-documents">IV PDF Documents</h1>

<h2 id="11-the-pdf-file-format">11 The PDF file format</h2>

<h3 id="11-1-postscript-and-pdf">11.1 PostScript and PDF</h3>

<h4 id="11-1-1-postscript">11.1.1 PostScript</h4>

<p>PostScript is the preeminent platform and device independent page-description and programming language, introduced by Adobe Systems Inc. in 1982. It describes the placement and shapes of all the elements in the document, including the fonts. Documents placed on the Web in PostScript format can be downloaded to any computer and print identically on all PostScript printers. Until the appearance of PDF, PostScript was the format of choice for sharing LATEX articles with diagrams or complex forms.</p>

<p>PostScript是卓越的独立于平台和设备的页面描述和编程语言，由Adobe Systems Inc.于1982年引入。在1982年。它描述文档中所有元素的位置和形状，包括字体。以PostScript格式放在Web上的文档可以下载到任何计算机，并在所有PostScript打印机上以相同的方式打印。在PDF出现之前，PostScript是使用图表或复杂表单共享LATEX文章的首选格式。</p>

<p>There are a number of disadvantages to using PostScript ﬁles on the Web:</p>

<ul>
<li>The ﬁles tend to be very large.</li>
<li>They cannot be viewed until the whole ﬁle has been downloaded.</li>
<li>If a PostScript ﬁle does not include a particular font used in the document and you do not have that font installed on your computer, then another font—usually Courier— is substituted causing graphically unacceptable rendering.</li>
</ul>

<p>在Web上使用PostScript文件有很多缺点：</p>

<ul>
<li>文件往往非常大。</li>
<li>在下载完整个文件之前，不能查看它们。</li>
<li>如果PostScript文件不包含文档中使用的特定字体，并且您的计算机上没有安装该字体，则会替换另一个字体(通常是Courier)，从而导致图形化的不可接受的呈现。</li>
</ul>

<h4 id="11-1-2-pdf">11.1.2 PDF</h4>

<p>All of these concerns have been addressed by Adobe’s Portable Document Format (PDF). See Adobe Systems’ PDF Reference, Version 1.7, 1st edition [2] for a complete description of this ﬁle format. PDF is based on the PostScript language, with some important diﬀerences:</p>

<p>Adobe的可移植文档格式(PDF)解决了所有这些问题。有关此文件格式的完整描述，请参阅adobesystems的PDF参考文档，版本1.7，第一版[2]。PDF是基于PostScript语言，有一些重要的区别：</p>

<ul>
<li>PDF is much more concise than PostScript. A PDF ﬁle is normally about 10 percent of the size of the corresponding PostScript ﬁle.</li>
<li>Missing fonts are usually substituted by fonts with the same metrics, so that the size of the substituted text is the same as that of the original. In particular, there are no incorrect line breaks caused by the substitution. PDF ﬁles allow partial inclusion of fonts. As a result, it is much easier to obtain permission to include proprietary fonts in PDF documents.</li>
<li>PDF ﬁles can be downloaded and viewed in a Web browser one page at a time, without having to wait for the whole ﬁle to download ﬁrst.</li>
<li>Most LATEX implementations produce PDF ﬁles.</li>
<li>PDF ﬁles and Adobe Acrobat Professional oﬀer many nice features, including:</li>
<li>Eﬃcient navigational tools</li>
<li>Searching and indexing capability for documents and even for collections of documents</li>
<li>Bookmarks</li>
<li>Thumbnails of pages</li>
<li>Limited editing</li>
<li>Annotations (notes, text, and voice) and markups</li>
<li>Hyperlinks to the same document or to another document or Web site (see Section 11.1.3)</li>
<li>The inclusion of programs, particularly JavaScript</li>
<li>The creation of interactive features</li>

<li><p>The inclusion of multimedia objects such as video and sound ﬁles</p></li>

<li><p>PDF比PostScript更简洁。PDF文件通常是相应PostScript文件大小的10%左右。</p></li>

<li><p>缺少的字体通常由具有相同度量的字体替换，因此替换文本的大小与原始文本的大小相同。特别是，没有因为替换而导致的错误换行。PDF文件允许部分包含字体。因此，获得在PDF文档中包含专有字体的许可要容易得多。</p></li>

<li><p>可以下载PDF文件，并在Web浏览器中一次查看一个页面，而不必等待整个文件先下载。</p></li>

<li><p>大多数LATEX实现都生成PDF文件。</p></li>
</ul>

<p>PDF ﬁles and Adobe Acrobat Professional oﬀer many nice features, including:</p>

<ul>
<li>Eﬃcient navigational tools</li>
<li>Searching and indexing capability for documents and even for collections of documents</li>
<li>Bookmarks</li>
<li>Thumbnails of pages</li>
<li>Limited editing</li>
<li>Annotations (notes, text, and voice) and markups</li>
<li>Hyperlinks to the same document or to another document or Web site (see Section 11.1.3)</li>
<li>The inclusion of programs, particularly JavaScript</li>
<li>The creation of interactive features</li>
<li>The inclusion of multimedia objects such as video and sound ﬁles</li>
</ul>

<p>PDF文件和Adobe Acrobat Professional提供了许多出色的功能，包括：</p>

<ul>
<li>高效的导航工具</li>
<li>搜索和索引文档的能力，甚至是文档的集合</li>
<li>书签</li>
<li>页面缩略图</li>
<li>有限的编辑</li>
<li>注释(注释、文本和语音)和标记</li>
<li>指向同一文档或另一个文档或网站的超链接(参见11.1.3节)</li>
<li>包括程序，特别是JavaScript</li>
<li>交互式特性的创建</li>
<li>包括多媒体对象，如视频和声音文件</li>
</ul>

<p>PDF ﬁles can also be used to make legacy documents available on the Internet. For instance, if you go to my home page,
<a href="http://www.maths.umanitoba.ca/homepages/gratzer">http://www.maths.umanitoba.ca/homepages/gratzer</a>
and click on Mathematical articles, then 1980-89, in the bottom frame you will ﬁnd entry 102, which links to a PDF ﬁle. I created that PDF ﬁle by scanning the pages of the original article, converting them to PDF ﬁles, and ﬁnally stringing them together into a single document. The scanned pages totalled 32 MB, the PDF ﬁle is 320 KB. The printed version of the PDF ﬁle is somewhat lower in quality than the original, but it is still quite satisfactory. See my article [33] on some practical pointers about scanning and PDF ﬁles.</p>

<p>PDF文件还可以用于使遗留文档在Internet上可用。例如，如果你访问我的主页
<a href="http://www.maths.umanitoba.ca/homepages/gratzer/">http://www.maths.umanitoba.ca/homepages/gratzer/</a>
点击数学文章，然后是1980-89，在底部的框架中，你会发现102条，它链接到一个PDF文件。我通过扫描原始文章的页面，将它们转换成PDF文件，最后将它们串成一个文档，从而创建了单个PDF文件。扫描的页面总计32 MB, PDF文件为320 KB。PDF文件的打印版本在质量上比原始版本稍低一些，但仍然很令人满意。有关扫描和PDF文件的一些实用指针，请参阅我的文章[33]。</p>

<h4 id="11-1-3-hyperlinks">11.1.3 Hyperlinks</h4>

<p>With Adobe Acrobat Professional you can place hyperlinks in PDF documents. Clicking on a hyperlink, you jump to another location in the same document, to an electronic document, or to a Website. For instance, in the table of contents, you can put a hyperlink to Chapter 3, so that clicking on it takes you to Chapter 3. Adobe Acrobat’s help system has ample information on how to set up links.</p>

<p>使用Adobe Acrobat Professional，您可以在PDF文档中放置超链接。点击一个超链接，你会跳转到同一文档中的另一个位置，一个电子文档，或者一个网站。例如，在目录中，您可以放置一个指向第3章的超链接，这样单击它就会转到第3章。Adobe Acrobat的帮助系统有关于如何设置链接的丰富信息。</p>

<h3 id="11-2-hyperlinks-for-latex">11.2 Hyperlinks for LATEX</h3>

<p>It is tedious to set hyperlinks one at a time in your PDF ﬁle. Would it not be nice if hyperlinks corresponding to cross-references were set automatically? For instance, clicking on Lemma 6 in
This follows from Lemma 6 and the relevant deﬁnitions.
would cause the display to jump to the page containing Lemma 6. Sebastian Rahtz’s hyperref package (maintained now by Heiko Oberdiek) does just that.</p>

<h4 id="11-2-1-using-hyperref">11.2.1 Using hyperref</h4>

<p>You invoke thehyperref package with the command
\usepackage{hyperref} as thelast \usepackage line in the preamble of your L ATEX document. If this does not do the job, try this format, specifying the printer driver:
\usepackage[driver]{hyperref}
The driver is one of hypertex, dvips, dvipsone, ps2pdf, tex4ht, pdftex, dvipdf, dvipdfm, dvipdfmx, dviwindo, vtex. If none of these work, you are out of luck. Figure 11.1 shows a page fragment from a mathematical article with hyperlinks to some sections, theorems, and citations automatically created by hypertex.</p>

<p>Figure 11.1: The hyperref package with the \autoref command.
See Section 11.2.4 for the autoref command. To see how hypertex works, look up the secondarticle-ref.tex article in the samples folder. It is the sample article secondarticle.tex enhanced with the hyperref package. The article uses the hyperref options
pagebackref,colorlinks,bookmarks=true
See Section 11.2.2 for the pagebackref and colorlinks options. The third option, bookmarks=true, is discussed in Section 11.2.3. Copy secondarticle-ref.tex into the work folder and typeset it twice. The PDF ﬁle created for you has some of the hyperref features, but not all. Open the pdf ﬁle with Adobe Reader. Look at the left pane. Bookmarks is a table of contents of the article, with links to the named sections. Pages is a thumbnail sketches of the pages, with links to them.</p>

<h4 id="11-2-2-backref-and-colorlinks">11.2.2 backref and colorlinks</h4>

<p>A useful addition to hyperref is David Carlisle’s backref package. It is invoked as an option of hyperref:
\usepackage[backref]{hyperref}
The items in your bibliography will be followed by a list of sections in which the bibliographic reference is cited. Each number printed after the cited reference becomes a hyperlink to the relevant section. Alternatively, you can use thepagebackrefoption, which produces a list of page numbers. Figure 11.2 shows a page fragment from a bibliography displaying lists of section numbers. backref can be used to check if all items in the bibliography have actually been referenced in the article. Any reference that has not been cited does not have a page listed. Another popular option is colorlinks, which colors the text of the links instead of underlining them.</p>

<p>Figure 11.2: The hyperref package with the backref option.
Tip Make sure that in the bibliography any two items are separated by a blank line and the last item is separated from\end{bibliography}by a blank line. Otherwise, you may get very confusing error messages with \backref. IfyourbibliographyiscreatedbyBIBTEX, seeChapter15, ithastheseblank. Don’t edit them out!</p>

<h4 id="11-2-3-bookmarks">11.2.3 Bookmarks</h4>

<p>An important navigational feature of Acrobat is the ability to set and use bookmarks. If you choose View&gt;Navigation Tabs&gt;Bookmarks in Adobe Reader, the navigation pane opens up showing the bookmarks. Thehyperrefpackage optionbookmarks=truemakes bookmarks from the sectioning commands of the L ATEX document, thereby producing a table of contents even if the document had none. You can invoke all these options together:
\usepackage[backref,colorlinks,bookmarks=true]{hyperref}
Typesetting your L ATEX document with the bookmarks=true option produces an out ﬁle, which contains entries such as
\BOOKMARK [1][-]{section.1}{1. Introduction}{} \BOOKMARK [1][-]{section*.2}{References}{}
Once you have produced the ﬁnal version of your document, you should edit this ﬁle to make sure that it contains no L ATEX code. Math formulas in titles create havoc. So do accented characters. hyperref does its best to convert internal encodings for accented characters to the encoding used by Acrobat Reader, but it is still best to avoid them. Once this ﬁle has been edited, add the line
\let\WriteBookmarks\relax
at the start of the ﬁle to prevent it from being overwritten.</p>

<h4 id="11-2-4-additional-commands">11.2.4 Additional commands</h4>

<p>The hyperref package has dozens of commands and parameters, but we will discuss only four more commands.
Preventinglinks
If you do not want a \ref or \pageref command to appear as a link, you can use their <em>-ed forms, \ref</em> and \pageref*.
Longlinks
An often heard complaint is that in the link Theorem 6, only the 6 can be clicked to activate the link, and it is too short. hyperref provides the \autoref command to help out. Instead of
Theorem~\ref{T:new}
you can simply type
\autoref{T:new} and hyperref will provide the word Theorem so that the link becomes Theorem 6. The names supported by the \autoref command are listed in Table 11.1. For my own use, I redeﬁne:
\renewcommand{\chaptername}{Chapter} \renewcommand{\sectionname}{Section} \renewcommand{\subsectionname}{Section} \renewcommand{\subsubsectionname}{Section} Externallinks
External links can be links to websites or other ﬁles that are located on the Internet. Use the
\href{address}{text} command to typeset text and make it into a link to the Web address (URL). For instance, in your references, you may have
Robert Miner and Jeff Schaefer, \emph{Gentle intoduction to MathML.} \href{<a href="http://www.webeq.com/mathml/gitmml/">http://www.webeq.com/mathml/gitmml/</a>} {<a href="http://www.webeq.com/mathml/gitmml/">http://www.webeq.com/mathml/gitmml/</a>}
Then the last line of the address becomes a link and clicking on it takes you to the Web site. As an even fancier example, note the top matter command \urladdr (see Section 9.2.2) insecondarticle-ref.tex:</p>

<p>Command Meaning \figurename Figure \tablename Table \partname Part \appendixname Appendix \equationname Equation \Itemname item \chaptername chapter \sectionname section \subsectionname subsection \subsubsectionname subsubsection \paragraphname paragraph \Hfootnotename footnote \AMSname Equation \theoremname Theorem
Table 11.1: Redeﬁnable names supported by \autoref.
\urladdr{\href{<a href="http://math.uwinnebago.edu/menuhin/">http://math.uwinnebago.edu/menuhin/</a>} <a href="http://math.uwinnebago.edu/homepages/menuhin/">http://math.uwinnebago.edu/homepages/menuhin/</a>}
Then, as part of Menuhin’s address, you will ﬁnd
<a href="http://math.uwinnebago.edu/menuhin/">http://math.uwinnebago.edu/menuhin/</a>
Now clicking on the Web address will link to his Web page. hyperref, of course, oﬀers a lot more than I have presented here. For more detail, see the user manual and The L ATEX WebCompanion [18].</p>

<h2 id="12-presentations">12 Presentations</h2>

<p>In Section 1.11, we describe how a presentation is a PDF ﬁle that you open with Adobe Reader. You can put it in full screen mode1 (View&gt;Full screen), and then project the presentation one page at a time by pressing the space bar or the arrow keys.</p>

<p>在第1.11节中，我们将描述如何使用Adobe Reader打开演示文稿。您可以将其置于全屏模式1(查看&gt;全屏)，然后通过按空格键或箭头键一次投射一个页面。</p>

<p>Remember overhead transparencies? If we want to see half of what is on the transparency, we cover up the bottom part so that only the top part is projected. This way we have control over what the audience sees and when. We sometimes used overlays: placing another transparency on top of the projected one to modify it by adding text or graphics.</p>

<p>还记得透明胶片吗？如果我们想要看到透明胶片的一半，我们就把下面的部分盖起来，这样只有上面的部分是投影的。这样我们就可以控制观众看到的内容和时间。我们有时使用叠加：将另一个透明物体置于投影物体之上，通过添加文本或图形来修改它。</p>

<p>In this chapter, we discuss Till Tantau’s beamer package in more detail to help you prepare presentations with overlays and with stunning visual eﬀects. beamer relies on other packages such as the hyperref package (see Section 11.2) to establish links, Till Tantau’s Portable Graphics Format package for creating graphics, Uwe Kern’s xcolor package for coloring, the AMS packages for formatting math formulas and deﬁning declarations, and some others.</p>

<p>在这一章中，我们将更详细地讨论Till Tantau的beamer包，以帮助您准备演示与覆盖和惊人的视觉效果。beamer依赖于其他包，如hyperref包(参见第11.2节)来建立链接，Till Tantau的可移植图形格式包用于创建图形，Uwe Kern的xcolor包用于着色，AMS包用于格式化数学公式和定义声明，以及其他一些包。</p>

<p>The documentation for these packages runs to about a thousand pages. The good news is that you can use beamer “out of the box”. You only have to learn about 20 commands—this is more than the four new command we had to learn in Section 1.11 but still an easily manageable task.</p>

<p>这些软件包的文档大约有一千页。好消息是你可以使用beamer的“开箱即用”。你只需要学习20条命令——这比我们在1.11节中学习的4条命令要多，但仍然是一个容易管理的任务。</p>

<p>So we set ourselves in this chapter a modest goal, using beamer “out of the box”. It is amazing how much you can achieve with a small investment of your time. Chances are beamer is already installed for you. If not, consult Section D.1 on how to get it.</p>

<p>所以我们在这一章给自己设定了一个适中的目标，使用beamer的“开箱即用”。你会惊奇地发现，你可以用你的时间做一点小小的投资。有可能你已经安装了beamer。如果没有，请咨询D.1部分关于如何获得它。</p>

<h3 id="12-1-quick-and-dirty-beamer">12.1 Quick and dirty beamer</h3>

<p>We convert the article firstarticle.tex (in the samples folder) to a beamer presentation. We will remove some commands that are appropriate for an article but not for a presentation and add some commands that are speciﬁc to presentations. This will not produce a very good presentation. Nevertheless, the conversion is a really quick introduction to some basic beamer concepts.</p>

<p>我们首先将文章firstarticle.tex(在samples文件夹中)转换为一个beamer表示。我们将删除一些适合于文章而不适合演示文稿的命令，并添加一些特定于演示文稿的命令。这不会产生一个很好的演示。然而，转换是对一些基本的扩眼器概念的一个真正快速介绍。</p>

<h4 id="12-1-1-first-changes">12.1.1 First changes</h4>

<p>Open firstarticle.tex, save it asquickbeamer.tex in the work folder. The converted tex version and the presentation quickbeamer.pdf are both in thesamples folder. Make the following changes in the preamble and top matter:
1. Change the ﬁrst line to % Introductory beamer presentation: quickbeamer.tex
2. Change the documentclass to beamer.
3. Delete the six \usepackage and \newtheorem lines—beamer loads the necessary packages and deﬁnes these declarations.
4. Change the \address to \institute—this is thebeamer command for address.
5. Delete the abstract environment—this is not needed for the presentation.
Here is the new version of the preamble and top matter.
%Introductory beamer presentation: quickbeamer.tex \documentclass{beamer} \begin{document} \title{A construction of complete-simple\ distributive lattices} \author{George~A. Menuhin} \institute{Computer Science Department\ University of Winnebago\ Winnebago, MN 53714}</p>

<p>\date{March 15, 2015}
\maketitle</p>

<h4 id="12-1-2-changes-in-the-body">12.1.2 Changes in the body</h4>

<ol>
<li>Delete the notation and proof environments, but not the contents, that is, delete the four lines
\begin{notation} \end{notation} \begin{proof} \end{proof} Both environments could theoretically stay, but the notation environment is not needed since in the next step we put Notation in the frame title. The proof environment (see Section 3.3.2) is not suitable for presentations because an environment can only be used within a frame, and proofs are typically longer. 2. Cut the presentation into frames (pages, transparencies, foils) with the frame environments. After each \begin{frame} we put a \frametitle command. The argument of the command is the “title” for the frame, displayed prominently at the top of the display. It would be tedious to give you precise instructions on how to do this, instead refer to the quickbeamer.tex document (in the samples folder) for all the frame environments and \frametitle commands we added.</li>
<li>Cut out the figure environment, except for the line \centering\includegraphics{products}
which should be moved to follow the
\frametitle{Illustrating the construction} line and accordingly delete (see Figure~\ref{Fi:products}).
Now copy over the illustration products from the samples folder to the work folder and typeset. That’s it, enjoy your ﬁrst presentation.</li>
</ol>

<h4 id="12-1-3-making-things-prettier">12.1.3 Making things prettier</h4>

<p>Now you make some small changes to quickbeamer.tex to utilize beamer’s power for wonderful eﬀects. Changes 1 and 3 are quite dramatic. Save quickbeamer.tex with the name quickbeamer1.tex in the work folder. The edited version,quickbeamer1.tex, is in thesamples folder along with the presentation quickbeamer1.pdf.</p>

<ol>
<li>Add \usetheme{Berkeley} after the documentclass line.</li>
<li>Change \maketitle to
\begin{frame} \titlepage \end{frame}
Make sure that the last (sub)section is followed by a frame, otherwise it will be missing from the table of contents.</li>
<li>Add this frame after the titlepage frame:
\begin{frame} \frametitle{Outline} \tableofcontents[pausesections] \end{frame}
This creates a table of contents frame, with the section titles appearing one at a time.</li>
<li>Replaceallinstancesof{equation}by{equation*}. Inapresentationareference to another frame is not recommended so equations should not be numbered. You might as well delete all the \label commands since these are not needed either.</li>
<li>In the second to last frame there are two references to equation numbers. Replace the text the congruence \eqref{E:cong2} with the congruence, and also replace \eqref{E:comp} with the penultimate equation, or similar.</li>
<li>Change the bibliographic reference to See also Ernest T. Moynahan, 1957.
Turning quickbeamer1.tex into a PDF ﬁle will get you a much prettier presentation. The ﬁrst four pages of the new presentation are displayed in Figures 12.1 and 12.2—unfortunately, without the pretty colors.</li>
</ol>

<h4 id="12-1-4-adjusting-the-navigation">12.1.4 Adjusting the navigation</h4>

<p>Looking at Figures 12.1 and 12.2, we see that the Berkeley theme turns the sidebar into a navigation device and the section titles produce the table of contents (the Outline frame). Remember to typeset a few times! But a number of problems come to light.
1. The title of the presentation is too long for the sidebar, so is the title of the second section.
2. There is no need to repeat the author’s name in the sidebar.
3. It was natural for the article firstarticle.tex to have only two sections. But sections play a diﬀerent role in a beamer presentation, they are navigation tools.</p>

<p>Figure 12.1: quickbeamer1 presentation, pages 1 and 2.</p>

<p>Figure 12.2: quickbeamer1 presentation, pages 3 and 4.</p>

<p>The sidebar lists all the sections. It also highlights the section we are in. Moreover, by clicking on the name of a section, the presentation jumps there. To correct these deﬁciencies, save the ﬁlequickbeamer1.texasquickbeamer2.tex in the work folder. The edited version is in the samples folder along with the PDF ﬁle. 1. Change the \title command to \title[Complete-simple distributive lattices]% {A construction of complete-simple\ distributive lattices} and the second \section command to \section[Construction]{The $\Pi^{*}$ construction}
The bracketed parts are the short versions used in the sidebar.
2. Change the \author command to \author[]{George~A. Menuhin} The short version of the author command is blank, so the author’s name will not be displayed in the sidebar.
3. Add the command \section[Second result]{The second result}
before the frame of the same title and \section{Proof}
before the proof. We even add \section{References}
before the frame of the same name. Figure 12.3 shows page 7 of the quickbeamer2 presentation—this corresponds to page 4 of the quickbeamer1 presentation; the Outline accounts for the diﬀerence. Note how all the deﬁciencies listed above have been corrected. Compare page 7 of this presentation with the Berkeley theme in Figure 12.3 and with the Warsaw theme in Figure 12.4. Themes are discussed in Section 12.5.</p>

<h3 id="12-2-baby-beamers">12.2 Baby beamers</h3>

<p>In the previous discussions you may have noticed two interesting features. First, the Outline frame (table of contents) created two pages in the quickbeamer1 presentation and ﬁve pages in the quickbeamer2 presentation. We discuss this in some detail now with thebabybeamer presentations. You can ﬁnd all the babybeamer presentations as tex and PDF ﬁles in the samples folder. Second, the sidebar shows some links. More about this in Section 12.2.7.</p>

<p>Figure 12.3: quickbeamer2 presentation, page 7 with Berkeley theme.
Introduction Construction Second result Proof References
Introduction
In this note, we prove the following result:
Theorem There exists an inﬁnite complete distributive lattice K with only the two trivial complete congruence relations.
Complete-simple distributive lattices
Figure 12.4: quickbeamer2 presentation, page 7 with Warsaw theme.</p>

<h4 id="12-2-1-overlays">12.2.1 Overlays</h4>

<p>The outline frame of the quickbeamer2 presentation created ﬁve pages in the PDF ﬁle. Observe how each page, from the second on, completely overlaps the previous one, making it appear that the previous one stayed put and an additional line is displayed “on top of it”. In beamer terminology these pages are overlays or slides. The ﬁve overlays will be referenced as overlay 1,...,overlay5. A single frame may create one or many overlays. The subsequent sections discuss many more variants. beamer has many commands creating overlays. We start with some examples of \pause, then \only, and \onslide. We introduce overlays with some presentations. The ﬁrst, babybeamer1, introduces the \pause command to create overlays.
%babybeamer1 presentation \documentclass{beamer} \begin{document}
\begin{frame} \frametitle{Some background}
We start our discussion with some concepts. \pause
The first concept we introduce originates with Erd\H os. \end{frame} \end{document}
produces the presentation of Figure 12.5.
Rule The\pausecommand 1. A frame may have many \pause commands. 2. The \pause command cannot be given in an AMS multiline math environment.
You move past a\pausecommand the same way as you get to the next frame, by pressing the space bar or the forward arrow key. Usingthe\pausecommandsyoucancreatemanyoverlays, eachcontainingalittle more material on the overlays. If this is all you need, skip to Section 12.2.7, you do not need the more detailed discussion of overlays in the next few pages. We could have coded the same presentation with the \only command:
%babybeamer2 presentation \documentclass{beamer}</p>

<p>Some background
We start our discussion with some concepts.
Some background
We start our discussion with some concepts. The ﬁrst concept we introduce originates with Erd˝os.
Figure 12.5: babybeamer1 presentation.
\begin{document}
\begin{frame} \frametitle{Some background}
\only<1,2>{We start our discussion with some concepts.}
\only<2>{The first concept we introduce originates with Erd\H os.} \end{frame} \end{document}
This presentation is slightly diﬀerent from babybeamer1. Overlay 1 ignores the second \only command and displays the line as appropriate to display one line. Overlay 2 displays the two lines as appropriate to display two lines. As a result, the ﬁrst line moves slightly up when passing from overlay 1 to overlay 2. The argument of the \only command is typeset only on the overlays speciﬁed. On the other overlays, it is ignored.</p>

<p>If instead of the \only command you use the \onslide command (on slide, get it?), as in
\onslide<1,2>{We start our discussion with some concepts.}
\onslide<2>{The first concept we introduce originates with Erd\H os.}
then the ﬁrst line of overlay 2 completely overlaps the ﬁrst line of overlay 1, so the ﬁrst line seems to stay put. The argument of the \onslide command is typeset on the overlays speciﬁed and on the other overlays it is typeset but invisible. This is the behavioryouwouldwantmostoften, butyoumayﬁndthatsometimesyouprefer\only.</p>

<h4 id="12-2-2-understanding-overlays">12.2.2 Understanding overlays</h4>

<p>We introduced overlays in Section 12.2.1—probably the most important new concept for presentations. L ATEX typesets the content of a frame and the typeset material
appears on all overlays for the parts of the source (maybe all) not modiﬁed by any command with an overlay speciﬁcation;
appears only on the overlays speciﬁed and is ignored on the other overlays for the arguments of the \only commands;
appears on the overlays speciﬁed and is typeset but made invisible on the other overlays for the arguments of the \onslide commands.
More on overlay speciﬁcations at the end of this section. Here are some illustrations. Example1
This is a very \only<1>{very, very} important concept. \only<1,2>{To start the definition \dots}
will typeset overlay 1 as
This is a very very, very important concept. To start the deﬁnition ...
and will typeset overlay 2 as
This is a very important concept. To start the deﬁnition ...</p>

<p>Example2
What is $2+2$? It is \onslide<2>{$4$}. \only<1>{Can you figure it out?}
\onslide<2>{I hope you all got it right.}
will typeset overlay 1 as
What is 2+2? It is . Can you ﬁgure it out?
and will typeset overlay 2 as
What is 2+2? It is4. I hope you all got it right.
Note that there is room in overlay 1 for the number 4. Example3
What is $2+2$?
\onslide<2>{It is {$4$}.}
Can you figure it out?
will typeset overlay 1 as
What is 2+2?
Can you ﬁgure it out?
and will typeset overlay 2 as
What is 2+2? It is 4. Can you ﬁgure it out?
Note that there is room in overlay 1 for the “missing” second line.</p>

<p>Overlayspeciﬁcations
The angle brackets contain the overlayspeciﬁcation. Here are some more examples: <1-2,4-> means all overlays from 1 to 2, and all overlays from 4 onwards. &lt;-3&gt; means all overlays up to 3. <2,4,6> means overlays 2, 4, and 6. We have two overlay speciﬁcations in the presentation babybeamer2: <1,2> and <2>. Maybe, <1-> and <2-> would be better, so that if you add a third overlay you do not have to change these. The command \pause can only take the simplest overlay speciﬁcation, a number. \pause<3> takes eﬀect from overlay 3 on. Note that overlay speciﬁcations are attached to commands but the overlays created are overlays of the frame in which the commands appear.</p>

<h4 id="12-2-3-more-on-the-only-and-onslide-commands">12.2.3 More on the \only and \onslide commands</h4>

<p>The\onlyand\onslidecommands can accomplisheverything the\pausecommand can and a lot more.
Thebasicsyntax
The syntax of \only is
\only<overlay spec>{source}
where overlay spec is the overlay speciﬁcation and source is the code typeset by L ATEX. A (partial) syntax of \onslide is
\onslide<overlay spec>{source}
With the same syntax you can give overlay speciﬁcations to many commands, including \textbf, \textit, \alert—beamer’s alternative to the \emph command— and then the command is in eﬀect only on the overlays speciﬁed.
%babybeamer3 presentation \documentclass{beamer} \begin{document}
\begin{frame} \frametitle{Some background}
\textbf<1>{We start our discussion with some concepts.}
\textbf<2>{The first concept we introduce originates with Erd\H os.}</p>

<p>\end{frame} \end{document}
So the babybeamer3 presentation (see Figure 12.6) has two overlays, each with two lines of text. On overlay 1 the ﬁrst line is bold, on overlay 2 the second line is bold.
Some background
We start our discussion with some concepts. The ﬁrst concept we introduce originates with Erd˝os.
Some background
We start our discussion with some concepts. The ﬁrst concept we introduce originates with Erd˝os.
Figure 12.6: babybeamer3 presentation.
Adiﬀerentsyntax
The command \only has an alternate syntax:
\only{source}<overlay spec>
So
\only<1>{Can you figure it out?}
and
\only{Can you figure it out?}<1>
accomplish the same.</p>

<p>With this syntax, you can deﬁne your own commands that allow overlay speciﬁcations. For instance, using the command \color{blue} deﬁned in Section 12.2.9, you can deﬁne the command \newcommand{\myblue}{\only{\color{blue}}}
Then \myblue<2>{Some more text} will color the text blue on overlay 2 only.</p>

<h4 id="12-2-4-lists-as-overlays">12.2.4 Lists as overlays</h4>

<p>Listsmaybepresentedoneitematatime, forexamplethebabybeamer4presentationin Figure 12.7 (in the samples folder) shows the four overlays of a list. R. Padmanabhan appears on the ﬁrst, R. Padmanabhan and Brian Davey appear on the second, and so on. This is accomplished simply by adding the overlay speciﬁcation <1-> to the item for R. Padmanabhan, the overlay speciﬁcation <2-> to the item for Brian Davey, and so on. %babybeamer4 presentation \documentclass{beamer} \begin{document}
\begin{frame} \frametitle{Overlaying lists}
We introduce our guests: \begin{itemize} \item<1-> R. Padmanabhan \item<2-> Brian Davey \item<3-> Harry Lakser \item<4-> Dick Koch \end{itemize} \end{frame} \end{document} Such an overlay structure is used so often that beamer has a shorthand for it, [&lt;+-&gt;]. Here it is inbabybeamer5. %babybeamer5 presentation \documentclass{beamer} \begin{document}</p>

<p>Overlaying lists
We introduce our guests: R. Padmanabhan
Overlaying lists
We introduce our guests: R. Padmanabhan Brian Davey
Overlaying lists
We introduce our guests: R. Padmanabhan Brian Davey Harry Lakser
Overlaying lists
We introduce our guests: R. Padmanabhan Brian Davey Harry Lakser Dick Koch
Figure 12.7: babybeamer4 presentation.</p>

<p>\begin{frame} \frametitle{Overlaying lists}
We introduce our guests: \begin{itemize}[&lt;+-&gt;] \item R. Padmanabhan \item Brian Davey \item Harry Lakser \item Dick Koch \end{itemize} \end{frame} \end{document}
This shorthand allows adding and reordering items without having to change overlay speciﬁcations. Of course, if you do not want the items to appear in sequence, you have to use overlay speciﬁcations.</p>

<h4 id="12-2-5-out-of-sequence-overlays">12.2.5 Out of sequence overlays</h4>

<p>We now present an example of “out of sequence overlays”. Look at Figure 12.8. I want to make this part of my presentation. First, I want to show the theorem, then illustrate it with the diagram at the bottom. Finally, I present the proof in the middle. So I need three overlays.
Theorem Every ﬁnite distributive lattice can be embedded in a boolean lattice. Proof. Use join-irreducible elements.
Figure 12.8: The slide to represent.</p>

<p>The theorem is on all three overlays, 1, 2, 3. Its illustration is on overlays 2 and 3, leaving room for the proof that appears only on overlay 3, This is an example of “out of sequence overlays”. We code this in babybeamer6 (in the samples folder). Since declarations, proofs, and the \includegraphics command may all have overlay speciﬁcations, this seems easy to accomplish.
%babybeamer6 presentation, first try \documentclass{beamer} \begin{document}
\begin{frame} \frametitle{Overlaying declarations and graphics} \begin{theorem}<1-> Every finite distributive lattice can be embedded in a boolean lattice. \end{theorem} \begin{proof}<3-> Use join-irreducible elements. \end{proof} \includegraphics<2,->{cube} \end{frame} \end{document}
This does not work too well. On overlay 1 the theorem appears in the middle and then it jumps up to make room for the illustration. This is the same problem we encountered in thebabybeamer2presentation in Section 12.2.1 and the solution is also the same, the use of the \onslide command. Replace the line
\includegraphics<2,->{cube}
with
\onslide<2->{\includegraphics{cube}}</p>

<h4 id="12-2-6-blocks-and-overlays">12.2.6 Blocks and overlays</h4>

<p>You can think of a theorem in beamer as the contents of the theorem environment with a heading and, optionally, with an overlay speciﬁcation, and with most themes— see Section 12.5—colorful visual highlighting, see Figures 12.3 and 12.4. beamer provides the block environment that works the same way except that you name the block. The (partial) syntax of the block environment is
\begin{block}<overlay spec>{title} source \end{block}</p>

<p>Blocks are shaped as theorems. If there is no title, you still need the braces. The overlay speciﬁcation is optional. As an example, savebabybeamer6.texasbabybeamer6block.texin thework folder (also in the samples folder along with the PDF ﬁle) and replace the theorem environment with
\begin{block}<1->{Theorem} Every finite distributive lattice can be embedded in a boolean lattice. \end{block}
If you want a block of L ATEX code with an overlay speciﬁcation but with no title and no visual highlighting, use one of the commands, \onslide and \only.</p>

<h4 id="12-2-7-links">12.2.7 Links</h4>

<p>A presentation is a PDF ﬁle, so it is not surprising that you can set links of various types in a beamer presentation. Just as the hyperref package helps us with hyperlinks in a PDF ﬁle (see Section 11.2), the beamer package allows us to conveniently set links in a presentation. Some links are automatically provided. If you look closer at Figures 12.1 and 12.2, youseethatthesectiontitlesareshowninthesidebar. Infact, thesidebarisanavigation bar. First, it shows which section you are in. Second, clicking on a section title takes you to that section. Creating a link is a two-step process.
1. Name the place you want to link to.
2. Create a button with the property that clicking on it jumps you to the designated place.
To illustrate this process, we modify the presentation babybeamer4. Open the ﬁlebabybeamer4.texand save it asbabybeamer7.texin theworkfolder (the edited version is in the samples folder along with the PDF ﬁle).
1. Name the frame you want to link to by adding a label to the \begin{frame} line. In babybeamer7, add a label to the frame fourguests:
\begin{frame}[label=fourguests]
Labels of frames are also useful for selective typesetting of your presentation, see Section 12.6.
2. Add the following line to babybeamer7:
\hyperlink{fourguests<3>}% {\beamergotobutton{Jump to third guest}}</p>

<p>This creates a link to the third overlay of the frame named fourguests, and creates a button, with the text Jump to third guest. Clicking on this button will jump to the third overlay of the frame fourguests.
3. To add variety to linking, include a new ﬁrst frame:
\begin{frame} \frametitle{First frame with a button} Button example
Jumping to an overlay of a different frame \bigskip
\hyperlink{fourguests<3>}% {\beamergotobutton{Jump to third guest}} \end{frame} which has a button for jumping to the third overlay of the fourguests frame.
4. We also add a new third frame.
\begin{frame} \frametitle{Third frame with a button} Button example
Jumping to another frame \bigskip
\hyperlink{fourguests}% {\beamergotobutton{Jump to guest list}} \end{frame} with a button, with the text Jump to guest list. Clicking on this button will jump to the second frame, overlay not speciﬁed (defaults to 1).
5. Add a fourth frame,
\begin{frame} \frametitle{Hidden link} \hyperlink{fourguests}{Jumping to the guest list} \end{frame} introducing another version of the \hyperlink command: \hyperlink{fourguests}{Jumping to the guest list} which typesets the second argument as regular text, making it aninvisiblelink. However, you may notice that the cursor changes when it hovers over the link. For in</p>

<p>stance, you may want to link the use of a concept to its earlier deﬁnition, where you also need a button for the return jump.
Here is babybeamer7:
%babybeamer7 presentation \documentclass{beamer} \begin{document}
\begin{frame} \frametitle{First frame with a button}
Button example
Jumping to an overlay of a different frame \bigskip
\hyperlink{fourguests<3>}% {\beamergotobutton{Jump to third guest}} \end{frame}
\begin{frame}[label=fourguests] \frametitle{Overlaying lists}
We introduce our guests: \begin{itemize} \item<1-> R. Padmanabhan \item<2-> Brian Davey \item<3-> Harry Lakser \item<4-> Dick Koch \end{itemize}
\hyperlink{fourguests<3>}% {\beamergotobutton{Jump to third guest}} \end{frame}
\begin{frame} \frametitle{Third frame with a button} Button example
Jumping to another frame \bigskip</p>

<p>First frame with a button
Button example Jumping to an overlay of a diﬀerent frame
Jump to third guest
Overlaying lists
We introduce our guests: R. Padmanabhan
Jump to third guest
Overlaying lists
We introduce our guests: R. Padmanabhan Brian Davey
Jump to third guest
Third frame with a button
Button example Jumping to another frame
Jump to guest list
Figure 12.9: babybeamer7 presentation.</p>

<p>\hyperlink{fourguests}% {\beamergotobutton{Jump to guest list}} \end{frame}
\begin{frame} \frametitle{Hidden link}
\hyperlink{fourguests}{Jumping to the guest list} \end{frame} \end{document} Figure 12.9 shows all these buttons. We do not show overlays 3 and 4 of frame 2 and frame 4, where the button is invisible.</p>

<h4 id="12-2-8-columns">12.2.8 Columns</h4>

<p>Often, it is useful to put the display into columns. A simple illustration is given in babybeamer8:
%babybeamer8 presentation \documentclass{beamer} \begin{document}
\begin{frame} \frametitle{Columns, top alignment}
\begin{columns}[t] \begin{column}{2in} Is it true that there is no new result on the Congruence Lattice Characterization Problem? \end{column} \begin{column}{2in} F. Wehrung found a distributive algebraic lattice that cannot be represented as the congruence lattice of a lattice. \end{column} \end{columns} \end{frame} \end{document} The environment iscolumns. It has an optional argument for alignment, tfor top, c for center, and b for bottom. The columns, usually two, are both in the column environment; thewidthofthecolumnisintheargument; itcanbegivenasameasurement— 2in in the example—or relative to the width of the whole frame as 0.4\textwidth.</p>

<p>Figure 12.10 shows the babybeamer8 presentation.
Columns, top alignment
Is it true that there is no new result on the Congruence Lattice Characterization Problem?
F. Wehrung found a distributive algebraic lattice that cannot be represented as the congruence lattice of a lattice.
Figure 12.10: babybeamer8 presentation.</p>

<h4 id="12-2-9-coloring">12.2.9 Coloring</h4>

<p>L ATEX’s job is to produce articles and books that contain text, math formulas, and graphics. Such publications—with the exception of textbooks—cannot aﬀord color printing. Presentations are diﬀerent. If you prepare a color presentation, it will project in color. Nevertheless, the color commands are of limited use even for presentations. You probably use the color scheme of the chosen theme (see Section 12.5), and have limited opportunity to color things yourself. If you do, be very careful, too much color distracts from the presentation but judicious use of color—say, for highlighting a word or phrase—may be very eﬀective. beameruses the sophisticatedxcolorpackage of Uwe Kern. It colors by specifying the color model: rgb (red, green, blue), or cmyk (cyan, magenta, yellow, black), or gray (black and white)—there are many more models to choose from—and how much of each color you want to mix. So \color[rgb]{0,1,0} paints everything—within its scope—green. You can color some text green with the command
\textcolor[rgb]{0,1,0}{This text is green.}
There are seventeen predeﬁned colors: red, green, blue, cyan, magenta, yellow, orange, violet, purple, brown, pink, olive, black, darkgray, gray, lightgray, and white. With the proper options, there are hundreds more. So the previous command could also be given as
\textcolor{green}{This text is green.}
or as
{\color{green}This text is green.}</p>

<p>To pretty things up, you can use \colorbox{green}{Green box}, which puts theargumentinagreenboxand\fcolorbox{red}{green}{Green box}, whichalso adds a red frame. xcolor is automatically loaded by beamer. To make sure that xcolor is loaded with the options desired, you have to include these options in the preamble in the
\documentclass{beamer}
line. For instance, to have the dvipsnam option for xcolor, invokebeamer with
\documentclass[xcolor=dvipsnam]{beamer}
You can also mix predeﬁned colors:
{\color{green!40!yellow} This text is of what color?} which sets the text 40% green and 60% yellow. There are commands for deﬁning colors and color sets, as well as for coloring the background, frames, and hyperlinks (see Uwe Kern, Extending L ATEX’scolorfacilities: thexcolorpackage [46]). Here is a simple illustration:
%babybeamer9 presentation \documentclass{beamer} \begin{document}
\setbeamercolor{normal text}{bg=yellow!15} \begin{frame} \frametitle{Colors}
\begin{columns}[t] \begin{column}{2in} {\color{red}Is it true that there is no new result on the Congruence Lattice Characterization Problem?} \end{column} \begin{column}{2in} {\color{green}F. Wehrung found a distributive algebraic lattice that cannot be represented as the congruence lattice of a lattice.} \end{column} \end{columns} \end{frame} \setbeamercolor{normal text}{bg=green!15}</p>

<p>\begin{frame} \frametitle{Colors fading out}
We introduce our guests: \begin{itemize} \item {\color{red}R. Padmanabhan} \item {\color{red!60!white}Brian Davey} \item {\color{red!40!white}Harry Lakser} \item {\color{red!20!white}Dick Koch} \end{itemize} \end{frame} \end{document}
The command
\setbeamercolor{normal text}{bg=yellow!15} sets the background color to light (15%) yellow. In the ﬁrst column, the text is red, in the second, green. Set the foreground with fg=. The background of the second frame is light green. The four participants are in lighter and lighter shades of red. Figure 12.11 shows the frames of the babybeamer9 presentation—unfortunately, not in color (unless you have the PDF of the book).</p>

<h3 id="12-3-the-structure-of-a-presentation">12.3 The structure of a presentation</h3>

<p>The structure of your presentation is, by and large, determined by the sectioning commands: \sectionand \subsection. For a very long lecture there may also be\part commands. The argument of any of these commands may have a short version for the navigational side bar (see Section 12.1.4). The sectioning commands used in a beamer presentation look the same as they do for articles and books, but they play a diﬀerent role. They do not display a section title, but they add an entry to the table of contents. They also act as place markers in the sense that if you click on the title of a section in a navigation bar, then you will jump to the framefollowing the section command.
Rule Sectioningcommands 1. Sectioning commands can only be placed between frames. 2. There must be a frame following the last sectioning command. 3. For a long (sub)section title, use \breakhere to break a line. 4. The optional short versions are for the navigation bar.</p>

<p>Colors
Is it true that there is no new result on the Congruence Lattice Characterization Problem?
F. Wehrung found a distributive algebraic lattice that cannot be represented as the congruence lattice of a lattice.
Colors fading out
We introduce our guests: R. Padmanabhan Brian Davey Harry Lakser Dick Koch
Figure 12.11: babybeamer9 presentation.
These are illustrated with beamerstructure1, see Figure 12.12. The line
\tableofcontents[pausesections, pausesubsections]
causes the table of contents to appear a line at a time. This command may also be used without an option or only with one, pausesections. The second page shown in Figure 12.12 is the table of contents. The page is about half ﬁlled with only ﬁve listed items, so no more than 10 sections and subsections would ﬁt. There should be fewer.
%beamerstructure1 presentation \documentclass{beamer} \usetheme{Berkeley} \begin{document}
\begin{frame} \frametitle{Outline}</p>

<p>Outline
1 Section 1 Section 1 – Subsection 1 Section 1 – Subsection 2
Sec1 Sec1 Subsec1 Sec1 Subsec2 Sec1 Subsec3 Sec2
Outline
1 Section 1 Section 1 – Subsection 1 Section 1 – Subsection 2 Section 1 – Subsection 3
2 Section 2
Figure 12.12: beamerstructure1 presentation, pages 3 and 5.</p>

<p>\tableofcontents[pausesections, pausesubsections] \end{frame}
\section[Sec1]{Section 1}
\begin{frame} \frametitle{Section 1}
Text of Section 1 \end{frame}
\subsection[Sec1 Subsec1]{Section 1 -- Subsection 1}
\begin{frame} \frametitle{Section 1\Subsection 1}
Text of Section 1, Subsection 1 \end{frame}
\subsection[Sec1 Subsec2]{Section 1 -- Subsection 2} \begin{frame} \frametitle{Section 1\Subsection 2}
Text of Section 1, Subsection 2 \end{frame}
\subsection[Sec1 Subsec3]{Section 1 -- Subsection 3} \begin{frame} \frametitle{Section 1\Subsection 3}
Text of Section 1, Subsection 3 \end{frame}
\section[Sec2]{Section 2}
\begin{frame} \frametitle{Section 2}
Text of Section 2 \end{frame}</p>

<h4 id="12-3-1-longer-presentations">12.3.1 Longer presentations</h4>

<p>Longer presentations may need parts and a more complicated table of contents. I will not discuss these topics, but the presentation beamerstructure2 (in the samples folder) illustrates the use of parts and some other features. I added some comments to point these out. See Figure 12.13 for two sample pages of this presentation.</p>

<h4 id="12-3-2-navigation-symbols">12.3.2 Navigation symbols</h4>

<p>The more structure you have in a presentation, the more you may appreciate the navigation icons shown by default on each page in the last line on the right. The icons are:
the slide
the frame
the section
the presentation icons
each surrounded by a left and a right arrow
the appendix
the back and forward icons (circular arrows)
the search icon (a magnifying glass) If you decide not to have them, as in the presentation beamerstructure2, then give the following command in the preamble: \setbeamertemplate{navigation symbols}{}</p>

<h3 id="12-4-notes">12.4 Notes</h3>

<p>You can place notes in your presentation to remind yourself of what you want to say in addition to what is being projected. A note is placed in the presentation as the argument of the \note command, as in \note{This is really difficult to compute.} By default, notes are not shown in the presentation. If you invoke beamer with \documentclass[notes=show]{beamer}
then the notes pages are included. The command \documentclass[notes=show, trans]{beamer}</p>

<p>Outline
Sectionally complemented chopped lattices
George Gr¨atzer1 Harry Lakser1 Michael Roddy2
1University of Manitoba
2Brandon University
Conference on Lattice Theory, 2006
George Gr¨atzer, Harry Lakser, Michael Roddy Sectionally complemented chopped lattices
Chopped lattices Ideals and congruences
Part I Outline
1 Chopped lattices
2 Ideals and congruences
George Gr¨atzer, Harry Lakser, Michael Roddy Sectionally complemented chopped lattices
Figure 12.13: beamerstructure2 presentation, pages 1 and 10.</p>

<p>produces transparencies with notes, and
\documentclass[notes=only]{beamer}
produces only the note pages, one note page for every overlay of a frame with a note. To avoid this, print the output of
\documentclass[trans, notes=only]{beamer}
In addition to these examples, all the notes placed in a single frame are collected together on one note page. And a note between frames becomes a page on its own. beamer does an excellent job of producing notes pages, for example, see Figure 12.14. In the upper-left corner, it displays precisely where we are in the structure of the presentation. The upper-right corner shows a small picture of the page to which the notes are attached.
The 1960 Theorem
Theorem (Gr¨atzer-Schmidt 1960) Let M be the chopped lattice constructed from a ﬁnite order P by merging. Then the ideal lattice of M is a sectionally complemented lattice.
2006-04-23
Sectionally complemented chopped lattices Background The 1960 sectional complement The 1960 Theorem
And the congruence lattice of L is isomorphic to a ﬁnite distributive lattice D whose join-irreducible elements form an order isomorphic to P. What we are discussing here is commonly called the Dilworth Theorem, see the book Congruences of a ﬁnite lattice, Birkh¨auser Boston, 2005.
Figure 12.14: A note page.</p>

<h3 id="12-5-themes">12.5 Themes</h3>

<p>If you look carefully at Figures 12.1, 12.2, and 12.13 (even better, if you look at the PDF ﬁles of these presentations), you see how every little detail of the presentation is provided by beamer. Figures 12.1 and 12.2 show a presentation style dominated by a dark blue headline and left sidebar, a complete navigation bar in the left sidebar, the name of the author(s) and the title repeated in every overlay, section numbers in colored squares, and so on. The presentation in Figure 12.13 has no sidebars, section numbers are in colored circles, the navigation elements are in the headline. The display of lists and theorems (and other similar elements of a presentation) also vary a great deal. You can achieve such detailed control over your presentation by deﬁning all these elements yourself. beamer places dozens of commands at your disposal to make this possible. Or you can use a presentationtheme that will do the job for you.</p>

<p>The command to name a presentation theme is \usetheme{}. The presentation beamerstructure2 uses the theme Warsaw (see Figure 12.13), so following the document class line type the command
\usetheme{Warsaw}
quickbeamer1 uses the theme Berkeley (see Figures 12.1 and 12.2) and so does beamerstructure1 (see Figure 12.12). Thepresentationthemesareinthethemesubfolderofthethemesfolderof beamer. As of this writing, there are 26 of them, named after cities:
PresentationThemes WithoutNavigationBars default, Bergen, Boadilla, Madrid, AnnArbor, CambridgeUS, Pittsburgh, Rochester WithaNavigationBar Antibes, JuanLesPins, Montpellier WithatableofcontentsSidebar Berkeley, PaloAlto, Goettingen, Marburg, Hannover WithMiniFrameNavigation Berlin, Ilmenau, Dresden, Darmstadt, Frankfurt, Singapore, Szeged WithSectionandSubsectionTable Copenhagen, Luebeck, Malmoe, Warsaw
How do you choose a presentation theme? After the presentation is ﬁnished, try out the various themes. Ask yourself:
Do sidebars take too much room away from my illustrations?
Do stronger colors add to the presentation or do they distract?
Do I want to use a navigation bar?
Answering these questions will narrow your choice. The presentation theme deﬁnes all the colors, but you can alter them with the command \usecolortheme{}. You have a choice of albatross, beetle, crane, fly, and seagull. For instance,
\usetheme{Warsaw} \usecolortheme{seagull}
is a gray version of the Warsaw theme, appropriate for printing in black-and-white. In addition, you can further modify the “inner elements”, such as blocks, with
\usecolortheme{lily}</p>

<p>or orchid, orrose. You can modify the “outer elements”, such as headlines and sidebars, with
\usecolortheme{whale}
or seahorse, ordolphin. So you can have, for instance,
\usetheme{Warsaw} \usecolortheme{lily} \usecolortheme{whale}
This gives you 45 “out of the box” color schemes. Similarly, font themes can also be speciﬁed, modifying the presentation theme, with the command\usefonttheme{}. You have the default and the following options: professionalfonts structurebold structureitalicserif structuresmallcapserif.</p>

<h3 id="12-6-planning-your-presentation">12.6 Planning your presentation</h3>

<p>Step 1 As a rule, your presentation is based on one or more of your articles. Collect them in one folder. Resolve naming conventions as necessary. There should be only one Fig1! Step2 Rewritethearticle(s)tosketchoutyourpresentation. Thepagescorrespond to frames. A page should not have too many words, say, no more than 40. Replace your numbered theorems with named theorems. Never reference another page. Have few sections and subsections. Add a table of contents, which is a readable overview of the new article. Step3 Basethenewpresentationonapresentationinthesamplesfolder, asample presentation in beamer’s solution folder, or on one of your own or of a colleague’s older presentations. Turn the pages into frames. Step4 Design your frames and add frame titles. Completely disregard what we wrote in Section2.3 (theideabehind L ATEX isthatyoushouldconcentrateonwhatyou havetosayandlet L ATEX takecareofthevisualdesign). The new principle is: Youare completelyresponsibleforthevisualappearanceofeveryframeandoverlay. This is, of course, in addition to brevity and readability. Do not let L ATEX break your lines. Do it with the\command and keep words that belong together on the same line. Step5 Write notes to remind yourself what you want to say in your lecture that is not on the slides. Print the notes for your lecture. Step6 Build in ﬂexibility. For instance, if you have four examples to illustrate a deﬁnition, put each one on a diﬀerent frame or overlay, and add a link to each that</p>

<p>skips the rest of the examples. Depending on your audience’s understanding, show an example or two, and skip the rest. The same way, you may skip proof ideas and even topics. Step7 Preparefortheworst—thecomputersystemmayfail, butprojectorsseldom do—so print a set of transparencies for your lecture as a backup by invoking the option trans of the documentclass
\documentclass[trans]{beamer} To print a handout, use thehandout option
\documentclass[handout]{beamer}
Open the presentation in Acrobat Reader. In Printer/Page Setup... set landscape and 140% magniﬁcation. In the Print dialogue box in Layout choose two pages per sheet and print—assuming, of course, that you have a printer oﬀering these options.</p>

<h3 id="12-7-what-did-i-leave-out">12.7 What did I leave out?</h3>

<p>Since the beamer reference manual is 245 pages long, it is clear that this chapter covers maybe 10% of it. For most presentations, you won’t even need most of what I have included. If you read Sections 12.1, 12.2.1 and maybe Section 12.3, you should have enough for most math presentations. If you are in other ﬁelds, or if you are more ambitious, you may need more. For example, a computer scientist will want program listings in a verbatim environment. This is easy. Start your frame with
\begin{frame}{fragile}
and then you can use the verbatim environment. If you want to include sounds or movies in your presentation, consult Till Tantau’s User’sGuidetotheBeamerClass [69]. You can do very simple animation with what we have covered here. This is illustrated with the babybeamer10 presentation (in the samples folder).
babybeamer10 presentation \documentclass{beamer} \begin{document}
\begin{frame}
\includegraphics<1>{basem3-1}
\includegraphics<2>{basem3-2}</p>

<p>\includegraphics<3>{basem3-3}
\includegraphics<4>{basem3-4} \end{frame} \end{document}
The congruence generated by the dashed red line, see Figure 12.15, spreads in three steps, illustrating an interesting result. The animation is quite eﬀective and instructive. If you want to place such changing pictures lower in a frame, put them in the overprint environment. I would recommend that you read Section 5 of Till Tantau, User’s Guide, which has many good pointers about creating presentations.
Figure 12.15: The four pictures of babybeamer10.</p>

<h2 id="13-illustrations">13 Illustrations</h2>

<p>Most illustrations in math are “vector graphics” such as the following example:</p>

<p>数学中的大多数插图都是“矢量图”，例如：</p>

<p>0I
0J
1I
1J
u
J
I
u∨0J</p>

<p>There are lots of circles, connecting lines, arrows, and so on. And the annotations are in LATEX! Many mathematician used Adobe Illustrator or special purpose software to create such diagrams; see Sections 7.8 and 13.4 for commutative diagrams. Since there is no more academic pricing to buy Adobe Illustrator (you have to subscribe to Creative Cloud), some turn to Till Tantau’s TikZ package.</p>

<p>有许多圆圈、连接线、箭头等等。注释是LATEX!许多数学家使用adobeillustrator或专用软件来创建这样的图；交换图见第7.8节和第13.4节。由于没有更多的学术资助购买Adobe Illustrator(你必须订阅Creative Cloud)，一些（数学家）转向Till Tantau的TikZ包。</p>

<p>We introduce TikZ in this chapter with a few commands. We hope they will serve your needs.</p>

<p>我们将在本章介绍TikZ的一些命令。我们希望它们能满足你的需要。</p>

<p>This chapter is based on Jacques Crémer’s A very minimal introduction to TikZ, with his permission, and Michael Doob’s detailed suggestions.</p>

<p>本章基于Jacques Crémer对TikZ的简短介绍及许可，以及Michael Doob的详细建议。</p>

<h3 id="13-1-your-first-picture">13.1 Your first picture</h3>

<p>create such diagrams; see Sections 7.8 and 13.4 for commutative diagrams. Since there is no more academic pricing to buy Adobe Illustrator (you have to subscribe to Creative Cloud), some turn to Till Tantau’s TikZ package. We introduce TikZ in this chapter with a few commands. We hope they will serve your needs. This chapter is based on Jacques Crémer’s A very minimal introduction to TikZ, with his permission, and Michael Doob’s detailed suggestions.</p>

<p>To use the TikZ package, include \usepackage{tikz} in the preamble of your document. A picture is in a tikzpicture environment, which is, in turn, typically within a figure environment (see Section 1.10): \begin{figure}[htb] {\centering \begin{tikzpicture} ... \end{tikzpicture}} \end{figure}
Let us draw the illustration of Figure 13.1.
yx
xy
Figure 13.1: Our ﬁrst TikZ illustration
Step1: Drawthegrid
The command is \draw, the optional argument: help lines. \begin{tikzpicture} \draw<a href="0,0">help lines</a> grid (2,2); \end{tikzpicture}</p>

<p>Note the semicolon terminating the line. If you forget, you get the helpful reminder: Package tikz Error: Giving up on this path. Did you forget a semicolon?
Step2: Drawthefouredges
The command is \draw; the argument is a series of grid points connected by two dashes, --. {\centering\begin{tikzpicture} \draw<a href="0,0">help lines</a> grid (2,2); \draw (1,0)--(2,1)--(1,2)--(0,1)--(1,0); \end{tikzpicture} Again, note the semicolon terminating the line. It has to terminate all TikZ lines!!! No more warnings. Let me specify the conventions used in my ﬁeld for such a diagram (note that 1 inch is 2.54 cm and 1 cm is 28.35 points): We use a grid with lines 1 cm apart; the circles have radius 1.8 mm and line width 1 pt; the lines have line width 0.7 pt. So the \draw command we would use for the illustration is \draw<a href="1,0">line width=0.7pt</a>--(2,1)--(1,2)--(0,1)--(1,0);
to make the lines a little thicker. More about line width soon.
Step3: Drawthecircles
We add a circle with the \draw command \draw (1,0) circle[radius=1.8mm];
By the conventions (above), we want the line width to be 1pt: \draw<a href="1,0">line width=1pt</a> circle[radius=1.8mm]; We add four circles at (1,0), (2,1), (1,2), (0,1):</p>

<p>Step4: Fillthecircles
This looks ugly. We should not be seeing the line segments in the circles. Easy to help. Fill the circles with white by adding the fill=white option to \draw. So we get the illustration of Figure 13.1 with the grid. We comment out the line producing the grid:
{\centering\begin{tikzpicture} \draw<a href="0,0">help lines</a> grid (2,2); \draw<a href="1,0">line width=0.7pt</a>--(2,1)--(1,2)--(0,1)--(1,0); \draw<a href="1,0">fill=white, line width=1pt</a> circle[radius=1.8mm]; \draw<a href="2,1">fill=white, line width=1pt</a> circle[radius=1.8mm]; \draw<a href="1,2">fill=white, line width=1pt</a> circle[radius=1.8mm]; \draw<a href="0,1">fill=white, line width=1pt</a> circle[radius=1.8mm]; \end{tikzpicture}}
and this produces the illustration of Figure 13.1 except for the labels.
Step5: Addthelabels
We add the labels with the \node at command. To add the label 𝑦 to the circle with center at (2,1):
\node at (2.5,1) {$y$};
You get 2.5 by 2.5 = 2 + 0.18 + a little nudge. Experiment until you like the result. Then proceed to the other circles:
\begin{figure}[h!] {\centering\begin{tikzpicture} \draw<a href="0,0">help lines</a> grid (2,2); \draw<a href="1,0">line width=0.7pt</a>--(2,1)--(1,2)--(0,1)--(1,0); \draw<a href="1,0">fill=white, line width=1pt</a> circle[radius=1.8mm]; \draw<a href="2,1">fill=white, line width=1pt</a> circle[radius=1.8mm]; \node at (2.5,1) {$y$}; \draw<a href="1,2">fill=white, line width=1pt</a> circle[radius=1.8mm]; \node at (1,2.5) {$x \vee y$}; \draw<a href="0,1">fill=white, line width=1pt</a> circle[radius=1.8mm]; \node at (-0.5,1) {$x$}; \end{tikzpicture}} \caption{Our first \tikzname illustration}\label{Fi:firsttikz} \end{figure}
producing the illustration of Figure 13.1!
Step6: Remember,thisisL ATEX
Section 14.1 introduces custom commands. Let’s get a little ahead of ourselves, and deﬁne</p>

<p>\newcommand{\mycircle}[1] {\draw<a href="#1">fill=white,line width=1pt</a> circle[radius=1.8mm]} Even better. TikZ allows us to set default values. The command
\tikzset{every picture/.style={line width=0.7pt}}
sets the default value of line width to 0.7pt. Now the code for Figure 13.1 becomes easier to read (and write):
{\centering\begin{tikzpicture} \draw<a href="0,0">help lines</a> grid (2,2); \draw (1,0)--(2,1)--(1,2)--(0,1)--(1,0); \mycircle{1,0}; \mycircle{2,1}; \node at (2.5,1) {$y$}; \mycircle{1,2}; \node at (1,2.5) {$x \vee y$}; \mycircle{0,1}; \node at (-0.5,1) {$x$}; \end{tikzpicture}}</p>

<h3 id="13-2-the-building-blocks-of-an-illustration">13.2 The building blocks of an illustration</h3>

<p>An illustration is built from components. We discuss some of them: line segments, circles, dots (or vertices), ellipses, rectangles, arcs, smooth curves (Bézier curves), and labels. Linesegments A path drawn with the command \draw (1,0)--(2,2)--(4,1);
(1,0)
(2,2)
(4,1)</p>

<p>Circles A circle drawn using \draw (2,2) circle[radius=1];
(2,2)
Dots(orvertices) The command \draw<a href="2,2">fill</a> circle[radius=1pt]; draws a dot (or vertex):
(2,2)
Ellipses Drawn by \draw (2,2) ellipse[x radius=2, y radius=1];
(2,2)</p>

<p>Rectangles A rectangle drawn with \draw (1,1) rectangle (2,3);
(1,1)
(2,3)
Arcs \draw (2,1) arc[start angle=0, end angle=90, radius=1]; draws an arc of a circle:
(2,1)
Surprise! The point is not the center of the circle.
Finally, an arc of an ellipse is drawn with the command
\draw (2,0) arc[x radius=1cm, y radius=5mm, start angle=0, end angle=120];
which typesets as
(2,1)</p>

<p>Smoothcurves(Béziercurves) Nice curves can be drawn with a single control point (quadratic), as in
\draw (2,0)..controls (2,3)..(0,2); \draw (2,0)..controls (4,2)..(0,2);
or with two control points (cubic):
\draw<a href="2,0">dotted</a>..controls (4,2) and (2,3)..(0,2);
These three curves typeset as
(4,2)
(2,0)
(0,2)
(2,3)
Alternatively, drawthecurvedeﬁnedbytwopoints, AandB,thestartandtheend, andbythedirectionitleaves Aand thedirection itarrives atBwiththecommand: \draw<a href="0,0">very thick</a> to<a href="2,1.5">out=90,in=195</a>; This draws a curve from (0,0) to (2,1) which “leaves” at an angle of 90◦ and “arrives” at an angle of 195◦:
(2,1)
(0,0)
Labels We place text or formula in a picture with \node at (1,1) {yes};
yes</p>

<p>Notice how the “yes” is positioned relative to (1,1). To place a label below a point, use the option below:
below
with the command \node[below] at (1,1) {below};. You can also use above, left, and right, and their combinations, for instance, above left. If the text is several lines long, break it with \ and tell TikZ how to align it:
\begin{mypicture}[xscale=1.3] \draw<a href="0,0">thick</a>--(3,0); \draw (0,-.2)--(0,.2); \draw (3,-.2)--(3,.2); \node[align=left, below] at (1.5,-.5)% {This text\ is left justified}; \end{mypicture}
which typesets as
This text is left justiﬁed
Text could be
left justiﬁed, option: align=left; right justiﬁed, option: align=right; centered, option: align=center;</p>

<h3 id="13-3-transformations">13.3 Transformations</h3>

<p>We can rotate, translate, and scale the illustrations.
Rotations The command \draw<a href="1,1">rotate=30</a> rectangle (2,3); rotates the rectangle by 30◦ (around the origin) and \draw (2,2) ellipse[x radius=2, y radius=1, rotate=60]; rotates an ellipse by 60◦ (around its center):</p>

<p>(1,1)
(2,3)
(5,2)
Translations \draw<a href="1,1">shift={(3,1)}</a> rectangle (2,3); shifts the rectangle:
(1,1)
(2,3)
Scaling The command \draw<a href="1,1">scale=0.3</a> rectangle (2,3); scales the rectangle by 0.3 from the origin and \draw<a href="4,1">scale around={0.5:(4.5,2)}</a> rectangle (5,3); scales the rectangle by2.5using around the center of the rectangle, that is, around (4.5,2):</p>

<p>(4,1)
(5,3)
You can scale the two dimensions in diﬀerent proportions:
coded with
\begin{tikzpicture}[xscale=1.5, yscale=0.5]\ \draw (2,2) circle[radius=1.5];<br />
or with
\draw<a href="2,2">xscale=1.5, yscale=0.5</a> circle[radius=1.5];</p>

<h3 id="13-4-path-attributes">13.4 Path attributes</h3>

<p>A \draw command draws a path, with a start point and an end point. The start and end points of \draw (1,0)--(2,1)--(1,2)--(0,1); are (1,0) and (0,1); of \draw (2,2) circle[radius=1.5]; are (2,2) and (2,2). We consider now some of the common attributes. Linewidth We have already seen theline width=1ptoption of \draw. Ti kZ comes with seven additional built in widths: ultra thin, very thin, thin, semithick, thick, very thick, and ultra thick. Dashesanddots You can also make dotted and dashed lines. The commands
\draw<a href="0,0.5">dashed</a>--(2,0.5); \draw<a href="0,0">dotted, thick</a>--(2,0);
make two thick lines, one dashed and one dotted:</p>

<p>Colors Articles, as a rule, are printed black and white. But illustrations in PDF ﬁles and in presentations are shown in full color. TikZ comes with the following colors ready to use: red, green, blue, cyan, magenta, yellow, black, gray, darkgray, lightgray, brown, lime, olive, orange, pink, purple, and teal. The following example uses white, lightgray, and gray.
Arrows We can put arrows or bars on one or both ends of a path:
coded as
\begin{tikzpicture} \draw<a href="0,0">-&gt;, lightgray</a>--(3,0)--(3,-1); \draw<a href="0,-0.5">&lt;-</a>--(2,-0.5); \draw<a href="0,-1">|-&gt;, dashed</a>--(2,-1); \draw<a href="0,-3">very thick, &lt;-&gt;</a> to<a href="3,-1.5">out=90,in=195</a>; \end{tikzpicture} TikZ provides you with dozens of arrows. You get them by invoking the arrows library with \usepgflibrary{arrows} in the preamble. Even better, use the tikzcd package by Florêncio Neves invoked by \usepackage{tikz-cd}. It is designed to code commutative diagrams and it provides arrows very close to the L ATEX style, see Figure 13.2. It comes with an excellent (and short) manual tikz-cd-doc.pdf. In the tikzcd environment, the command \arrow produces an arrow. It takes one argument, a character r, l, u, ord, for right, left, up and down. A label is placed on an arrow as the second argument. Here are two examples of commutative diagrams from the tikz-cd manual.</p>

<p>A basic example:
coded as
\begin{tikzcd} A \arrow{r}{\psi} \arrow{d} &amp; B \arrow{d}{\psi} \ C \arrow{r}{\eta} &amp;D \end{tikzcd}
rightarrow yields leftarrow yields leftrightarrow yields dash yields Rightarrow yields Leftarrow yields Leftrightarrow yields equal yields mapsto (or maps to) yields mapsfrom yields hookrightarrow (or hook) yields hookleftarrow yields rightharpoonup yields rightharpoondown yields leftharpoonup yields leftharpoondown yields dashrightarrow (or dashed) yields dashleftarrow yields rightarrowtail (or tail) yields leftarrowtail yields twoheadrightarrow (or two heads) yields twoheadleftarrow yields rightsquigarrow (or squiggly) yields leftsquigarrow yields leftrightsquigarrow yields
Figure 13.2: The arrows provided by the tikz-cd package</p>

<p>An example with curved and dashed arrows:
×
( )
\begin{tikzcd} T \arrow[bend left]{drr}{x} \arrow[bend right]{ddr}{y} \arrow[dashed]{dr}[description]{(x,y)} &amp; &amp; \ &amp; X \times_Z Y \arrow{r}{p} \arrow{d}{q} &amp; X \arrow{d}{f} \ &amp; Y \arrow{r}{g} &amp;Z \end{tikzcd}</p>

<h3 id="13-5-coding-the-example">13.5 Coding the example</h3>

<p>To code the example on page 343, at the start of your article, following the
\usepackage{tikz}
line, deﬁne:
\tikzset{every picture/.style={line width=0.7pt}} \newcommand{\mycircle}[1] {\draw<a href="#1">fill=white,line width=1pt</a> circle[radius=1.0mm]}
Then the following code will produce the diagram:
\begin{figure}[hbt] \centerline{\begin{tikzpicture} %\draw<a href="0,0">help lines</a> grid (6,6); \draw (2,0)--(0,3)--(4,5)--(6,2)--(2,0); \draw (1.325,1)--(4.325,2.5); \draw (6,2)--(4.325,2.5)--(4.66,4); \mycircle{2,0}; \node at (2-.4,0) {$0_I$}; \mycircle{6,2}; \node at (6+.4,2) {$0_J$}; \mycircle{0,3};</p>

<p>\node at (0-.4,3) {$1_I$}; \mycircle{4,5}; \node at (4+.4,5) {$1_J$}; \mycircle{1.325,1}; \node at (1.325-.4,1) {$u$}; \mycircle{5.325,3}; \mycircle{4.325,2.5}; \mycircle{4.46,3}; \mycircle{4.67,4}; \node at (6,3.5) {$J$}; \node at (0,1.5) {$I$}; \node at (3.7,2.66) {$u \vee 0_J$}; \end{tikzpicture}} \end{figure}</p>

<h3 id="13-6-what-did-i-leave-out">13.6 What did I leave out?</h3>

<p>The TikZ manual is 726 pages, so this chapter covers maybe 2% of it. For most math illustrations, this chapter will do. (I still use Adobe Illustrator for my lattice diagrams. I use maybe 2% of Illustrator’s power for my work.) TikZ can plot. It can graph many built in functions, has a small programming language, has libraries, for instance, for circuits. There is an excellent book on TikZ: Gérard Tisseau and Jacques Duma’s TikZ pur l’impatient [70]. Although the book is in French, the TikZ code is in English; this book should be easy enough to read.</p>

<h1 id="v-customization">V Customization</h1>

<h2 id="14-commands-and-environments">14 Commands and environments</h2>

<p>In Section C.1.2, we discuss how Donald E. Knuth designed TEX as a platform on which convenient work environments could be built. One such work environment, LATEX, predominates today, and it is indeed convenient.</p>

<p>在第C.1.2节中，我们将讨论Donald E. Knuth如何将TEX设计成一个可以构建方便的工作环境的平台。这样的工作环境之一，LATEX，占主导地位，今天，它确实是方便的。</p>

<p>Nevertheless, LATEX is designed for all of us, so it is not surprising that we could improve on it for our personal use. There are many reasons to customize LATEX:</p>

<p>然而，LATEX是为我们所有人设计的，所以我们可以改进它以供个人使用也就不足为奇了。定制LATEX有很多原因：</p>

<ul>
<li><strong>Goal1</strong> to enhance the readability of the source ﬁle</li>
<li><strong>Goal2</strong> to make notational and terminological changes easier</li>
<li><strong>Goal3</strong> to redeﬁne names used by LATEX</li>

<li><p><strong>Goal4</strong> to introduce consistent layouts</p></li>

<li><p><strong>目标1：</strong>增强源文件的可读性</p></li>

<li><p><strong>目标2：</strong>使符号和术语的变化更容易</p></li>

<li><p><strong>目标3：</strong>重新定义LATEX所使用的名称</p></li>

<li><p><strong>目标4：</strong>引入一致的布局</p></li>
</ul>

<p>There are many techniques to accomplish these.</p>

<p>有许多技术可以完成这些任务。</p>

<ul>
<li><strong>Technique1</strong> Deﬁne commands and environments in order to enhance LATEX to meet your particular needs (see Sections 14.1, 14.1.7, and 14.2).</li>
<li><strong>Technique2</strong> Utilize delimited commands to write LATEX documents in a more readable fashion (see Section 14.1.9).</li>
<li><strong>Technique3</strong> Collect your frequently used commands into a command ﬁle (see Section 14.3).</li>
<li><strong>Technique4</strong> Manipulate counters, integers—for instance, equation numbers and sectionnumbers—and length commands, distance measurements—the <code>\voffset</code> command is an example (see Section 14.5).</li>

<li><p><strong>Technique5</strong> Create customized list environments with the list environment (see Section 14.6).</p></li>

<li><p><strong>技术1：</strong>定义命令和环境，以增强LATEX来满足您的特殊需求(参见14.1、14.1.7和14.2节)。</p></li>

<li><p><strong>技术2：</strong>使用分隔命令以更可读的方式编写LATEX文档(参见14.1.9节)。</p></li>

<li><p><strong>技术3：</strong>将您经常使用的命令收集到一个命令文件中(参见14.3节)。</p></li>

<li><p><strong>技术4：</strong>例如，处理计数器、整数(例如，等式数和扇区数)和长度命令、距离度量——<code>\voffset</code>命令就是一个例子(参见14.5节)。</p></li>

<li><p><strong>技术5：</strong>使用列表环境创建自定义列表环境(参见14.6节)。</p></li>
</ul>

<p>Of course, there are many more reasons to customize and many more techniques to employ. We cover them in detail in this chapter. We dedicate the last section to the pitfalls of customization (see Section 14.7). While the beneﬁts of customization are great, there are many practices to avoid.</p>

<p>当然，还有更多的原因需要定制，还有更多的技术需要使用。我们将在本章详细讨论它们。最后一节专门讨论定制的缺陷(参见14.7节)。虽然定制的好处很多，但是有很多实践是需要避免的。</p>

<h3 id="14-1-custom-commands">14.1 Custom commands</h3>

<p>LATEX provides hundreds of commands. Chances are good, however, that you still have speciﬁc needs that are not directly addressed by these commands. By judiciously adding custom commands (or macros) you can make your work more productive. Custom commands follow the same rules as regular LATEX commands (see Section 3.3.1).</p>

<p>LATEX提供了数百个命令。然而，很有可能您仍然有一些特定的需求，而这些需求并没有通过这些命令直接得到解决。通过明智地添加自定义命令(或宏)，您可以使工作更高效。自定义命令遵循与常规LATEX命令相同的规则(参见第3.3.1节)。</p>

<h4 id="14-1-1-examples-and-rules">14.1.1 Examples and rules</h4>

<p>Commandstoenhancereadability
Let us start with a few examples of custom commands as shorthand for longer command(s) or text in order to enhance readability of the source ﬁle (Goal 1).
1. If you use the \leftarrow command a lot, you could deﬁne
\newcommand{\larr}{\leftarrow}
Then you would only have to type \larr to obtain a left arrow.
2. Instead of
\widetilde{a}</p>

<p>you could simply type \wtilda after deﬁning
\newcommand{\wtilda}{\widetilde{a}}
I show you how to deﬁne a generalized version of such a command in Section 14.1.2.
3. If you want to suppress the ligature in iff (see Section 3.4.6), you would normally have to type
if\textcompwordmark f
By deﬁning a command \Iff,
\newcommand{\Iff}{if\textcompwordmark f} you can type \Iff to get iff. We name this command \Iff because \iff is the symbol ⟺ (see Section A.4). 4. If you use the construct 𝐷[2] × 𝐷[3] often, you could introduce the \DxD (𝐷 times 𝐷) command,
\newcommand{\DxD}{D^{[2]}\times D^{[3]}}
and then type \DxD instead of the longer, and hard to read, version throughout your document—serves also Goal 2.
5. If you want to get a backslash in typewriter style, you would normally have to type (see Section 3.4.4)
\texttt{\symbol{92}}
Instead, you can introduce the \bsl command,
\newcommand{\bsl}{\texttt{\symbol{92}}}
and \bsl typesets as .
6. You can also use commands as a shorthand for text. For instance, if you use the phrase subdirectly irreducible many times in your document, you could deﬁne
\newcommand{\subdirr}{subdirectly irreducible}
\subdirr is now shorthand for subdirectly irreducible, which typesets as subdirectly irreducible.
Tip With modern editors, the need to have custom commands as shorthand is reduced. Most editors have “command completion” or “phrase completion”. For instance, in TeXShop, type the ﬁrst few letters of a word and hit the escape key. The remaining</p>

<p>lettersareenteredtomatchtheﬁrstentryinthecompletiondictionary. Hittingescape again cycles through all possible completions. To make this feature useful, you have to customize the completion dictionary. Note that command completion minimizes the number of characters you have to type, but it does not improve the readability of the source.
Rule Customcommands 1. Issue the \newcommand command.
2. In braces, type the name of your new command, for example, \subdirr, including the backslash ().
3. In a second pair of braces, deﬁne the command, in this example, subdirectly irreducible.
4. Use the command as \subdirr\␣ or \subdirr{} before a space, before an alphabetical character as \subdirr{}, and \subdirr otherwise.
Examples for Rule 4. For subdirectly irreducible lattice type
\subdirr{} lattice
or
\subdirr\ lattice and not \subdirr lattice. Indeed, typesetting \subdirr lattice results in subdirectly irreduciblelattice. By the ﬁrst spacing rule, \subdirr␣lattice is not any better (see Section 3.2.1). If you want subdirectly irreducibles, you must use the \subdirr{} form. Indeed, \subdirr{}s typesets as subdirectly irreducibles.
Usingnewcommands
It is good practice to place custom commands in the preamble of your document or in a command (style) ﬁle you load with a \usepackage command (see Section 14.3)— provided that you do not submit to a journal that does not allow this. Then you always know where to look for the command deﬁnitions. An exception is a custom command that you want to restrict to a part of the document. Delimit the segment with braces and deﬁne the custom command within those braces (see Section 3.3.2). Instead of a pair of braces, you can use \begingroup and \endgroup, which is easier to see. Section 14.2.5 recommends yet another approach.</p>

<p>Tip
If errors occur, isolate the problem. Comment out the custom commands and reintroduce them one at a time.
L ATEX only checks whether the braces match in the command deﬁnition. Other mistakes are found only when the command is used.
For instance, if you deﬁne a command with a spelling error
\newcommand{\bfA}{\textf{A}}
then at the ﬁrst use of \bfA you get the message
! Undefined control sequence. \bfA -&gt;\textf {A}
Note that L ATEX is not complaining about \bfA but about the misspelled \textbf command in the deﬁnition of \bfA. Be careful not to deﬁne a custom command with a name that is already in use. If you do, you get a message such as
! LaTeX Error: Command \larr already defined.
To correct the error, replace the command name with a new one. On the other hand, if you need to replace an existing command, you have to redeﬁne it. See Section 14.1.5 for how to do so.
Tip Use spaces to make your source ﬁles more readable, but avoid them in deﬁnitions.
For example, you may type
$D^{ \langle 2 \rangle } + 2 = x^{\mathbf{a} }$
This may help you see how the braces match, easily identify relations and operations, and so on. Donotaddthesespacesincommanddeﬁnitionsbecause it may result in unwanted spaces in your typeset document. You may start a new line to increase the readability of a command deﬁnition, provided that you terminate the previous line with %. For instance, borrowing an example from page 370:
\newcommand{\Xquotphi}[2]{% \dfrac{\varphi \cdot X<em>{n, #1}}% {\varphi</em>{#2}\times \varepsilon_{#1}}}</p>

<p>Tip In the deﬁnition of a new command, command declarations need an extra pair of braces (see Section 3.3.3).
Say you want to deﬁne a command that typesets the warning: Do not redeﬁne this variable! It is very easy to make the following mistake:
\newcommand{\Warn}{\em Do not redefine this variable!}
\Warntypesets the warning emphasized, but everything that follows the warning is also emphasized (more precisely, until the end of the \Warn command’s scope). Indeed, \Warn is replaced by \em Do not redefine this variable! so the eﬀect of \em goes beyond the sentence to the next closing brace. The correct deﬁnition is
\newcommand{\Warn}{{\em Do not redefine this variable!}}
Even simpler, you could use a command with an argument
\newcommand{\Warn}{\emph{Do not redefine this variable!}}
Tip There are limits as to what can be done with custom commands. For instance, you cannot introduce \bal for \begin{align} and \eal for \end{align}. So if you want to introduce a new type of custom command, do just one and try it out.
Thexspacepackage
Rule4(onpage364)isthesourceofmanyannoyingproblemsinL ATEX. DavidCarlisle’s xspace package (see Section 10.3.1) helps eliminate such problems. In the preamble, load the package with
\usepackage{xspace}
Whenever you deﬁne a command that may have such problems, add the \xspace command to the deﬁnition. For instance, deﬁne \subdirr as
\newcommand{\subdirr}{subdirectly irreducible\xspace}
Then all the following typesets subdirectly irreducible lattice correctly:
\subdirr\␣lattice \subdirr{}␣lattice \subdirr␣lattice</p>

<p>Note that \xspace does not add space if followed by a punctuation mark, so to get
the lattice is subdirectly irreducible.
type the lattice is \subdirr.
Tip Be careful not to use \xspace twice in a deﬁnition.
For instance, if you deﬁne \newcommand{\tex}{\TeX\xspace} \newcommand{\bibtex}{\textsc{Bib}\kern-.1em\tex\xspace}% Bad!!!
then \bibtex, followed by a comma
typesets as
BibTEX , followed by a comma
The correct deﬁnitions are \newcommand{\tex}{\TeX\xspace} \newcommand{\bibtex}{\textsc{Bib}\kern-.1em\TeX\xspace}% Correct! Of course, if you want to get TEXbook, you cannot use the \xspace variant deﬁnition: \tex.
Ensuringmath
The \ensuremath command is useful for deﬁning commands for both text and math mode. Suppose you want to deﬁne a command for 𝐷⟨2⟩. If you deﬁne it as \newcommand{\Dsq}{D^{\langle2\rangle}}
then you can use the command in math mode, but not in text mode. If you deﬁne it as \newcommand{\Dsq}{$D^{\langle2\rangle}$}
then it works in text mode, but not in math mode. Instead, deﬁne this command as \newcommand{\Dsq}{\ensuremath{D^{\langle2\rangle}}} Then \Dsq works correctly in both contexts.</p>

<p>This example also shows the editorial advantages of custom commands. Suppose the referee suggests that you change the notation to 𝐷[2]. To carry out the change you only have to change one line: \newcommand{\Dsq}{\ensuremath{D^{[2]}}} Itishardtooveremphasizetheimportanceofthisexample. You may want to change notation because:
you found a better notation;
your coauthor insists;
your article appears in a conference proceedings, and the editor wants to unify the notation;
you are reusing the code from this article in another one or in a book, where the notation is diﬀerent. See also the discussion of the \TextOrMath command on page 293.</p>

<h4 id="14-1-2-arguments">14.1.2 Arguments</h4>

<p>Arguments of custom commands work the same way as for L ATEX commands (see page 52). Deﬁne \newcommand{\fsqAB}{(f^2)^{[[\frac{A^2}{B-1}]]}} Then \fsqAB typesets as (𝑓2)[[ 𝐴 2 𝐵−1]] in a math formula. If you want to use \fsqAB in math and also by itself in text, deﬁne it with \ensuremath, as \newcommand{\fsqAB}{\ensuremath{(f^2)^ {[[\frac{A^2}{B-1}]]}}}
However, if you use this construct for many functions 𝑓, then you may need a generalized command, such as \newcommand{\sqAB}[1]{\ensuremath{(#1^2)^ {[[\frac{A^2}{B-1}]]}}} Now \sqAB{g} typesets (𝑔2)[[ 𝐴 2 𝐵−1]]. The form of this \newcommand is the same as before, except that after the name of the command in braces, {\sqAB}, we specify the number of arguments in brackets (in this example, [1]). Then we can use #1 in the deﬁnition of the command. When the command is invoked, the argument you provide replaces #1 in the deﬁnition. Typing $\sqAB{q}$ results in the formula (𝑞2)[[ 𝐴 2 𝐵−1]], while $\sqAB{r}$ gives (𝑟2)[[ 𝐴 2 𝐵−1]]. Notice how these examples disrupt the normal spacing between lines—a practice to avoid!</p>

<p>A custom command may have up to nine arguments, numbered 1–9. The simplest examples just allow you to invoke an existing command under a new name. For instance, the \eqref command introduced in Section 5.3 to reference equations (the equation number upright, enclosed in parentheses), would also be useful to reference items for the custom list environment enumeratei introduced in Section 14.2.1—see Example 3. Indeed, for the enumeratei environment, we want references to items to be typeset upright, enclosed in parentheses. So if the ﬁrst item has labelFirst, we could reference it with\eqref{First}, which typesets as(i). But \eqref{First} seems awkward and inappropriate; we are referencing an item not an equation. So deﬁne
\newcommand{\itemref}[1]{\eqref{#1}} and now we can reference the ﬁrst item with \itemref{First}, which typesets as (i). Following are some simple examples of custom commands with arguments.
1. In the preamble of the source ﬁle for this book, I deﬁned
\newcommand{\env}[1]{\textnormal{\texttt{#1}}}
In this example, the \env command is used to typeset environment names. So the environment name center is typed as
\env{center}
Again the editorial advantage is obvious. If the editor wants the environment names set in sans serif, only one line in the book has to be changed to alter every occurrence of a typeset environment name:
\newcommand{\env}[1]{\textsf{#1}}
2. An argument (e.g., #1) may occur more than once in a deﬁnition. A natural example is provided by the \index command (see Section 16.1). Typically, if you wanted to include a phrase, say subdirectly irreducible lattice, in your index, you would have to type
this proves that $L$ is a subdirectly irreducible lattice
You could instead deﬁne an “index it” command such as
\newcommand{\indexit}[1]{#1\index{#1}}
The argument of this command is a phrase to be both typeset and included in the index. Using this command, you can type
it is a \indexit{subdirectly irreducible lattice}</p>

<p>If you want all such index entries to be typeset in italics, then \indexit should be deﬁned as
\newcommand{\indexit}[1]{#1\index{#1@\textit{#1}}}
in which #1 occurs three times. (See Chapter 16 for more information about index commands.)
3. Let us deﬁne a command with three arguments for congruences:
\newcommand{\congr}[3]{#1\equiv#2\pod{#3}} Now type $\congr{a}{b}{\theta}$ to typeset 𝑎 ≡ 𝑏 (𝜃). In Section 14.1.9, I present another command for typesetting congruences.
4. In the secondarticle.tex article (see Section 9.3), there are a lot of vectors with only one nonzero entry: ⟨ …,0,…, 𝑖 𝑑,…,0,… ⟩ the 𝑖 above the 𝑑 indicates that it is the 𝑖th component of the vector. A command \vectsup, a vector with a superscript, producing this symbol can be deﬁned as
\newcommand{\vectsup}[2]{\langle\dots,0,\dots, \overset{#1}{#2},\dots,0,\dots\rangle}
\vectsup{i}{d} in a math formula now produces
⟨
…,0,…,
𝑖 𝑑,…,0,…
⟩
.
Formula 20 of the FormulaGallery (Section 5.10),
𝐀 =
⎛ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎜ ⎝
𝜑 ⋅ 𝑋𝑛,1 𝜑1 × 𝜀1
(𝑥 + 𝜀2)2 ⋯ (𝑥 + 𝜀𝑛−1)𝑛−1 (𝑥 + 𝜀𝑛)𝑛
𝜑 ⋅ 𝑋𝑛,1 𝜑2 × 𝜀1
𝜑 ⋅ 𝑋𝑛,2 𝜑2 × 𝜀2 ⋯ (𝑥 + 𝜀𝑛−1)𝑛−1 (𝑥 + 𝜀𝑛)𝑛 ................................................... 𝜑 ⋅ 𝑋𝑛,1
𝜑 𝑛 × 𝜀1
𝜑 ⋅ 𝑋𝑛,2
𝜑 𝑛 × 𝜀2 ⋯
𝜑 ⋅ 𝑋𝑛,𝑛−1
𝜑 𝑛 × 𝜀𝑛−1
𝜑 ⋅ 𝑋𝑛,𝑛
𝜑 𝑛 × 𝜀𝑛
⎞ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎟ ⎠
+𝐈𝑛
is a good candidate for custom commands. By deﬁning
\newcommand{\Xquotphi}[2]{% \dfrac{\varphi \cdot X<em>{n, #1}}% {\varphi</em>{#2}\times \varepsilon<em>{#1}}} \newcommand{\exn}[1]{(x+\varepsilon</em>{#1})^{#1}}
the two new commands, [ \Xquotphi{2}{3} \qquad \exn{n} ]</p>

<p>are typeset as
𝜑 ⋅ 𝑋𝑛,2 𝜑3 × 𝜀2
(𝑥 + 𝜀𝑛)𝑛
With these custom commands, you can rewrite Formula 20 as follows:
[
\mathbf{A} = \begin{pmatrix} \Xquotphi{1}{1} &amp; \exn{2} &amp; \cdots &amp; \exn{n - 1}+ &amp; \exn{n}\[10pt] \Xquotphi{1}{2} &amp; \Xquotphi{2}{2} &amp; \cdots &amp; \exn{n - 1} &amp;\exn{n}\ \hdotsfor{5}\ \Xquotphi{1}{n} &amp; \Xquotphi{2}{n} &amp; \cdots &amp; \Xquotphi{n - 1}{n} &amp; \Xquotphi{n}{n} \end{pmatrix} + \mathbf{I}_{n} ] Observe how much shorter this form is than the version shown in the Formula Gallery and how much easier it is to read. It is also easier to reuse in a subsequent article.</p>

<h4 id="14-1-3-short-arguments">14.1.3 Short arguments</h4>

<p>There are three ways of deﬁning new commands:
\newcommand \renewcommand \providecommand
We take up the last two in Section 14.1.5. They deﬁne commands that can take any number of paragraphs as arguments. The*-ed versions of these commands deﬁneshort commands (see Section 3.3.3) that take a block of text that contains no paragraph break as an argument. For instance,
\newcommand{\bigbold}[1]{{\large\bfseries#1}}
makes its argument large and bold. So
\bigbold{First paragraph.
Second paragraph.
}
prints</p>

<p>First paragraph. Second paragraph.
as expected. On the other hand, if you deﬁne
\newcommand*{\bigbold}[1]{{\large\bfseries#1}}
and then attempt to typeset the previous example, you get the message
Paragraph ended before \bigbold was complete. <to be read again> \par \par \par
Short commands are often preferable because of their improved error checking.</p>

<h4 id="14-1-4-optional-arguments">14.1.4 Optional arguments</h4>

<p>You can deﬁne a command whose ﬁrst argument isoptional,and provide adefaultvalue for this optional argument. To illustrate, let us deﬁne the command
\newcommand{\SimpleSum}{a<em>{1}+a</em>{2}+\dots+a<em>{n}}
$\SimpleSum$ now produces 𝑎1+𝑎2+⋯+𝑎𝑛. Now we change this command so that we can sum from 1 to 𝑚 if necessary, with 𝑛 as the default:
\newcommand{\BetterSum}[1][n]{a</em>{1}+a<em>{2}+\dots+a</em>{#1}}
$\BetterSum$ still produces 𝑎1 + 𝑎2 + ⋯ + 𝑎𝑛, but $\BetterSum[m]$ typesets as 𝑎1 + 𝑎2 +⋯+ 𝑎𝑚. A\newcommandmay have up to nine arguments, butonlytheﬁrstmay be optional. The following command has two arguments, one optional:
\newcommand{\BestSum}[2][n]{#2<em>{1}+#2</em>{2}+\dots+#2_{#1}}
Now
$\BestSum{a}$ typesets as 𝑎1 + 𝑎2 +⋯+ 𝑎𝑛 $\BestSum{b}$ typesets as 𝑏1 + 𝑏2 +⋯+ 𝑏𝑛 $\BestSum[m]{c}$ typesets as 𝑐1 + 𝑐2 +⋯+ 𝑐𝑚</p>

<h4 id="14-1-5-redefining-commands">14.1.5 Redefining commands</h4>

<p>L ATEX makes sure that you do not inadvertently deﬁne a new command with the same name as an existing command (see, for example, page 365). Assuming that you have already deﬁned the \larr command as in Section 14.1.1 (to typeset ←), to redeﬁne \larr, use\renewcommand: \renewcommand{\larr}{\Longleftarrow} and now \larr typesets as ⟸.
Tip Use the \renewcommand command sparingly and make sure that you understand the consequences of redeﬁning an existing command. Redeﬁning L ATEX commands may cause L ATEX to behave in unexpected ways, or even crash. Blind redeﬁnition is the route to madness.
See also the discussion in Section 14.7. You can also use \renewcommand to redeﬁne commands deﬁned by L ATEX or any package. For instance, the end of proof symbol, \qedsymbol, used by theproof environment, can be changed to the solid black square some people prefer (deﬁned in the amssymb package) with the command \renewcommand{\qedsymbol}{$\blacksquare$}
Even better, deﬁne \renewcommand{\qedsymbol}{\ensuremath{\blacksquare}} so that you can use \qedsymbol in both text and math mode. Section 14.1.7 has more on redeﬁning names. \renewcommand has a companion, \providecommand. If the command it defines has already been deﬁned, the original command is left unchanged. Otherwise, the \providecommand command acts exactly like \newcommand. For instance, the \bysamecommand(seeSection8.5.1, page250)isdeﬁnedinsomedocumentclassesas
\newcommand{\bysame}{\makebox[3em]{\hrulefill}\thinspace} If you want to use the \bysame command in your bibliography and include this deﬁnition in your document, L ATEX generates a message when you typeset your document using a document class that already deﬁnes \bysame (all AMS document classes do). However, if you deﬁne \bysame in your document using \providecommand: \providecommand{\bysame}% {\makebox[3em]{\hrulefill}\thinspace} the \bysame command typesets correctly whether or not the document class deﬁnes it.</p>

<h4 id="14-1-6-defining-operators">14.1.6 Defining operators</h4>

<p>The powerful \DeclareMathOperator command deﬁnes a new operator:
\DeclareMathOperator{\opCommand}{opName}
Invoke the new operator with \opCommand, which is then typeset with opName.
Rule The \DeclareMathOperator command must be placed in the preamble.
For example, to deﬁne the operator Truncat, invoked by the command \Trunc, place this in the preamble:
\DeclareMathOperator{\Trunc}{Truncat}
An operator is typeset in math roman with a little space after it, so$\Trunc A$typesets as Truncat 𝐴. The second argument is typeset in math mode but-and<em>are typeset as they would be in text. Here are some more examples. Deﬁne in the preamble two operators:
\DeclareMathOperator{\Trone}{Trunc_{1}} \DeclareMathOperator{\Ststar}{Star-one</em>}
Then in the body of the article $\Trone A$ is typeset as Truncat1 𝐴 $\Ststar A$ is typeset as Star−one∗𝐴 To deﬁne an operator with limits, use the <em>-ed form
\DeclareMathOperator</em>{\doublesum}{\sum\sum}
and then (see Section 5.6.4 for multiline subscripts)
[
\doublesum_{\begin{subarray}{l} i^2+j^2 = 50\ i,\ j \leq 10 \end{subarray}} \frac{x^i + y^j}{(i + j)!}
]
typesets as
∑∑ 𝑖2+𝑗2=50 𝑖, 𝑗≤10
𝑥
𝑖 + 𝑦𝑗 (𝑖 + 𝑗)!</p>

<h4 id="14-1-7-redefining-names">14.1.7 Redefining names</h4>

<p>A number of names, such as Table, List of Tables, Abstract, and so on, are typeset in your document by L ATEX. You can easily change these names. Forinstance, ifyouarepreparingyourmanuscriptfortheproceedingsofameeting, and Abstract has to be changed to Summary, you can do so with
\renewcommand{\abstractname}{Summary}
Table 14.1 lists the commands that deﬁne such names in various document classes, along with their default deﬁnitions and the major document classes using the commands. Itiseasytocheckwhetheryourdocumentclassdeﬁnessuchacommand, simply open the appropriate cls ﬁle and search for the command. If your document has photographs rather than ﬁgures, you could redeﬁne
\renewcommand{\figurename}{Photograph} \renewcommand{\listfigurename}{List of Photographs}</p>

<h4 id="14-1-8-showing-the-definitions-of-commands">14.1.8 Showing the definitions of commands</h4>

<p>If you are deﬁning a new command with \newcommand and an error message informs you that the command name is already in use, then it may be useful to ﬁnd out the existing deﬁnition of the command. For instance, the \vectsup command is deﬁned insecondarticleccom.tex(inthesamplesfolderandinSection14.4). Ifyoucalled this new command \vec, you would get the message
! LaTeX Error: Command \vec already defined.
You can ﬁnd out the deﬁnition of the \vec command by getting into interactive mode (see Section C.3) and typing
<em>\show \vec
L ATEX responds with
&gt; \vec=macro: -&gt;\mathaccent &quot;017E . &lt;</em>&gt; \show \vec
informingyouthat\vecisacommand, and, speciﬁcally, amathaccent(seeSections5.7 and A.8). Now try \hangafter (see Section 3.7.2):
*\show \hangafter
&gt; \hangafter=\hangafter.</p>

<p>Command Default Value \abstractname Abstract aa, ab, ap, a, p, r \appendixname Appendix aa, ab, ap, a, b, r \bibname Bibliography ab, b, r \ccname Cc l \chaptername Chapter ab, b, r \contentsname Contents aa, ab, ap, a, b, r \datename Date aa, ab, ap \enclname Enclosure l \figurename Figure aa, ab, ap, a, b, r \headtoname To l \indexname Index aa, ab, ap, a, b, r \keywordsname Key words and phrases aa, ab, ap \listfigurename List of Figures aa, ab, ap, a, b, r \listtablename List of Tables aa, ab, ap, a, b, r \pagename Page l, p \partname Part aa, ab, ap, a, b, r \proofname Proof aa, ab, ap \refname References aa, ap, a \see see aa, ab, ap \seealso see also aa, ab, ap \subjclassname 1991 Mathematics Subject Classiﬁcation aa, ab, ap \subjclassname[2010] 2010 Mathematics Subject Classiﬁcation aa, ab, ap \tablename Table aa, ab, ap, a, b, r
Document class codes: aa amsart, abamsbook, apamsproc, a article,bbook,lletter,pproc, and r report
Table 14.1: Redeﬁnable name commands in L ATEX.
The response indicates that \hangafter is a primitive, deﬁned by TEX itself. Redeﬁning a primitive is not a good idea. Try one more command, \medskip (see Section 3.8.2), to ﬁnd out how large it is:
*\show \medskip &gt; \medskip=macro: -&gt;\vspace \medskipamount .</p>

<p>The third line indicates that the length is stored in \medskipamount. If we use\show to ask what \medskipamount is deﬁned to be: *\show \medskipamount &gt; \medskipamount=\skip14. we do not get a very useful answer. \medskipamount is unlike most of the commands you have seen so far. It is alengthcommand (see Section 14.5.2), containing the value of \medskip. You can ask for the value of a length command (or parameter) with the \showthe command: *\showthe \medskipamount
&gt; 6.0pt plus 2.0pt minus 2.0pt. So \medskip is a vertical space of 6 points that can stretch or shrink by up to 2 points. L ATEX has many registers that contain numbers: counters containing integers, such as 3
dimensions such as 10.2pt, for example, \textwidth (see Section 8.6) lengths, written in the form 6.0pt plus 2.0pt minus 2.0pt, also called a glue or a rubberlength (see Sections 14.5.2 and C.2.2)
Use the \showthe command to display the value for any of these registers. You can also type the \show and \showthe commands directly into your document rather than go into interactive mode. L ATEX’s response appears in thelogwindow, and is saved into the log ﬁle.</p>

<h4 id="14-1-9-delimited-commands">14.1.9 Delimited commands</h4>

<p>You can deﬁne new commands in TEX using characters and symbols to delimit arguments. Such delimited commands provide a way to write more readable source documents. First we have to learn how to deﬁne a command using TEX’s\defcommand. Type \def, followed by the new command name (not in braces), then the deﬁnition in braces. For example, the ﬁrst command deﬁned in Section 14.1.1, \newcommand{\larr}{\leftarrow}
could be typed \def\larr{\leftarrow} TEX’s \def command does not check whether a new command name is already in use, so \def behaves diﬀerently from the L ATEX’s \newcommand, \renewcommand, and \providecommand (see Section 14.1.5). If the \larr command was deﬁned previously, the original deﬁnition is overwritten.</p>

<p>Tip It is your responsibility to ensure that your command name is unique when you deﬁne a command using \def.L ATEX provides no protection. Use the techniques introduced in Section 14.1.8 to check a name before you deﬁne a command with \def.
Now we can start discussing delimited commands with a simple example, deﬁning a command for vectors: \def\vect&lt;#1&gt;{\langle#1\rangle} Note that \vect is a command with one argument, #1. When invoked, it typesets ⟨ , the argument, and then ⟩ . In the deﬁnition of \vect, the argument #1 is delimited by &lt; and &gt;. When the command is invoked, the argument must be delimited the same way. So to typeset the vector ⟨ 𝑎, 𝑏 ⟩ , we invoke\vect with \vect<a,b> This looks somewhat like a vector, and the name \vect serves as a reminder. You have to be careful with delimited commands because the math spacing rules (see Section 5.2) do not hold in either the deﬁnition or the invocation. So if there is a space before #1, in the deﬁnition of \vect, \def\vect&lt; #1&gt;{\langle#1\rangle} then $\vect<a,b>$ results in the message ! Use of \vect doesn’t match its definition. l.12 $\vect<a ,b>$ which is clear enough. If the space is on the other side of the #1, as in \def\vect&lt;#1 &gt;{\langle#1\rangle}
the message is slightly more confusing: Runaway argument? a,b&gt;$ ! Paragraph ended before \vect was complete. <to be read again> \par
The moral is that if you use delimited commands, you must be very careful that each invocation exactly matches the deﬁnition. /Users/gratzer-new/Dropbox/MiL5/Sample ﬁles/newlattice.sty In Example 3 of Section 14.1.2, we introduced a command with three arguments for typing congruences: \newcommand{\congr}[3]{#1\equiv#2\pod{#3}}</p>

<p>$\congr{a}{b}{\theta}$ produces 𝑎 ≡ 𝑏 (𝜃). This command is easy to remember, but it does not make the source ﬁle more readable. For that, we use a delimited command. Let us redo the congruence example with a delimited command \def\congr#1=#2(#3){#1\equiv#2\pod{#3}} so that $\congr a=b(\theta)$ produces 𝑎 ≡ 𝑏 (𝜃). In the source document, the formula \congr a=b(\theta) looks a bit like the typeset congruence and it is easier to read. I included this deﬁnition in the newlattice.sty command ﬁle (see Section 14.3). There is only one catch. Suppose you want to typeset the formula 𝑥 = 𝑎 ≡ 𝑏 (𝜃) If you type $\congr x=a=b(\theta)$,L ATEX typesets it as 𝑥 ≡ 𝑎 = 𝑏 (𝜃). Indeed, x is delimited on the right by the ﬁrst =, so L ATEX believes that the ﬁrst argument is x. The second argument is delimited by the ﬁrst = and the left parenthesis, so it is a=b. In such cases, you can help L ATEX ﬁnd the correct ﬁrst argument by enclosing it in braces: $\congr{x=a}=b(\theta)$
Here is our ﬁnal example. In Section 3.3.1 we discuss the problem of typing a command such as \TeX (the example there was \today) in the form\TeX\␣ so that it is typeset as a separate word. The problem is that if you type \TeX without the trailing \␣, TEX is merged with the next word, and there is no message to warn you. One solution is to use a delimited command: \def\tex/{\TeX} Now to get TEX, type \tex/. If a space is needed after it, type \tex/␣. If you forget the closing /, you get a message. A better solution to this problem is the use of the xspace package—provided you do not want to typeset something like TEXbook (see Section 14.1.1). However, many documents use the delimited construct (including the AMS documentation), so you should be familiar with it.</p>

<h3 id="14-2-custom-environments">14.2 Custom environments</h3>

<p>Most custom commands are new commands. Customenvironments, as a rule, are built on existing environments. We start with such custom environments (Section 14.2.1) and then proceed to investigate
arguments (Section 14.2.2)
optional arguments (Section 14.2.3)
short arguments (Section 14.2.4)
Finally, we discuss how to deﬁne brand-new environments (Section 14.2.5).</p>

<h4 id="14-2-1-modifying-existing-environments">14.2.1 Modifying existing environments</h4>

<p>If you do not like the name of the proof environment and would prefer to use the name demo, deﬁne
\newenvironment{demo} {\begin{proof}} {\end{proof}}
Notethatthisdoesnotchangehowtheenvironmentistypeset, onlythewayitisinvoked. To modify an existing environment, oldenv, type
\newenvironment{name} {begin_text} {end_text}
wherebegin_text containsthecommand\begin{oldenv}andend_text contains the command \end{oldenv}.
Tip Do not give a new environment the name of an existing command or environment.
For instance, if you deﬁne
\newenvironment{parbox} {...} {...}
you get the message
! LaTeX Error: Command \parbox already defined.
If there is an error in such a custom environment, the message generated refers to the environment that was modiﬁed, not to your environment. For instance, if you misspell proof as prof when you deﬁne
\newenvironment{demo} {\begin{prof}} {\end{proof}} then attheﬁrstuse of the demo environment you get the message
! LaTeX Error: Environment prof undefined.
l.13 \begin{demo}</p>

<p>If you deﬁne
\newenvironment{demo} {\begin{proof}\em} {\end{prof}}
at the ﬁrst use of demo you get the message
! LaTeX Error: \begin{proof} on input line 5 ended by \end{prof}. l.14 \end{demo}
Here are four more examples of modiﬁed environments.
1. The command
\newenvironment{demo} {\begin{proof}\em} {\end{proof}}+
deﬁnes a demo environment that typesets an emphasized proof. Note that the scope of \em is the demo environment.
2. The following example deﬁnes a very useful environment. It takes an argument to be typeset as the name of a theorem:
\newtheorem*{namedtheorem}{\theoremname} \newcommand{\theoremname}{testing} \newenvironment{named}[1]{ \renewcommand{\theoremname}{#1} \begin{namedtheorem}} {\end{namedtheorem}}
For example,
\begin{named}{Name of the theorem} Body of theorem. \end{named}
produces Nameofthetheorem. Bodyoftheorem. inthestyleappropriateforthe\newtheorem*declaration. Thistypeofenvironment is often used to produce an unnumberedMainTheorem(see Section 14.4) or when typesetting an article or book in which the theorem numbering is already ﬁxed, for instance, when publishing a book in L ATEX that was originally typeset by another typesetting system.</p>

<ol>
<li>In Sections 4.2.4 and 10.3.1, we came across the enumerate package, which allows you to customize theenumerateenvironment. If theenumeratepackage is loaded, you can invoke the enumerate environment with an optional argument specifying how the counter should be typeset, for instance, with the option [\upshape (i)],
\begin{enumerate}[\upshape (i)] \item First item\label{First} \end{enumerate} items are numbered (i), (ii), and so on. So now we deﬁne
\newenvironment{enumeratei}{\begin{enumerate}% [\upshape (i)]}% {\end{enumerate}}
and we can invoke the new environment with (see Sections 14.3 and 14.4)
\begin{enumeratei} \item \label{ } \end{enumeratei}
Reference itemsintheenumerateienvironment with the\itemrefcommand introduced in Section 14.1.2.</li>
<li>If you want to deﬁne an environment for displaying text that is numbered as an equation, you might try
\newenvironment{texteqn} {\begin{equation} \begin{minipage}{0.9\linewidth}} {\end{minipage} \end{equation}}
But there is a problem. If you use this environment in the middle of a paragraph, an interword space appears at the beginning of the ﬁrst line after the environment. To remove this unwanted space, use the\ignorespacesafterendcommand, as in
\newenvironment{texteqn} {\begin{equation} \begin{minipage}{0.9\linewidth}} {\end{minipage} \end{equation} \ignorespacesafterend}
Examples 2 and 3 are included in the newlattice.sty command ﬁle (see Section 14.3). See the sample article,secondarticleccom.texin Section 14.4, for some instances of their use. See Section 14.6.3 for custom lists as custom environments. Redeﬁne an existing environment with the \renewenvironment command. It is similar to the \renewcommand command (see Section 14.1.5). There are some environments you cannot redeﬁne; for instance, verbatim and all the AMS multiline math environments.</li>
</ol>

<h4 id="14-2-2-arguments">14.2.2 Arguments</h4>

<p>An environment deﬁned by the \newenvironment command can take arguments (see Example 2 in Section 14.2.1), but they can only be used in the begin_text argument of the \newenvironment command. Here is a simple example. Deﬁne a theorem proclamation in the preamble (see Section 4.4), and then deﬁne a theorem that can be referenced:
\newenvironment{theoremRef}[1] {\begin{theorem}\label{T:#1}} {\end{theorem}}
This is invoked with
\begin{theoremRef}{label} The theoremRef environment is a modiﬁed environment. It is a theorem that can be referenced (with the \ref and \pageref commands, of course) and it invokes the theorem environment when it deﬁnes T:label to be the label for cross-referencing.</p>

<h4 id="14-2-3-optional-arguments-with-default-values">14.2.3 Optional arguments with default values</h4>

<p>The ﬁrst argument of an environment created with the \newenvironment command may be anoptionalargumentwithadefaultvalue. For example, \newenvironment{narrow}[1][3in] {\noindent\begin{minipage}{#1}} {\end{minipage}} creates a narrow environment. By default, it sets the body of the environment in a 3-inch wide box, with no indentation. So
\begin{narrow} This text was typeset in a \texttt{narrow} environment, in a 3-inch wide box, with no indentation. \end{narrow}
typesets as
This text was typeset in a narrow environment, in a 3-inch wide box, with no indentation.
You can also give an optional argument to specify the width. For example,
\begin{narrow}[3.5in] This text was typeset in a \texttt{narrow} environment, in a 3-inch wide box, with no indentation. \end{narrow}</p>

<p>which produces the following false statement:
This text was typeset in a narrow environment, in a 3-inch wide box, with no indentation.</p>

<h4 id="14-2-4-short-contents">14.2.4 Short contents</h4>

<p>We have discussed two commands that deﬁne new environments,
\newenvironment and \renewenvironment
These commands allow you to deﬁne environments whose contents (begin_text and end_text; see page 380) can include any number of paragraphs. The *-ed versions of these commands deﬁneshort environments whose contents cannot contain a paragraph break (a blank line or a \par command).</p>

<h4 id="14-2-5-brand-new-environments">14.2.5 Brand-new environments</h4>

<p>Some custom environments are not modiﬁcations of existing environments. Here are two examples:
1. A command remains eﬀective only within its scope (see Section 3.3.2). Now suppose that you want to make a change, say redeﬁning a counter, for only a few paragraphs. You could simply place braces around these paragraphs, but they are hard to see. So deﬁne \newenvironment{exception} {\relax} {\relax}
and then \begin{exception} new commands body \end{exception}
The environment stands out better than a pair of braces, reminding you later about the special circumstances. The \relax command does nothing, but it is customary to include a \relax command in such a deﬁnition to make it more readable.
2. In this example, we deﬁne a new environment that centers its body vertically on a new page: \newenvironment{vcenterpage} {\newpage\vspace<em>{\fill}} {\vspace</em>{\fill}\par\pagebreak} For \vspace, see Section 3.8.2 and for \fill, see the last subsection in Section 14.5.</p>

<h3 id="14-3-a-custom-command-file">14.3 A custom command file</h3>

<p>Custom commands, of course, are a matter of individual need and taste. I have collected some commands for writing papers in lattice theory in thenewlattice.styﬁle, which you can ﬁnd in the samples folder (see page 5). I hope that this model helps you to develop a command ﬁle of your own. Please remember that everything we discuss in this section is a reﬂection ofmywork habits. Many experts disagree with one or another aspect of the way I deﬁne the commands, so take whatever suits your needs. And keep in mind the dangers of customization discussed in Section 14.7.
Tip Some journals do not permit the submission of a separate custom command ﬁle. For such journals, just copy the needed custom commands into the preamble of the article.
This ﬁle is named newlattice.sty. It can be loaded with \usepackage. This has a number of advantages. Your command names should be mnemonic. If you cannot easily remember a command’s name, rename it. The implication here is that your command ﬁle should not be very large unless you have an unusual ability to recall abbreviations. Here are the ﬁrst few lines of the newlattice.sty command ﬁle:
% newlattice.sty % New command file for lattice papers \NeedsTeXFormat{LaTeX2e}[2011/01/30] \ProvidesPackage{newlattice}[2015/03/15 v1.6 Commands for lattices based on LTF] \RequirePackage{amsmath} \RequirePackage{amssymb} \RequirePackage{latexsym} \RequirePackage[mathscr]{eucal} \RequirePackage{verbatim} \RequirePackage{enumerate} \RequirePackage{xspace}
The line
\NeedsTeXFormat{LaTeX2e}[2005/12/01]
gives a message if a document loading the newlattice package is typeset with L ATEX 2.09 or with an older version of the standard L ATEX. The next line provides information that is written in your log ﬁle. The next seven lines declare what packages are required. If some of these packages have not yet been loaded, then the missing packages are loaded. A package already loaded is not read in again by \RequirePackage.</p>

<p>Being able to specify the packages we need is one of the great advantages of command ﬁles. When I write a document, the packages are there if I need them. You may want some justiﬁcation for the inclusion of two of these packages in this list. The verbatim package is on the list so that I can use the comment environment to comment out large blocks of text (see Section 3.5.1), which is useful for ﬁnding errors and typesetting only parts of a longer document—but do not forget to remove your comments before submission. The enumerate package is on the list because the enumeratei and enumeratea environments, deﬁned in newlattice.sty, require it. If you start your article with
\documentclass{amsart} \usepackage{newlattice} then the \listfiles command (see Section C.2.4) produces the following list when your document is typeset:
<em>File List</em> amsart.cls 2009/07/02 v2.20.1 amsmath.sty 2013/01/14 v2.14 AMS math features amstext.sty 2000/06/29 v2.01 amsgen.sty 1999/11/30 v2.0 amsbsy.sty 1999/11/29 v1.2d amsopn.sty 1999/12/14 v2.01 operator names umsa.fd 2013/01/14 v3.01 AMS symbols A amsfonts.sty 2013/01/14 v3.01 Basic AMSFonts support newlattice.sty 2011/07/14 Commands for lattices based on LTF fixltx2e.sty 2014/05/13 v1.1q fixes to LaTeX amssymb.sty 2013/01/14 v3.01 AMS font symbols latexsym.sty 1998/08/17 v2.2e Standard LaTeX package (lasy symbols) eucal.sty 2009/06/22 v3.00 Euler Script fonts verbatim.sty 2003/08/22 v1.5q LaTeX2e package for verbatim enhancements enumerate.sty 1999/03/05 v3.00 enumerate extensions (DPC) xspace.sty 2009/10/20 v1.13 Space after command names (DPC,MH) microtype.sty 2013/05/23 v2.5a Micro-typographical refinements (RS) keyval.sty 2014/05/08 v1.15 key=value parser (DPC) microtype-pdftex.def 2013/05/23 v2.5a Definitions specific to pdftex (RS) microtype.cfg 2013/05/23 v2.5a microtype main configuration file (RS) umsa.fd 2013/01/14 v3.01 AMS symbols A umsb.fd 2013/01/14 v3.01 AMS symbols B</p>

<p>ulasy.fd 1998/08/17 v2.2e LaTeX symbol font definitions mt-cmr.cfg 2013/05/19 v2.2 microtype config. file: Computer Modern Roman (RS) ***********
This provides a list of all packages already invoked. Now we continue with newlattice.sty. After the introductory section dealing with L ATEX and the packages, we deﬁne some commands for writing about lattices and sets: % Lattice operations \newcommand{\jj}{\TextOrMath{$\vee$\xspace}{\vee}} \newcommand{\mm}{\TextOrMath{$\wedge$\xspace}{\wedge}} \newcommand{\JJ}{\bigvee}% big join \newcommand{\MM}{\bigwedge}% big meet \newcommand{\JJm}[2]{\JJ(\,#1\mid#2\,)}% big join with a middle \newcommand{\MMm}[2]{\MM(\,#1\mid#2\,)}% big meet with a middle
% Set operations \newcommand{\uu}{\cup}% union \newcommand{\ii}{\cap}% intersection \newcommand{\UU}{\bigcup}% big union \newcommand{\II}{\bigcap}% big intersection \newcommand{\UUm}[2]{\UU(\,#1\mid#2\,)}% big union with a middle \newcommand{\IIm}[2]{\II(\,#1\mid#2\,)} % big intersection with a middle
% Sets \newcommand{\ci}{\subseteq}% contained in with equality \newcommand{\nc}{\nsubseteq}% not \ci \newcommand{\sci}{\subset}% strictly contained in \newcommand{\nci}{\nc}% not \ci \newcommand{\ce}{\supseteq}% containing with equality \newcommand{\nce}{\nsupseteq}% not \ce \newcommand{\nin}{\notin}% not \in \newcommand{\es}{\varnothing}% the empty set \newcommand{\set}[1]{{#1}}% set \newcommand{\setm}[2]{{\,#1\mid#2\,}}% set with a middle \def\vv&lt;#1&gt;{\langle#1\rangle}% vector
% Partial ordering \newcommand{\nle}{\nleq}% not \leq</p>

<p>So $a \jj b$ produces 𝑎 ∨ 𝑏 and $A \contd B$ produces 𝐴⊆𝐵, and so on. The originalcommandsarenotredeﬁned, soifacoauthorprefers$a \vee b$to$a \jj b$, the \vee command is available. The commands with a “middle” are exempliﬁed by \setm: $\setm{x \in R}{x^2 \leq 2}$ which typesets as {𝑥 ∈ 𝑅 ∣ 𝑥2 ≤ 2}. Using the \set command, we can type the set {𝑎, 𝑏} as $\set{a,b}$, which is easier to read than${a,b}$. Similarly, we type$\vect<a,b>$for the vector ⟨ 𝑎, 𝑏 ⟩ , so it looks like a vector. Next in newlattice.sty, I map the Greek letters and bold Greek letters to easy to remember commands. For some, I prefer to use the variants, but that is a matter of individual taste. It is also a matter of taste whether or not to change the commands for the Greek letters at all, and how far one should go in changing commonly used commands.
% Greek letters \newcommand{\ga}{\TextOrMath{$\alpha$\xspace}{\alpha}} \newcommand{\gb}{\TextOrMath{$\beta$\xspace}{\beta}} \newcommand{\gc}{\TextOrMath{$\chi$\xspace}{\chi}} \newcommand{\gd}{\TextOrMath{$\delta$\xspace}{\delta}} \renewcommand{\ge}{\TextOrMath{$\varepsilon$\xspace}{\varepsilon}} \newcommand{\gf}{\TextOrMath{$\varphi$\xspace}{\varphi}} \renewcommand{\gg}{\TextOrMath{$\gamma $\xspace}{\gamma}} \newcommand{\gh}{\TextOrMath{$\eta$\xspace}{\eta}} \newcommand{\gi}{\TextOrMath{$\iota$\xspace}{\iota}} \newcommand{\gk}{\TextOrMath{$\kappa$\xspace}{\kappa}} \newcommand{\gl}{\TextOrMath{$\lambda$\xspace}{\lambda}} \newcommand{\gm}{\TextOrMath{$\mu$\xspace}{\mu}} \newcommand{\gn}{\TextOrMath{$\nu$\xspace}{\nu}} \newcommand{\go}{\TextOrMath{$\omega$\xspace}{\omega}} \newcommand{\gp}{\TextOrMath{$\pi$\xspace}{\pi}} \newcommand{\gq}{\TextOrMath{$\theta$\xspace}{\theta}} \newcommand{\gr}{\TextOrMath{$\varrho$\xspace}{\varrho}} \newcommand{\gs}{\TextOrMath{$\sigma$\xspace}{\sigma}} \newcommand{\gt}{\TextOrMath{$\tau$\xspace}{\tau}} \newcommand{\gu}{\TextOrMath{$\upsilon$\xspace}{\upsilon}} \newcommand{\gv}{\TextOrMath{$\vartheta$\xspace}{\vartheta}} \newcommand{\gx}{\TextOrMath{$\xi$\xspace}{\xi}} \newcommand{\gy}{\TextOrMath{$\psi$\xspace}{\psi}} \newcommand{\gz}{\TextOrMath{$\gz$\xspace}{\gz}} \newcommand{\gG}{\TextOrMath{$\Gamma$\xspace}{\Gamma}} \newcommand{\gD}{\TextOrMath{$\Delta$\xspace}{\Delta}} \newcommand{\gF}{\TextOrMath{$\Phi$\xspace}{\Phi}}</p>

<p>\newcommand{\gL}{\TextOrMath{$\Lambda$\xspace}{\Lambda}} \newcommand{\gO}{\TextOrMath{$\Omega$\xspace}{\Omega}} \newcommand{\gP}{\TextOrMath{$\Pi$\xspace}{\Pi}} \newcommand{\gQ}{\TextOrMath{$\Theta$\xspace}{\Theta}} \newcommand{\gS}{\TextOrMath{$\Sigma$\xspace}{\Sigma}} \newcommand{\gU}{\TextOrMath{$\Upsilon$\xspace}{\Upsilon}} \newcommand{\gX}{\TextOrMath{$\Xi$\xspace}{\Xi}} \newcommand{\gY}{\TextOrMath{$\Psi$\xspace}{\Psi}}
% Bold Greek letters \newcommand{\bga}{\TextOrMath{$\boldsymbol{\alpha}$\xspace} {\boldsymbol\alpha}} \newcommand{\bgb}{\TextOrMath{$\boldsymbol{\beta}$\xspace} {\boldsymbol\beta}} \newcommand{\bgc}{\TextOrMath{$\boldsymbol{\chi}$\xspace} {\boldsymbol\chi}} \newcommand{\bgd}{\TextOrMath{$\boldsymbol{\delta}$\xspace} {\boldsymbol\delta}} \newcommand{\bge}{\TextOrMath{$\boldsymbol{\varepsilon}$\xspace} {\boldsymbol\varepsilon}} \newcommand{\bgf}{\TextOrMath{$\boldsymbol{\varphi}$\xspace} {\boldsymbol\varphi}} \newcommand{\bgg}{\TextOrMath{$\boldsymbol{\gamma}$\xspace} {\boldsymbol\gamma}} \newcommand{\bgh}{\TextOrMath{$\boldsymbol{\eta}$\xspace} {\boldsymbol\eta}} \newcommand{\bgi}{\TextOrMath{$\boldsymbol{\iota}$\xspace} {\boldsymbol\iota}} \newcommand{\bgk}{\TextOrMath{$\boldsymbol{\kappa}$\xspace} {\boldsymbol\kappa}} \newcommand{\bgl}{\TextOrMath{$\boldsymbol{\lambda}$\xspace} {\boldsymbol\lambda}} \newcommand{\bgm}{\TextOrMath{$\boldsymbol{\mu}$\xspace} {\boldsymbol\mu}} \newcommand{\bgn}{\TextOrMath{$\boldsymbol{\nu}$\xspace} {\boldsymbol\nu}} \newcommand{\bgo}{\TextOrMath{$\boldsymbol{\omega}$\xspace} {\boldsymbol\omega}} \newcommand{\bgp}{\TextOrMath{$\boldsymbol{\pi}$\xspace} {\boldsymbol\pi}} \newcommand{\bgq}{\TextOrMath{$\boldsymbol{\theta}$\xspace} {\boldsymbol\theta}}</p>

<p>\newcommand{\bgr}{\TextOrMath{$\boldsymbol{\varrho}$\xspace} {\boldsymbol\varrho}} \newcommand{\bgs}{\TextOrMath{$\boldsymbol{\sigma}$\xspace} {\boldsymbol\sigma}} \newcommand{\bgt}{\TextOrMath{$\boldsymbol{\tau}$\xspace} {\boldsymbol\tau}} \newcommand{\bgu}{\TextOrMath{$\boldsymbol{\upsilon}$\xspace} {\boldsymbol\upsilon}} \newcommand{\bgv}{\TextOrMath{$\boldsymbol{\vartheta}$\xspace} {\boldsymbol\vartheta}} \newcommand{\bgx}{\TextOrMath{$\boldsymbol{\xi}$\xspace} {\boldsymbol\xi}} \newcommand{\bgy}{\TextOrMath{$\boldsymbol{\psi}$\xspace} {\boldsymbol\psi}} \newcommand{\bgz}{\TextOrMath{$\boldsymbol{\gz}$\xspace} {\boldsymbol\gz}} \newcommand{\bgL}{\TextOrMath{$\boldsymbol{\gL}$\xspace} {\boldsymbol\gL}} \newcommand{\bgF}{\TextOrMath{$\boldsymbol{\gF}$\xspace} {\boldsymbol\gF}}
I also introduce some new names for text font commands by abbreviating text to t (so that \textbf becomes \tbf) and for math font commands by abbreviating math to m (so that \mathbf becomes \mbf).
% Font commands \newcommand{\tbf}{\textbf}% text bold \newcommand{\tit}{\textit}% text italic \newcommand{\tsl}{\textsl}% text slanted \newcommand{\tsc}{\textsc}% text small cap \newcommand{\ttt}{\texttt}% text typewriter \newcommand{\trm}{\textrm}% text roman \newcommand{\tsf}{\textsf}% text sans serif \newcommand{\tup}{\textup}% text upright
\newcommand{\mbf}{\mathbf}% math bold \providecommand{\mit}{\mathit}% math italic \newcommand{\msf}{\mathsf}% math sans serif \newcommand{\mrm}{\mathrm}% math roman \newcommand{\mtt}{\mathtt}% math typewriter
The math alphabets are invoked as commands with arguments: \Bold for bold, \Cal for calligraphic, \DD for blackboard bold (double), and \Frak for fraktur (German</p>

<p>Gothic—see Section 6.4.2. Notice that \Cal and \Euler are diﬀerent because of the option mathscr of the eucal package (see Section 6.4.1).
\newcommand{\B}{\boldsymbol} % Bold math symbol, use as \B{a} \newcommand{\C}[1]{\mathcal{#1}} % Euler Script - only caps, use as \C{A} \newcommand{\D}[1]{\mathbb{#1}} % Doubled - blackboard bold - only caps, use as \D{A} \newcommand{\E}[1]{\mathcal{#1}}% same as \C % Euler Script - only caps, use as \E{A} \newcommand{\F}[1]{\mathfrak{#1}}% Fraktur, use as \F{a}
%Sansserif, special lattices %Chains and Boolean lattces
\newcommand{\SC}[1]{\msf{C}<em>{#1}} \newcommand{\SB}[1]{\msf{B}</em>{#1}} \newcommand{\SD}[1]{\msf{D}<em>{#1}} \newcommand{\SL}[1]{\msf{L}</em>{#1}} \newcommand{\SM}[1]{\msf{M}<em>{#1}} \newcommand{\SMb}[1]{\msf{M}</em>{3}[#1]<em>\text{bal}} \newcommand{\SN}[1]{\msf{N}</em>{#1}} \newcommand{\SH}[1]{\msf{H}<em>{#1}} \newcommand{\SV}[1]{\msf{V}</em>{#1}} \newcommand{\SfC}[1]{\msf{C}<em>{#1}} \newcommand{\SfB}[1]{\msf{B}</em>{#1}} \newcommand{\SfM}[1]{\msf{M}<em>{#1}} \newcommand{\SfN}[1]{\msf{N}</em>{#1}} \newcommand{\SfS}[1]{\msf{S}_{#1}}
Here are some commands of importance in lattice theory:
% Constructs \DeclareMathOperator{\Id}{Id} \DeclareMathOperator{\Fi}{Fi{}l} \DeclareMathOperator{\Con}{Con} \DeclareMathOperator{\Aut}{Aut} \DeclareMathOperator{\Sub}{Sub} \DeclareMathOperator{\Pow}{Pow} \DeclareMathOperator{\Part}{Part} \DeclareMathOperator{\Ker}{Ker} \DeclareMathOperator{\Joinir}{Join}</p>

<p>\DeclareMathOperator{\Meetir}{Meet} \DeclareMathOperator{\Down}{Down} \DeclareMathOperator{\Ji}{Ji} \DeclareMathOperator{\Mi}{Mi}
% Generated by \newcommand{\con}[1]{\tup{con}(#1)} \newcommand{\consub}[2]{\tup{con}_{#1}(#2)} \newcommand{\sub}[1]{\tup{sub}(#1)} \newcommand{\id}[1]{\tup{id}(#1)} \newcommand{\fil}[1]{\tup{f{}il}(#1)}
% Miscellaneous \newcommand{\nl}{\newline} \newcommand{\ol}[1]{\overline{#1}} \newcommand{\ul}[1]{\underline{#1}} \providecommand{\bysame}{\makebox[3em]{\hrulefill}\thinspace} \newcommand{\q}{\quad}% spacing \newcommand{\qq}{\qquad}% more spacing \newcommand{\iso}{\cong}% isomorphic \newenvironment{enumeratei}{\begin{enumerate}[\upshape (i)]}% {\end{enumerate}} %produces (i), (ii), etc. Cross-reference with \eqref. \newenvironment{enumeratea}{\begin{enumerate}[\upshape (a)]}% {\end{enumerate}} %produces (a), (b), etc. Cross-reference with \eqref. \theoremstyle{plain} \newtheorem*{namedtheorem}{\theoremname} \newcommand{\theoremname}{testing} \newenvironment{named}[1]{\renewcommand{\theoremname}{#1} \begin{namedtheorem}} {\end{namedtheorem}} %use it as \begin{named}{Name of theorem} %Body of theorem \end{named}
\newcommand{\Dg}{\downarrow!}% down-set generated by congruences \newcommand{\per}{\sim}% perspective ~ \newcommand{\pu}{\stackrel{\textrm{u}}{\sim}} % perspective up ~ with u on top \newcommand{\pd}{\stackrel{\textrm{d}}{\sim}} % perspective down ~ with d on top \newcommand{\proj}{\approx}% projective</p>

<p>\newcommand{\cpu}{\nearrow} % congruence perspective up -- up arrow \newcommand{\cpd}{\searrow} % congruence perspective down -- down arrow \newcommand{\cper}{\hookrightarrow} % congruence perspective onto-- hooked right arrow \newcommand{\cproj}{\Rightarrow} % congruence projective into -- double headed arrow \newcommand{\cprojboth}{\Leftrightarrow} % congruence projective both ways %-- two headed double arrow
%perspective \newcommand{\perspsymb}{\thicksim}% perspective symbol \newcommand{\persp}{\perspsymb}% perspective \newcommand{\perspup}{\stackrel{\textrm{up}}{\perspsymb}} % perspective up \newcommand{\perspdn}{\stackrel{\textrm{dn}}{\perspsymb}} % perspective down
% c-perspective \newcommand{\cperspsymb}{\hookrightarrow} % c-perspective symbol \newcommand{\cpersp}{\cperspsymb}% c-perspective \newcommand{\cperspup}{\stackrel{\textrm{up}}{\cperspsymb}} % c-perspective up \newcommand{\cperspdn}{\stackrel{\textrm{dn}}{\cperspsymb}} % c-perspective dn
\newcommand{\lp}{\tup{(}} \newcommand{\rp}{\tup{)}\xspace} \newcommand{\up}[1]{\tup{(}#1\tup{)}} \newcommand{\one}{\mathbf{1}} \newcommand{\zero}{\mathbf{0}} \newcommand{\restr}{\rceil}
\def\cng#1=#2(#3){#1\equiv#2\pmod{#3}} %congruence, use it as \cng a=b(\theta)% \def\cngd#1=#2(#3){#1\equiv#2!\pmod{#3}} %congruence for display, use it as \cngd a=b(\theta)% \def\ncng#1=#2(#3){#1\not\equiv#2\pmod{#3}} %negate cng</p>

<p>\def\ncngd#1=#2(#3){#1\not\equiv#2!\pmod{#3}} %negate dcng
\endinput
See Section 14.1.9 for the \congr command. The enumeratei and named environments are discussed in Section 14.2.1. Theenumeratea environment is similar. Thiscommandﬁle, likeallcommandﬁles, isterminatedwiththe\endinputcommand. In Section 17.3.2, we discuss the same rule for ﬁles that are \include-d. My newlattice.sty evolves with time. I keep a copy in the folder of every article I write. This way, even years later, with the command ﬁle changed, I can typeset the article with no problem. The \TextOrMath command (see Section 10.3) is very useful for command ﬁles. For instance, we can use it to deﬁne our Greek letters, such as
\newcommand{\ga}{\TextOrMath{$\alpha$}{\alpha}}
Then we can use \ga both in text and math to produce 𝛼.</p>

<h3 id="14-4-the-sample-article-with-custom-commands">14.4 The sample article with custom commands</h3>

<p>In this section, we look at the secondarticleccom.tex sample article, which is a rewrite of thesecondarticle.texsample article utilizing the custom commands collected in the command ﬁle newlattice.sty (for these ﬁles, see Section 14.3 and the samples folder).
% Sample file: secondarticleccom.tex % The sample article with custom commands and environments
\documentclass{amsart} \usepackage{newlattice}
\theoremstyle{plain} \newtheorem{theorem}{Theorem} \newtheorem{corollary}{Corollary} \newtheorem{lemma}{Lemma} \newtheorem{proposition}{Proposition}
\theoremstyle{definition} \newtheorem{definition}{Definition}
\theoremstyle{remark} \newtheorem*{notation}{Notation}</p>

<p>\numberwithin{equation}{section}
\newcommand{\Prodm}[2]{\GrP(\,#1\mid#2\,)} % product with a middle \newcommand{\Prodsm}[2]{\GrP^{*}(\,#1\mid#2\,)} % product * with a middle \newcommand{\vectsup}[2]{\vect&lt;\dots,0,\dots,\overset{#1}{#2},% \dots,0,\dots&gt;}% special vector \newcommand{\Dsq}{D^{\langle2\rangle}}
\begin{document} \title[Complete-simple distributive lattices] {A construction of complete-simple\ distributive lattices} \author{George~A. Menuhin} \address{Computer Science Department\ University of Winnebago\ Winnebago, Minnesota 23714} \email{menuhin@ccw.uwinnebago.edu} \urladdr{<a href="http://math.uwinnebago.edu/homepages/menuhin/">http://math.uwinnebago.edu/homepages/menuhin/</a>} \thanks{Research supported by the NSF under grant number~23466.} \keywords{Complete lattice, distributive lattice, complete congruence, congruence lattice} \subjclass[2000]{Primary: 06B10; Secondary: 06D05} \date{March 15, 2006}
\begin{abstract} In this note we prove that there exist \emph{complete-simple distributive lattices,} that is, complete distributive lattices in which there are only two complete congruences. \end{abstract} \maketitle
\section{Introduction}\label{S:intro} In this note we prove the following result:
\begin{named}{Main Theorem} There exists an infinite complete distributive lattice $K$ with only the two trivial complete congruence relations. \end{named} \section{The $\Dsq$ construction}\label{S:Ds} For the basic notation in lattice theory and universal algebra,</p>

<p>see Ferenc~R. Richardson~\cite{fR82} and George~A. Menuhin~\cite{gM68}. We start with some definitions:
\begin{definition}\label{D:prime} Let $V$ be a complete lattice, and let $\Frak{p} = [u, v]$ be an interval of $V$. Then $\Frak{p}$ is called \emph{complete-prime} if the following three conditions are satisfied: \begin{enumeratei} \item $u$ is meet-irreducible but $u$ is \emph{not} completely meet-irreducible;\label{m-i} \item $v$ is join-irreducible but $v$ is \emph{not} completely join-irreducible;\label{j-i} \item $[u, v]$ is a complete-simple lattice.\label{c-s} \end{enumeratei} \end{definition}
Now we prove the following result:
\begin{lemma}\label{L:Dsq} Let $D$ be a complete distributive lattice satisfying conditions \itemref{m-i} and~\itemref{j-i}. Then $\Dsq$ is a sublattice of $D^{2}$; hence $\Dsq$ is a lattice, and $\Dsq$ is a complete distributive lattice satisfying conditions \itemref{m-i} and~\itemref{j-i}. \end{lemma}
\begin{proof} By conditions~\itemref{m-i} and \itemref{j-i}, $\Dsq$ is a sublattice of $D^{2}$. Hence, $\Dsq$ is a lattice.
Since $\Dsq$ is a sublattice of a distributive lattice, $\Dsq$ is a distributive lattice. Using the characterization of standard ideals in Ernest~T. Moynahan~\cite{eM57}, $\Dsq$ has a zero and a unit element, namely, $\vect<0, 0>$ and $\vect<1, 1>$. To show that $\Dsq$ is complete, let $\empset \ne A \contd \Dsq$, and let $a = \JJ A$ in $D^{2}$. If $a \in \Dsq$, then $a = \JJ A$ in $\Dsq$; otherwise, $a$ is of the form $\vect<b, 1>$ for some $b \in D$ with $b &lt; 1$. Now $\JJ A = \vect<1, 1>$ in $D^{2}$, and the dual argument shows that $\MM A$ also exists in</p>

<p>$D^{2}$. Hence $D$ is complete. Conditions \itemref{m-i} and~\itemref{j-i} are obvious for $\Dsq$. \end{proof} \begin{corollary}\label{C:prime} If $D$ is complete-prime, then so is $\Dsq$. \end{corollary}
The motivation for the following result comes from Soo-Key Foo~\cite{sF90}.
\begin{lemma}\label{L:ccr} Let $\gQ$ be a complete congruence relation of $\Dsq$ such that \begin{equation}\label{E:rigid} \congr \vect<1, d>=\vect<1, 1>(\gQ), \end{equation} for some $d \in D$ with $d &lt; 1$. Then $\gQ = \gi$. \end{lemma}
\begin{proof} Let $\gQ$ be a complete congruence relation of $\Dsq$ satisfying \itemref{E:rigid}. Then $\gQ = \gi$. \end{proof}
\section{The $\gp^{<em>}$ construction}\label{S:P</em>} The following construction is crucial to our proof of the Main~Theorem:
\begin{definition}\label{D:P<em>} Let $D_{i}$, for $i \in I$, be complete distributive lattices satisfying condition~\itemref{j-i}. Their $\gp^{</em>}$ product is defined as follows: [ \Prodsm{ D<em>{i} }{i \in I} = \Prodm{ D</em>{i}^{-} }{i \in I}+1; ] that is, $\Prodsm{ D<em>{i} }{i \in I}$ is $\Prodm{ D</em>{i}^{-} }{i \in I}$ with a new unit element. \end{definition}
\begin{notation} If $i \in I$ and $d \in D_{i}^{-}$, then</p>

<p>[
\vectsup{i}{d}
] is the element of $\Prodsm{ D<em>{i} }{i \in I}$ whose $i$-th component is $d$ and all the other components are $0$. \end{notation}
See also Ernest~T. Moynahan~\cite{eM57a}. Next we verify:
\begin{theorem}\label{T:P*} Let $D</em>{i}$, for $i \in I$, be complete distributive lattices satisfying condition~\itemref{j-i}. Let $\gQ$ be a complete congruence relation on $\Prodsm{ D<em>{i} }{i \in I}$. If there exist $i \in I$ and $d \in D</em>{i}$ with $d &lt; 1<em>{i}$ such that for all $d \leq c &lt; 1</em>{i}$, \begin{equation}\label{E:cong1} \congr\vectsup{i}{d}=\vectsup{i}{c}(\gQ), \end{equation} then $\gQ = \gi$. \end{theorem}
\begin{proof} Since \begin{equation}\label{E:cong2} \congr\vectsup{i}{d}=\vectsup{i}{c}(\gQ), \end{equation} and $\gQ$ is a complete congruence relation, it follows from condition~\itemref{c-s} that \begin{equation}\label{E:cong} \begin{split} &amp;\langle \dots, \overset{i}{d}, \dots, 0, \dots \rangle\ &amp;\equiv \bigvee ( \langle \dots, 0, \dots, \overset{i}{c},\dots, 0,\dots \rangle \mid d \leq c &lt; 1) \equiv 1 \pmod{\Theta}. \end{split} \end{equation}
Let $j \in I$, for $j \neq i$, and let $a \in D_{j}^{-}$. Meeting both sides of the congruence</p>

<p>\itemref{E:cong} with $\vectsup{j}{a}$, we obtain \begin{equation}\label{E:comp} \begin{split} 0 &amp;= \vectsup{i}{d} \mm \vectsup{j}{a}\ &amp;\equiv \vectsup{j}{a}\pod{\gQ}. \end{split} \end{equation} Using the completeness of $\gQ$ and \itemref{E:comp}, we get: \begin{equation}\label{E:cong3} \congr{0=\JJm{ \vectsup{j}{a} }{ a \in D<em>{j}^{-} }}={1}(\gQ), \end{equation} hence $\gQ = \gi$. \end{proof}
\begin{theorem}\label{T:P*a} Let $D</em>{i}$, for $i \in I$, be complete distributive lattices satisfying conditions \itemref{j-i} and~\itemref{c-s}. Then $\Prodsm{ D<em>{i} }{i \in I}$ also satisfies conditions~\itemref{j-i} and \itemref{c-s}. \end{theorem}
\begin{proof} Let $\gQ$ be a complete congruence on $\Prodsm{ D</em>{i} }{i \in I}$. Let $i \in I$. Define \begin{equation}\label{E:dihat} \widehat{D}<em>{i} = \setm{ \vectsup{i}{d} }{ d \in D</em>{i}^{-} } \uu \set{1}. \end{equation} Then $\widehat{D}<em>{i}$ is a complete sublattice of $\Prodsm{ D</em>{i} }{i \in I}$, and $\widehat{D}<em>{i}$ is isomorphic to $D</em>{i}$. Let $\gQ<em>{i}$ be the restriction of $\gQ$ to $\widehat{D}</em>{i}$. Since $D<em>{i}$ is complete-simple, so is $\widehat{D}</em>{i}$, hence $\gQ<em>{i}$ is $\go$ or $\gi$. If $\gQ</em>{i} = \go$ for all $i \in I$, then $\gQ = \go$. If there is an $i \in I$, such that $\gQ_{i} = \gi$, then $\congr0=1(\gQ)$, and hence $\gQ = \gi$. \end{proof}
The Main Theorem follows easily from Theorems~\ref{T:P*} and \ref{T:P*a}.</p>

<p>\begin{thebibliography}{9}
\bibitem{sF90} Soo-Key Foo, \emph{Lattice Constructions}, Ph.D. thesis, University of Winnebago, Winnebago, MN, December, 1990.
\bibitem{gM68} George~A. Menuhin, \emph{Universal algebra}. D.~van Nostrand, Princeton, 1968. \bibitem{eM57} Ernest~T. Moynahan, \emph{On a problem of M. Stone}, Acta Math. Acad. Sci. Hungar. \tbf{8} (1957), 455--460.
\bibitem{eM57a} \bysame, \emph{Ideals and congruence relations in lattices}.~II, Magyar Tud. Akad. Mat. Fiz. Oszt. K\&quot;{o}zl. \tbf{9} (1957), 417--434 (Hungarian).
\bibitem{fR82} Ferenc~R. Richardson, \emph{General lattice theory}. Mir, Moscow, expanded and revised ed., 1982 (Russian).
\end{thebibliography} \end{document}</p>

<h3 id="14-5-numbering-and-measuring">14.5 Numbering and measuring</h3>

<p>L ATEX stores integers in counters. For example, the section counter contains the current section number. Distance measurements are saved in length commands. For instance, the \textwidth command contains the width of the text. For this book, the length command \textwidth is set to 345.0 points. In this section, we take a closer look at counters and length commands.</p>

<h4 id="14-5-1-counters">14.5.1 Counters</h4>

<p>Counters may be deﬁned by L ATEX, by document classes, by packages, or by the user. Standard L ATEX counters
L ATEX automatically generates numbers for equations, sections, theorems, and so on. Each such number is stored in acounter. Table 14.2 shows the standard L ATEX counters. Theirnamesaremoreorlessself-explanatory. Inaddition, foreveryproclamationname, there is a matching counter called name (see Section 4.4).</p>

<p>Settingcounters
The command for setting a counter’s value is \setcounter. When L ATEX generates a number, it ﬁrst increments the appropriate counter, so if you want the next chapter to be numbered 3, you should set the chapter counter to 2 by typing
\setcounter{chapter}{2}
before the \chapter command. The only exception to this rule is the page number, which is ﬁrst used to number the current page, and then incremented. If you wanted to set the current page number to 63, you would include the command
\setcounter{page}{63}
somewhere in the page. L ATEX initializes and increments its standard counters automatically. Sometimes you may want to manipulate them yourself. To typeset only chapter3.tex, the third chapter of your book, start with
\setcounter{chapter}{2} \include{chapter3}
and when chapter3.tex is typeset, the chapter is properly numbered. You can also type
\setcounter{page}{63}
if the ﬁrst page of this chapter is supposed to be 63. Of course, the preferred way to typeset parts of a larger document is with the \includeonly command (see Section 17.3.2).
Tip If you need to manipulate counters, always look for solutions in which L ATEX does the work for you.
Deﬁningnewcounters
You can deﬁne your own counters. For example,
\newcounter{mycounter}
makes mycounter a new counter. In the deﬁnition, you can use an optional argument, the name of another counter:
\newcounter{mycounter}[basecounter]</p>

<p>equation part enumi figure chapter enumii footnote section enumiii mpfootnote subsection enumiv page subsubsection table paragraph subparagraph
Table 14.2: Standard L ATEX counters.
Style Command Sample Arabic \arabic{counter} 1, 2, ... Lowercase Roman \roman{counter} i, ii, ... Uppercase Roman \Roman{counter} I,II,... Lowercase Letters \alph{counter} a,b,...,z Uppercase Letters \Alph{counter} A,B,...,Z
Table 14.3: Counter styles.
which automatically resets mycounter to 0 if basecounter changes value. This command has the same form as the command L ATEX uses internally for tasks such as numbering theorems and subsections within sections.
Rule Newcounters New counters should be deﬁned in the preamble of the document. They should not be deﬁned in a ﬁle read in with an \include command (see Section 17.3.2).
Let us suppose that you deﬁne a new counter, mycounter, inchapter5.tex, which is made part of your whole document with an \include command. When you typeset your document with \includeonly commands not including chapter5.tex, you get a message, such as
! LaTeX Error: No counter ’mycounter’ defined.
Counterstyles
The value of counter can be displayed in the typeset document with the command
\thecounter</p>

<p>If you want to change the counter’s appearance when typeset, issue the command
\renewcommand{\thecounter}{new_style}
wherenew_style speciﬁes thecountermodiﬁed as shown in Table 14.3. The default style is arabic. For instance, if you give the command
\renewcommand{\thetheorem}{\Alph{theorem}} then the theorems appear as Theorem A, Theorem B,... Here is a more complicated example for a book:
\renewcommand{\thechapter}{\arabic{chapter}} \renewcommand{\thesection}{\thechapter-\arabic{section}} \renewcommand{\thesubsection} {\thechapter-\arabic{section}.\arabic{subsection}} With these deﬁnitions, Section 1 of Chapter 3 is numbered in the form 3-1 and Subsection 2 of Section 1 of Chapter 3 is numbered in the form 3-1.2. The \pagenumbering command is a shorthand method for setting the page numbering in a given style. For instance, \pagenumbering{roman} numbers pages as i, ii, and so on. The subequations environment (see Section 6.6) usesparentequation as the counter for the whole equation group and it uses equation as the counter for the subequations. To change the default format of the equation numbers from (2a), (2b), and so forth, to (2i), (2ii), and so on, type the following line inside the subequations environment
\renewcommand{\theequation} {\theparentequation\roman{equation}} If you want equation numbers like (2.i), (2.ii), and so on, type
\renewcommand{\theequation}% {\theparentequation.\roman{equation}}
Counterarithmetic
The \stepcounter{counter} command increments counter and sets all the counters that were deﬁned with the optional argument counter to 0. The variant
\refstepcounter{counter}
does the same, and also sets the value for the next \label command. You can do some arithmetic with the command
\addtocounter{counter}{n}</p>

<p>where n is an integer. For example, \setcounter{counter}{5} \addtocounter{counter}{2} sets counter to 7. The value stored in a counter can be accessed using the \value command, which is mostly used with the \setcounter or \addtocounter commands. For instance, you can set counter to equal the value of another counter, oldcounter, by typing \setcounter{counter}{\value{oldcounter}}
Here is a typical example of counter manipulation. You have a theorem (invoked in a theorem environment) and you want it followed by several corollaries (each in a corollary environment) starting with Corollary 1. In other words, Theorem 1 should be followed by Corollary 1, Corollary 2, and so forth and so should Theorem 3. By default, L ATEX numbers the next corollary as Corollary 3, even if it follows another theorem. To tell L ATEX to start numbering the corollaries from 1 again, issue the command \setcounter{corollary}{0}
aftereachtheorem. Butsuchaprocessiserror-prone, andgoesagainstthespiritof L ATEX. Instead, follow my advice on page 401, and let L ATEX do the work for you. In the preamble, type the proclamations \newtheorem{theorem}{Theorem} \newtheorem{corollary}{Corollary}[theorem] We are almost there. Theorem 1 now is followed by Corollary 1.1, Corollary 1.2 and Theorem 3 by Corollary 3.1. If we redeﬁne \thecorollary, \renewcommand{\thecorollary}{\arabic{corollary}} then Theorem 1 is followed by Corollary 1 and Corollary 2, and Theorem 3 is also followed by Corollary 1. If you need to perform more complicated arithmetic with counters, use Kresten K. Thorup and Frank Jensen’s calc package (see Section 10.3.1). This package is discussed in Section A.3.1 of The L ATEX Companion, 2nd edition [56].
Twospecialcounters
The secnumdepth and tocdepth counters control which sectional units are numbered and which are listed in the table of contents, respectively. For example, \setcounter{secnumdepth}{2} sets secnumdepth to 2. As a result, chapters—if they are present in the document class—sections, and subsections are numbered, but subsubsections are not. This command must be placed in the preamble of the document. tocdepth is similar.</p>

<h4 id="14-5-2-length-commands">14.5.2 Length commands</h4>

<p>While a counter contains integers, a length command contains a real number and a dimensionalunit. L ATEX recognizes many diﬀerent dimensional units. We list ﬁve absolute units: cm centimeter
in inch
pc pica (1 pc = 12 pt )
tip point (1 in = 72.27 pt)
mm millimeter and two relative units: em, approximately the width of the letter M in the current font ex, approximately the height of the letter x in the current font
L ATEX deﬁnes many length commands. For instance, Section 4.1 of The L ATEX Companion, 2nd edition [56] lists 17 length commands for page layout alone. You can ﬁnd some of them in Figure 8.4. A list environment sets about a dozen additional length commands (see Figure 14.2). Length commands are deﬁned for almost every aspect of L ATEX’s work, including displayed math environments—a complete list would probably contain a few hundred. Many are listed in Leslie Lamport’s L ATEX: ADocumentPreparation System, 2nd edition [53] and in The L ATEX Companion, 2nd edition [56]. Many more are hidden in packages such as amsmath. The most common length commands are:
\parindent, the amount of indentation at the beginning of a paragraph
\parskip, the extra vertical space inserted between paragraphs
\textwidth, the width of the text on a page Amoreesotericexampleis\marginparpush, theminimumverticalspacebetweentwo marginal notes. Luckily, you do not have to be familiar with many length commands because L ATEX and the document class set them for you.
Deﬁningnewlengthcommands
You can deﬁne your own length commands. For example,
\newlength{\mylength} makes \mylength a new length command with a value of 0 points. Note that while you have to type</p>

<p>\newcounter{counter}
to get a new counter, typing
\newlength{mylength}
results in a message such as
! Missing control sequence inserted. <inserted text> \inaccessible l.3 \newlength{mylength}
Settinglength
The \setlength command sets or resets the value of a length command. So
\setlength{\textwidth}{3in}
creates a very narrow page. The ﬁrst argument of \setlength must be a length command, not simply the command name, that is
\setlength{textwidth}{3in} % Bad
is incorrect. The second argument of \setlength must be a real number with a dimensional unit, for instance, 3in, and notsimplyarealnumber. In other words,
\setlength{\textwidth}{3} % Bad
is also incorrect. You can also use \setlength as an environment, as in Section 7.3.
Tip A common mistake is to type a command such as \setlength{\marginpar}{0}
Instead, type
\setlength{\marginpar}{0pt}
Always be sure to include a dimensional unit.
The \addtolength command adds a quantity to the value of a length command. For instance,
\addtolength{\textwidth}{-10pt}
narrows the page width by 10 points.</p>

<p>If you deﬁne \newlength{\shorterlength} \setlength{\shorterlength}{\mylength} \addtolength{\shorterlength}{-.5in} then \parbox{\shorterlength}{...} always typesets its second argument in a box 1/2 inch narrower than the parboxes set to be of width \mylength. When L ATEX typesets some text or math, it creates a box. Three measurements are used to describe the size of the box:
the width
the height, from the baseline to the top
the depth, from the baseline to the bottom as illustrated in Figure 14.1. For instance, the box typesetting “aa” has a width of 10.00003 pt, a height of 4.30554 pt, and a depth of 0 pt. The box typesetting “ag” has the same width and height, but a depth of 1.94444 pt. The box “Ag” (see Figure 14.1) has a width of 12.50003 pt, a height of 6.83331 pt, and a depth of 1.94444 pt. The commands \settowidth \settoheight \settodepth
each take two arguments. The ﬁrst argument is a length command, the second is text (or math) to be measured by L ATEX. The corresponding measurement of the box in which the second argument is typeset is assigned to the length command in the ﬁrst argument. For example, if \mylength is a length command, then \settowidth{\mylength}{Ag} assigns 12.50003 pt to \mylength. It should be clear from this example how the \phantom and \hphantom commands (see Section 3.8.1) are related to this command. To perform more complicated arithmetic with length commands, use the calc package.
Figure 14.1: The measurements of a box.</p>

<p>Rubberlengths
In addition to rigid lengths, such as 3in,L ATEX can also set rubber lengths, that is, lengths that are allowed to stretch and shrink. Here is an example:
\setlength{\stretchspace}{3in plus 10pt minus 8pt}
Assuming that \stretchspace is a length command, this command assigns it a value of 3 inches that can stretch by 10 points or shrink by 8 points, if necessary. So a box of width \stretchspace is 3 inches wide, plus up to 10 points, or minus up to 8 points. Stretchable vertical spaces are often used before and after displayed text environments. L ATEX adjusts these spaces to make the page look balanced. An example can be found in Section 14.1.8. \medskipamount is deﬁned as
6.0pt plus 2.0pt minus 2.0pt
See Section 14.6.3 for more examples. The \fill command is a special rubber length that can stretch any amount. The stretching is done evenly if there is more than one \fill present. See the second example of brand-new environments in Section 14.2.5.</p>

<h3 id="14-6-custom-lists">14.6 Custom lists</h3>

<p>Although there are three ready-made list environments provided by L ATEX (see Section 4.2), it is often necessary to create one of your own using L ATEX’s list environment. In fact, L ATEX itself uses the list environment to deﬁne many of its standard environments, including:
The three list environments (Section 4.2)
The quote, quotation, and verse environments (Section 4.8)
Proclamations (Section 4.4)
The style environments center, flushleft, and flushright (Section 4.3)
The thebibliography environment (Section 8.5.1)
The theindex environment (Section 8.5.2)</p>

<h4 id="14-6-1-length-commands-for-the-list-environment">14.6.1 Length commands for the list environment</h4>

<p>The general layout of a list is shown in Figure 14.2. It uses six horizontal measurements and three vertical measurements. I now list these length commands.</p>

<p>Surrounding text
Surrounding text
Item 1 paragraph 1
Item 1 paragraph 2
Item 2 paragraph 1
\itemindent \labelsep
\labelwidth \leftmargin \rightmargin
\topsep+\parskip
\parsep
\listparindent
\itemsep+\parsep
label
label
\topsep+\parskip
Figure 14.2: The layout of a custom list.</p>

<p>Verticallengthcommands
\topsep is most of the vertical space between the ﬁrst item and the preceding text, and also between the last item and the following text. This space also includes \parskip, the extra vertical space inserted between paragraphs, and optionally, \partopsep, provided that the list environment starts a new paragraph. \parsep is the space between paragraphs of the same item. \itemsep is the space between items. Like \topsep, the actual gap is the sum of \itemsep and \parsep.
All of these vertical length commands are rubber lengths (see Section 14.5.2).
Horizontallengthcommands
By default, the margins of a list environment are the same as the margins of the surrounding text. If the list is nested within a list, the margins are wider and so the text is narrower. The \leftmargin and \rightmargin length commands specify the distance between the edge of the item box and the left and right margins of the page. The label is the text provided by the optional argument of an \item command or provided as a default in the deﬁnition of the list environment. It is typeset in a box of width \labelwidth, which is indented \itemindent units from the left margin, and separated by a space of \labelsep units from the text box. If the label is too wide to ﬁt in the box, it is typeset at its full natural width, and the ﬁrst line in the text box is indented. The second and subsequent paragraphs of an item are typeset with their ﬁrst lines indented by \listparindent units.</p>

<h4 id="14-6-2-the-list-environment">14.6.2 The list environment</h4>

<p>Custom lists are created with the list environment, which is invoked as follows: \begin{list}{default_label}{declarations} \item item1 \item item2 ... \end{list}
The arguments are default_label, the label for any items that do not specify their own, similar to the optional argument of the \item command
declarations, the vertical and horizontal length commands and any other required parameters for the list</p>

<p>Here is a very simple example:
Here are the most important L ATEX rules about spaces in text, sentences, and paragraphs: ♢ Rule 1: Two or more spaces in text are the same as one. ♢ Rule 2: A blank line (that is, two end-of-line characters separatedonlybyblanksandtabs)indicatestheendofaparagraph. Rules 1 and 2 make typing and copying very convenient.
I have used the♢math symbol ($\diamondsuit$) as a default label, and I set the item box 0.5 inch from either margin. So this example is typed as follows:
\noindent Here are the most important \la\ rules about spaces in text, sentences, and paragraphs: \begin{list}{$\diamondsuit$}{\setlength{\leftmargin}% {.5in}\setlength{\rightmargin}{.5in}} \item \textbf{Rule 1:} Two or more spaces in text are the same as one. \item \textbf{Rule 2:} A blank line (that is, two end-of-line characters separated only by blanks and tabs) indicates the end of a paragraph. \end{list} Rules 1 and~2 make typing and copying very convenient.
Here is a second variant:
Here are the most important L ATEX rules about spaces in text, sentences, and paragraphs: Rule 1: Two or more consecutive spaces in text are the same as one. Rule 2: A blank line (that is, two end-of-line characters separated only by blanks and tabs) indicates the end of a paragraph. Rules 1 and 2 make typing and copying very convenient.
Inthisexample, Idroppedtheoptionaldefault_label andtypedRule1: andRule2: as (optional) arguments of the \item commands:
\noindent Here are the most important \la\ rules about spaces in text, sentences, and paragraphs: \begin{list}{}{\setlength{\leftmargin}{.5in}% \setlength{\rightmargin}{.5in}}</p>

<p>\item[\textbf{Rule 1:}] Two or more consecutive spaces in text are the same as one. \item[\textbf{Rule 2:}] A blank line (that is, two end-of-line characters separated only by blanks and tabs) indicates the end of a paragraph. \end{list} Rules 1 and~2 make typing and copying very convenient.
For further simple examples, you can look at various document class ﬁles to see how standard environments such as verse, quote, and so on, are deﬁned.
Usingcounters
It is not very LATEX-like to provide the numbers for the rules in the examples above. It would be more logical for LATEX to do the numbering. The following is a more LATEXlike coding of the second example: \noindent Here are the most important \la\ rules about spaces in text, sentences, and paragraphs: \newcounter{spacerule} \begin{list}{\textbf{Rule \arabic{spacerule}:}} {\setlength{\leftmargin}{.5in} \setlength{\rightmargin}{.5in} \usecounter{spacerule}} \item Two or more consecutive spaces in text are the same as one.\label{Li:Twoor} \item A blank line (that is, two end-of-line characters separated only by blanks and tabs) indicates the end of a paragraph. \label{Li:blankline} \end{list} Rules \ref{Li:Twoor} and~\ref{Li:blankline} make typing and copying very convenient.
Note that 1. I declared the counter before the list environment with the line
\newcounter{spacerule}
2. I deﬁned the default_label as \textbf{Rule \arabic{spacerule}:}
3. In the declarations, I speciﬁed that the list should use the spacerule counter with the command \usecounter{spacerule}</p>

<h4 id="14-6-3-two-complete-examples">14.6.3 Two complete examples</h4>

<p>In the previous examples, I set the values of \leftmargin and \rightmargin. The other length commands were not redeﬁned, so their values remained the values set by the document class. In the following examples, I set the values of many more length commands. Example1 To get the following list,
Here are the most important L ATEX rules about spaces in text, sentences, and paragraphs: Rule 1: Two or more consecutive spaces in text are the same as one. Rule 2: A blank line—that is, two end-of-line characters separated only by blanks and tabs— indicates the end of a paragraph. Rules 1 and 2 make typing and copying very convenient.
we type \noindent Here are the most important \la\ rules about spaces in text, sentences, and paragraphs: \newcounter{spacerule} \begin{list}{\upshape\bfseries Rule \arabic{spacerule}:} {\setlength{\leftmargin}{1.5in} \setlength{\rightmargin}{0.6in} \setlength{\labelwidth}{1.0in} \setlength{\labelsep}{0.2in} \setlength{\parsep}{0.5ex plus 0.2ex minus 0.1ex} \setlength{\itemsep}{0ex plus 0.2ex minus 0ex} \usecounter{spacerule} \itshape} \item Two or more consecutive spaces in text are the same as one.\label{Li:Twoor} \item A blank line---that is, two end-of-line characters separated only by blanks and tabs---indicates the end of a paragraph.\label{Li:blankline} \end{list} Rules \ref{Li:Twoor} and~\ref{Li:blankline} make typing and copying very convenient.</p>

<p>Note that
1. I declared the counter as in the previous example.
2. Thelastitemindeclarations is\itshape, whichtypesetstheentirelistinitalics.
3. The default_label is deﬁned as
\upshape\bfseries Rule \arabic{spacerule}
My ﬁrst attempt was to deﬁne it as
\bfseries Rule \arabic{spacerule}
which typesets Rule in bold italics (because in Step 2 we set the whole list in italics). To force the label to be typeset upright, I start the default_label with the \upshape command.
4. The left margin is set to 1.5 inches and the right margin to 0.6 inches:
\setlength{\leftmargin}{1.5in} \setlength{\rightmargin}{0.6in}
5. Next I set the width of the label to 1 inch, and the space between the label and the item to 0.2 inches:
\setlength{\labelwidth}{1.0in} \setlength{\labelsep}{0.2in}
6. Finally, I set the paragraph separation to 0.5 ex, allowing stretching by 0.2 ex and shrinking by 0.1 ex, and the item separation to 0 ex, allowing stretching by 0.2 ex and no shrinking, by
\setlength{\parsep}{0.5ex plus 0.2ex minus 0.1ex} \setlength{\itemsep}{0ex plus 0.2ex minus 0ex}
The actual amount of item separation is calculated by adding the values speciﬁed for \parsep and \itemsep.
A complicated list such as this should be deﬁned as a new environment. For example, you could deﬁne a myrules environment:
\newenvironment{myrules} {\begin{list} {\upshape \bfseries Rule \arabic{spacerule}:} {\setlength{\leftmargin}{1.5in} \setlength{\rightmargin}{0.6in} \setlength{\labelwidth}{1.0in} \setlength{\labelsep}{0.2in} \setlength{\parsep}{0.5ex plus 0.2ex minus 0.1ex}</p>

<p>\setlength{\itemsep}{0ex plus 0.2ex minus 0ex} \usecounter{spacerule} \itshape} } {\end{list}}
and then use it anywhere, as in
\begin{myrules} \item Two or more consecutive spaces in text are the same as one.\label{Li:Twoor} \item A blank line---that is, two end-of-line characters separated only by blanks and tabs---indicates the end of a paragraph. \label{Li:blankline} Rules \ref{Li:Twoor} and~\ref{Li:blankline} make typing \end{myrules} and copying very convenient.
which typesets as the ﬁrst example shown on page 413. Example 2 In Section 3.7.2, we discussed the formatting of the following type of glossary:
sentenceagroupofwordsterminatedbyaperiod,exclamationpoint,orquestion mark. paragraph a group of sentences terminated by a blank line or by the new paragraph command.
Now we can create the glossary as a custom list:
\begin{list}{} {\setlength{\leftmargin}{30pt} \setlength{\rightmargin}{0pt} \setlength{\itemindent}{14pt} \setlength{\labelwidth}{40pt} \setlength{\labelsep}{5pt} \setlength{\parsep}{0.5ex plus 0.2ex minus 0.1ex} \setlength{\itemsep}{0ex plus 0.2ex minus 0ex}} \item[\textbf{sentence}\hfill] is a group of words terminated by a period, exclamation point, or question mark. \item[\textbf{paragraph}\hfill] is a group of sentences terminated by a blank line or by the \com{par} command. \end{list}</p>

<p>There is nothing new in this example except the \hfill commands in the optional arguments to left adjust the labels. With the long words in the example this adjustment is not necessary, but it would be needed for shorter words. See Section 3.3 of The L ATEX Companion, 2nd edition [56] on how to customize the three standard list environments and also for more complicated custom lists.</p>

<h4 id="14-6-4-the-trivlist-environment">14.6.4 The trivlist environment</h4>

<p>L ATEX also provides atrivlistenvironment, meant more for programmers than users. The environment is invoked in the form
\begin{trivlist} body \end{trivlist}
It is similar to the list environment except that there are no arguments, and all the length commands are trivially set, most to 0 points, except for \listparindent and \parsep, which are set to equal \parindent and \parskip, respectively. For instance, L ATEX deﬁnes the center environment as follows: \begin{trivlist} \centering \item[] \end{trivlist}</p>

<h3 id="14-7-the-dangers-of-customization">14.7 The dangers of customization</h3>

<p>We can customize L ATEX in so many ways. We can add packages to expand its power and deﬁne new commands that better suit our work habits. These enhance L ATEX and make it easier to work with. But they also introduce diﬃculties. Let us start with the obvious. Whoever introduced the command \textcompwordmark knew that—even if we use command completion—we are not going to type
if\textcompwordmark f
to avoid having a ligature (see Section 3.4.6). It is a lot of typing, and the source ﬁle becomes hard to read. This cries out for a custom command, say, \Iff, which is short and readable (see Section 14.1.1). When introducing custom commands, watch out for the following traps.</p>

<p>Trap1 Redeﬁning a command that is a necessary part of L ATEX.
This is easy to avoid. As discussed in Section 14.1.8, you can easily ﬁnd out whether a command is already in use. If it is, do not redeﬁne it unless you really know what you are doing.
Trap2 Deﬁning too many commands.
This creates two problems. Your editor has a hard time making changes in your source ﬁle. And a few years later, when you want to reuse the material, you have a diﬃcult time understanding all those clever commands.
Trap3 Your contribution appears in a volume with many other authors and your custom commands create conﬂicts.
As your article appears in a publication, some parts of it are used for the whole volume. The title and maybe even the section titles are used in the table of contents. The abstracts may be collected for the whole volume or there may be a joint bibliography. With the advent of the internet, there are now collections of thousands of math articles; PlanetMath.org is one example. Write your articles so that even the editors of PlanetMath.org can use it.
Rule1 Do not use your own commands in the title of the article, in the abstract, in section titles, in the bibliography, or in captions of ﬁgures and tables.
Trap4 You submit the article to a journal that does not permit a separate custom command ﬁle.
For such journals, just copy the needed custom commands into the preamble of your article. Go through the list and delete those custom commands that are not usedinthisarticle. This helps the editor to look up your commands from a shorter list.</p>

<p>Rule2 Introduce judiciously custom commands with very short names.
Introducing one-letter commands—for instance, using \C for the complex ﬁeld— is dangerous because many one-letter commands are reserved by L ATEX. Two-letter custom commands are not quite this bad. Of the 2,500 or so possibilities only a few dozen are used by L ATEX. The danger here is, of course, conﬂict with other authors and confusion for the editor. My command ﬁle has about 15 two-letter commands. For instance \jj, part of the \jj, \JJ, \JJm family. Also \Id, because Id is the standard notation for ideal lattices. Some editors may think that this is 15 too many.
Rule3 Do not use \def to deﬁne your commands, with the exception of a very few delimited commands.
Using \def means giving up L ATEX’s built in defense. In the editorial oﬃce of my journal, about half the submitted articles that we cannot typeset violate this rule.
Rule4 Do not redeﬁne length commands, especially, if you do not know what other length commands are computed based on the ones you change.
The page layout diagram, Figure 8.4, should provide examples. Even simpler, Do notredeﬁnelengthcommands. Let the document class deﬁne them for your article.
Rule5 Make sure that the packages you use are compatible.
For instance, the popular psfrag and epsfig packages cause problems if used with the AMS packages. Be cautious when you use packages that redeﬁne a lot of L ATEX commands, such as hyperref (see Section 11.2). You can read more about the plight of authors in the hands of incompetent editors in my article [32] and the diﬃcult job of editors with articles violating the above rules in Enrico Gregorio [16].</p>

<h1 id="vi-long-documents">VI Long Documents</h1>

<h2 id="15-bibtex">15 BIBTEX</h2>

<p>The BIBTEX application, written by Oren Patashnik, assists LATEX users in compiling bibliographies, especially long ones. Short bibliographies can easily be placed in the document directly (see Section 8.5.1).</p>

<p>由Oren Patashnik编写的BIBTEX应用程序可以帮助LATEX用户编译参考书目，特别是长的参考书目。简短的参考书目可以很容易地直接放在文档中(参见8.5.1节)。</p>

<p>It takes a little eﬀort to learn BIBTEX. But in the long run, the advantages of building bibliographic databases that can be reused and shared outweigh the disadvantage of a somewhat steep learning curve. The bibliographic database ﬁles, the bib ﬁles, contain the bibliographic entries. We discuss the format of these entries in Section 15.1, and then describe how to use BIBTEX to create bibliographies in Section 15.2.</p>

<p>学习BIBTEX需要一点努力。但从长远来看，建立可重用和共享的书目数据库的好处超过了学习曲线有点陡峭的缺点。书目数据库文件，bib文件，包含书目条目。我们将在第15.1节中讨论这些条目的格式，然后在第15.2节中描述如何使用BIBTEX创建书目。</p>

<p>BIBTEX uses a style, called a bibliographic style, or bst ﬁle, to format entries. On the next two pages we show the bibliography of the secondarticleb.tex sample article typeset with six diﬀerent style ﬁles.</p>

<p>BIBTEX使用一种名为书目格式(bibliographic style)或bst文件的格式来格式化条目。在接下来的两页中，我们展示了带有6个不同样式文件的secondarticleb.tex样例文章排版的参考书目。</p>

<p>To simplify our discussion, in the rest of this chapter I discuss only one style, the AMS plain style, amsplain.bst, version 2.0. All of the examples shown are in this style, and several of the comments I make are true only for the AMS plain style. If you choose to use a diﬀerent style, you should check its documentation for special rules.</p>

<p>为了简化我们的讨论，在本章的其余部分，我只讨论一种样式，AMS plain样式，amsplain.bst(2.0版)。所示的所有示例都是这种样式，我所做的一些注释仅适用于AMS plain样式。</p>

<p>[1] Soo-Key Foo. Lattice Constructions. PhD thesis, University of Winnebago, Winnebago, MN, December 1990. [2] George A. Menuhin. Universal Algebra. D. van Nostrand, Princeton, 1968. [3] Ernest T. Moynahan. Ideals and congruence relations in lattices. II. Magyar Tud. Akad. Mat. Fiz. Oszt. K¨ozl., 7:417–434, 1957. [4] Ernest T. Moynahan. On a problem of M. Stone. Acta Math. Acad. Sci. Hungar., 8:455–460, 1957. [5] Ferenc R. Richardson. General Lattice Theory. Mir, Moscow, expanded and revised edition, 1982.
[Foo90] Soo-Key Foo. Lattice Constructions. PhD thesis, University of Winnebago, Winnebago, MN, December 1990. [Men68] George A. Menuhin. Universal Algebra. D. van Nostrand, Princeton, 1968. [Moy57a] Ernest T. Moynahan. Ideals and congruence relations in lattices. II. Magyar Tud. Akad. Mat. Fiz. Oszt. K¨ozl., 7:417–434, 1957. [Moy57b] Ernest T. Moynahan. On a problem of M. Stone. Acta Math. Acad. Sci. Hungar., 8:455–460, 1957. [Ric82] Ferenc R. Richardson. General Lattice Theory. Mir, Moscow, expanded and revised edition, 1982.
1. Soo-Key Foo, Lattice constructions, Ph.D. thesis, University of Winnebago, Winnebago, MN, December 1990. 2. George A. Menuhin, Universal algebra, D. van Nostrand, Princeton, 1968. 3. Ernest T. Moynahan, Ideals and congruence relations in lattices. II, Magyar Tud. Akad. Mat. .lzo ¨K.tzsO.ziF 7 (1957), 417–434 (Hungarian). 4. , On a problem of M. Stone, Acta Math. Acad. Sci. Hungar. 8 (1957), 455–460. 5. Ferenc R. Richardson, General lattice theory, expanded and revised ed., Mir, Moscow, 1982 (Russian).
[Foo90] Soo-Key Foo, Lattice constructions, Ph.D. thesis, University of Winnebago, Winnebago, MN, December 1990. [Men68] George A. Menuhin, Universal algebra, D. van Nostrand, Princeton, 1968. [Moy57a] Ernest T. Moynahan, Ideals and congruence relations in lattices. II, Magyar Tud. Akad. Mat . lzo ¨K.tzsO.ziF. 7 (1957), 417–434 (Hungarian). [Moy57b] Ernest T. Moynahan, On a problem of M. Stone, Acta Math. Acad. Sci. Hungar. 8 (1957), 455–460. [Ric82] Ferenc R. Richardson, General lattice theory, expanded and revised ed., Mir, Moscow, 1982 (Russian).</p>

<p>[1] S.-K. Foo, Lattice Constructions, PhD thesis, University of Winnebago, Winnebago, MN, Dec. 1990. [2] G. A. Menuhin, Universal Algebra, D. van Nostrand, Princeton, 1968. [3] E. T. Moynahan, Ideals and congruence relations in lattices. II, Magyar Tud. Akad. Mat. .434–714.pp,)7591(7,.lzo ¨K.tzsO.ziF [4] , On a problem of M. Stone, Acta Math. Acad. Sci. Hungar., 8 (1957), pp. 455–460. [5] F. R. Richardson, General Lattice Theory, Mir, Moscow, expanded and revised ed., 1982.
[1] F. R. Richardson, General Lattice Theory. Moscow: Mir, expanded and revised ed., 1982. [2] G. A. Menuhin, Universal Algebra. Princeton: D. van Nostrand, 1968. [3] E. T. Moynahan, “On a problem of M. Stone,” Acta Math. Acad. Sci. Hungar., vol. 8, pp. 455– 460, 1957. [4] S.-K. Foo, Lattice Constructions. PhD thesis, University of Winnebago, Winnebago, MN, Dec. 1990. [5] E. T. Moynahan, “Ideals and congruence relations in lattices. II,” Magyar Tud. Akad. Mat. Fiz. Oszt. K¨ozl., vol. 7, pp. 417–434, 1957.</p>

<h3 id="15-1-the-database">15.1 The database</h3>

<p>A BIBTEX database is a text ﬁle containing bibliographic entries. To use BIBTEX, you ﬁrst have to learn how to assemble a database. This section explains how to do that.</p>

<p>BIBTEX数据库是一个包含书目条目的文本文件。要使用BIBTEX，首先必须学习如何组装数据库。本节解释如何做到这一点。</p>

<p>There may be special tools available for your computer system that assist you in building and maintaining your bibliographic data. Such tools make compiling the data easier and may minimize formatting errors.</p>

<p>你的计算机系统可能有一些特殊的工具可以帮助你建立和维护你的书目数据。这样的工具使数据的编译更容易，并且可以最小化格式错误。</p>

<p>You can ﬁnd all the examples in this section in the template.bib ﬁle in the samples folder (see page 5).</p>

<p>您可以在模板中找到本节中的所有示例，在本节template.bib文件夹中(见第5页)。</p>

<h4 id="15-1-1-entry-types">15.1.1 Entry types</h4>

<p>A bibliographic entry is given in pieces called ﬁelds. The style (see Section 15.2.2) speciﬁes how these ﬁelds are typeset. Here are two typical entries:
@BOOK{gM68, author = &quot;George A. Menuhin&quot;, title = &quot;Universal Algebra&quot;, publisher = &quot;D.~Van Nostrand&quot;, address = &quot;Princeton&quot;, year = 1968, }
@ARTICLE{eM57, author = &quot;Ernest T. Moynahan&quot;, title = &quot;On a Problem of {M. Stone}&quot;,</p>

<p>journal = &quot;Acta Math. Acad. Sci. Hungar.&quot;, pages = &quot;455-460&quot;, volume = 8, year = 1957, } The start of an entry is indicated with an at sign (@) followed by theentry type. In the ﬁrst example, the entry type is BOOK, while in the second, it is ARTICLE. The entry type is followed by a left brace ({). The matching right brace (}) indicates the end of the entry. BIBTEX also allows you to use parentheses as delimiters for an entry. In this book, however, we use braces to enclose an entry. The string @BOOK{ is followed by a label, gM68, which designates the name of the entry. Refer to this entry in your document with \cite{gM68}. The label is followed by a comma and a series of ﬁelds. In this example, there are ﬁve ﬁelds, author, title, publisher, address, and year. Each ﬁeld starts with the ﬁeld name, followed by = and the value of the ﬁeld enclosed in double quotes (&quot;). Be sure to use &quot; and not L ATEX double quotes ( “ or ” ). Alternatively, BIBTEX also allows you to use braces to enclose the ﬁeld value. In this book, we use double quotes to enclose a ﬁeld. Numeric ﬁeld values, that is, ﬁelds consisting entirely of digits, do not need to be enclosed in double quotes or braces, for instance, year in the examples above, volume in the second example, and number in some of the examples that follow. Page ranges, such as 455-460, are not numeric ﬁeld values since they contain -, so they must be enclosed in double quotes or braces. There must be a comma before each ﬁeld. The comma before the ﬁrst ﬁeld is placed after the label. There are many standard entry types, including
ARTICLE an article in a journal or magazine BOOK a book with an author (or editor) and a publisher BOOKLET a printed work without a publisher INBOOK a part of a book, such as a chapter or a page range that, in general, is not titled or authored separately
INCOLLECTION a part of a book with its own title and perhaps author INPROCEEDINGS an article in a conference proceedings with its own title and author
MANUAL technical documentation MASTERSTHESIS a master’s thesis MISC an entry that does not ﬁt in any other category PHDTHESIS a Ph.D. thesis PROCEEDINGS the proceedings of a conference</p>

<p>TECHREPORT a report published by a school or institution UNPUBLISHED an unpublished paper Each entry includes a number of ﬁelds from the following list: address institution pages author journal publisher booktitle key school chapter language series crossref month title edition note type editor number volume howpublished organization year
The style you choose determines which of the ﬁelds within an entry are actually used. All the others are ignored. You may also add ﬁelds for your own use. For example, you may want to add a mycomments ﬁeld for personal comments. Such ﬁelds are ignored unless you have a bibliography style that uses them. Commonly used examples of new ﬁeld names include URL, abstract, ISBN, keywords, mrnumber, and so on. The language ﬁeld is used by the AMS styles but not by any of the other styles mentioned in this chapter.
Tip
1. BIBTEX does not care whether you use uppercase or lowercase letters (or mixed) for the names of entry types and ﬁelds. In this book, the entry types are shown in uppercase and ﬁeld names in lowercase.
2. Placing a comma after the last ﬁeld is optional. I recommend that you put it there so that when you append a new ﬁeld to the entry, the required comma separating the ﬁelds is present.
Foreachentrytypetherearebothrequiredandoptionalﬁelds. Laterinthissection, I give two examples of each entry type. The ﬁrst example of an entry type uses a small set of ﬁelds, while the second example is a maximal one, showing a large number of optional ﬁelds.</p>

<h4 id="15-1-2-typing-fields">15.1.2 Typing fields</h4>

<p>Make sure you type the ﬁeld names correctly. If you misspell one, BIBTEX ignores the ﬁeld. BIBTEX also warns you if a required ﬁeld is missing. The author and editor ﬁelds require a name.</p>

<p>Rule Names 1. Most names can be typed as usual, &quot;Ernest T. Moynahan&quot; or &quot;Moynahan, Ernest T.&quot;, with one comma separating the family name from the given names. 2. Type two or more names separated by and. For instance, author= &quot;George Blue and Ernest Brown and Soo-Key Foo&quot;,
3. The family name of Miguel Lopez Fernandez is Lopez Fernandez, so type it as &quot;Lopez Fernandez, Miguel&quot;. This informs BIBTEX that Lopez is not a middle name.
4. Type Orrin Frink, Jr. as &quot;Frink, Jr., Orrin&quot;.
Rules 3 and 4 are seldom needed. In a bibliography of about 1,500 items, I found fewer than 10 names that could not be typed as usual. Note that you can type John vonNeumannas&quot;John von Neumann&quot;or&quot;von Neumann, John&quot;. BecauseBIBTEX knows about von, it handles the name properly. There are a few rules concerning the title ﬁeld.
Rule Title
1. You should not put a period at the end of a title. The style supplies the appropriate punctuation.
2. Many styles, including the AMS styles, convert titles, except for the ﬁrst letter of the title, to lowercase for all entry types. If you want a letter to appear in uppercase, put it—or the entire word—in braces. The same rule applies to the edition ﬁeld. Some other styles only do this conversion for the titles of non-book-like entries.
3. To maximize the portability of your database, you should type titles with each important word capitalized:
title = &quot;On a Problem of {M. Stone}&quot;, The style used in this book, amsplain.bst, converts Problem to problem, so it makes no diﬀerence, but some styles do not. To be on the safe side, you should capitalize all words that may have to be capitalized.</p>

<p>For the record, here are the complete rules for titles:
Rule Capitalize: 1. the ﬁrst word;
2. the ﬁrst word in a subtitle (BIBTEX assumes that a subtitle follows a colon, so it capitalizes the ﬁrst word after a colon—a colon not introducing a subtitle should be typed in braces);
3. all other words except articles, unstressed conjunctions, and unstressed prepositions.
Words that should never be converted to lowercase, for example proper names such as Hilbert, should be enclosed in braces to prevent them from being converted to lowercase. In the example above, two letters in the title should not be converted to lowercase, so we enclosed M. Stone in braces. We could also have typed {M. S}tone+ or \verb+{M.} {S}tone
BIBTEX and the style automatically handle a number of things for you that you would have to handle yourself when typing text.
1. You do not have to mark periods in abbreviations, as .\␣ in the names of journals (see Section 3.2.2). So
journal = &quot;Acta Math. Acad. Sci. Hungar.&quot;,
typesets correctly.
2. You can type a single hyphen for a page range instead of the usual -- in the pages ﬁeld (see Section 3.4.2). So
pages = &quot;455-460&quot;,
typesets correctly with an en dash.
3. You do not have to type nonbreakable spaces with ˜ in the author or editor ﬁelds (see Section 3.4.3):
author = &quot;George A. Menuhin&quot;, is correct. Normally you would type George˜A. Menuhin.
Finally, we state a rule about accented characters.
Rule Accents Put accented characters in braces: {\&quot;{a}}.</p>

<p>This rule means that
author = &quot;Paul Erd\H{o}s&quot;,
is not recommended. Instead, type
author = &quot;Paul Erd{\H{o}}s&quot;,
This rule is, again, about portability. Some styles, e.g., alpha and amsalpha, create a citation for an article from the ﬁrst three letters of the name and the last two digits of the year.
author = &quot;Kurt G{\&quot;{o}}del&quot;, year = 1931, creates the citation: [Göd31]. The accent is used only if the accents rule has been followed. The downside of this rule is that the braces suppress kerning.</p>

<h4 id="15-1-3-articles">15.1.3 Articles</h4>

<p>Entrytype ARTICLE Requiredﬁelds author, title, journal, year, pages Optionalﬁelds volume, number, language, note Examples:
1. Ernest T. Moynahan, On a problem of M. Stone, Acta Math. Acad. Sci. Hungar. 8 (1957), 455–460. 2. Ernest T. Moynahan, On a problem of M. Stone, Acta Math. Acad. Sci. Hungar. 8 (1957), no. 5, 455–460 (English), Russian translation available.
typed as
@ARTICLE{eM57, author = &quot;Ernest T. Moynahan&quot;, title = &quot;On a Problem of {M. Stone}&quot;, journal = &quot;Acta Math. Acad. Sci. Hungar.&quot;, pages = &quot;455-460&quot;, volume = 8, year = 1957, }
@ARTICLE{eM57a, author = &quot;Ernest T. Moynahan&quot;, title = &quot;On a Problem of {M. Stone}&quot;, journal = &quot;Acta Math. Acad. Sci. Hungar.&quot;, pages = &quot;455-460&quot;,</p>

<p>volume = 8, number = 5, year = 1957, note = &quot;Russian translation available&quot;, language = &quot;English&quot;, }</p>

<h4 id="15-1-4-books">15.1.4 Books</h4>

<p>Entrytype BOOK Requiredﬁelds author (or editor), title, publisher, year Optionalﬁelds edition, series, volume, number, address, month, language, note Examples:
1. George A. Menuhin, Universal algebra, D. Van Nostrand, Princeton, 1968. 2. George A. Menuhin, Universal algebra, second ed., University Series in Higher Mathematics, vol. 58, D. Van Nostrand, Princeton, March 1968 (English), no Russian translation.
typed as @BOOK{gM68, author = &quot;George A. Menuhin&quot;, title = &quot;Universal Algebra&quot;, publisher = &quot;D.~Van Nostrand&quot;, address = &quot;Princeton&quot;, year = 1968, }
@BOOK{gM68a, author = &quot;George A. Menuhin&quot;, title = &quot;Universal Algebra&quot;, publisher = &quot;D.~Van Nostrand&quot;, address = &quot;Princeton&quot;, year = 1968, month = mar, series = &quot;University Series in Higher Mathematics&quot;, volume = 58, edition = &quot;Second&quot;, note = &quot;no Russian translation&quot;, language = &quot;English&quot;, } Abbreviations, such as mar, are discussed in Section 15.1.9.</p>

<p>A second variant of book has an editor instead of an author:
15. Robert S. Prescott (ed.), Universal algebra, D. Van Nostrand, Princeton, 1968.
typed as
@BOOK{rP68, editor = &quot;Robert S. Prescott&quot;, title = &quot;Universal Algebra&quot;, publisher = &quot;D.~Van Nostrand&quot;, address = &quot;Princeton&quot;, year = 1968, }</p>

<h4 id="15-1-5-conference-proceedings-and-collections">15.1.5 Conference proceedings and collections</h4>

<p>Entrytype INPROCEEDINGS Requiredﬁelds author, title, booktitle, year Optionalﬁelds address, editor, series, volume, number, organization, publisher, month, note, pages, language
Examples:
7. Peter A. Konig, Composition of functions. Proceedings of the Conference on Universal Algebra, 1970. 8. Peter A. Konig, Composition of functions. Proceedings of the Conference on Universal Algebra (Kingston, ON) (G. H. Birnbaum, ed.), vol. 7, Canadian Mathematical Society, Queen’s Univ., December 1970, available from the Montreal oﬃce, pp. 1–106 (English).
typed as
@INPROCEEDINGS{pK69, author = &quot;Peter A. Konig&quot;, title = &quot;Composition of Functions&quot;. booktitle = &quot;Proceedings of the Conference on Universal Algebra&quot;, year = 1970, }
@INPROCEEDINGS{pK69a, author = &quot;Peter A. Konig&quot;, title = &quot;Composition of Functions&quot;. booktitle = &quot;Proceedings of the Conference on</p>

<p>Universal Algebra&quot;, address = &quot;Kingston, ON&quot;, publisher = &quot;Queen’s Univ.&quot;, organization = &quot;Canadian Mathematical Society&quot;, editor = &quot;G. H. Birnbaum&quot;, pages = &quot;1-106&quot;, volume = 7, year = 1970, month = dec, language = &quot;English&quot;, } The address ﬁeld provides the location of the meeting. The address of the publisher should be in the publisher ﬁeld and the address of the organization in the organization ﬁeld. Entrytype INCOLLECTION Requiredﬁelds author, title, booktitle, publisher, year Optionalﬁelds editor, series, volume, number, address, edition, month, note, pages, language Examples:
1. Henry H. Albert, Free torsoids, Current Trends in Lattices, D. Van Nostrand, 1970. 2. Henry H. Albert, Free torsoids, Current Trends in Lattices (George Burns, ed.), vol. 2, D. Van Nostrand, Princeton, January 1970, new edition is due next year, pp. 173–215 (German).
is typed as
\noindent\verb+@INCOLLECTION{hA70, author = &quot;Henry H. Albert&quot;, title = &quot;Free Torsoids&quot;, booktitle = &quot;Current Trends in Lattices&quot;. publisher = &quot;D.~Van Nostrand&quot;, year = 1970, }
@INCOLLECTION{hA70a, author = &quot;Henry H. Albert&quot;, editor = &quot;George Burns&quot;, title = &quot;Free Torsoids&quot;, booktitle = &quot;Current Trends in Lattices&quot;. publisher = &quot;D.~Van Nostrand&quot;, address = &quot;Princeton&quot;,</p>

<p>pages = &quot;173-215&quot;, volume = 2, year = 1970, month = jan, note = &quot;new edition is due next year&quot;, language = &quot;German&quot;, } The address ﬁeld contains the address of the publisher.
Cross-referencing
If your database has several articles from the same conference proceedings and collections, you may prefer to make an entry for the entire volume, and cross-reference individual articles to that entry. For instance, @PROCEEDINGS{UA69, title = &quot;Proceedings of the Conference on, Universal Algebra&quot;, booktitle = &quot;Proceedings of the Conference on Universal Algebra&quot;, address = &quot;Kingston, ON&quot;, publisher = &quot;Canadian Mathematical Society&quot;, editor = &quot;G. H. Birnbaum&quot;, volume = 7, year = 1970, } may be the entry for the proceedings volume as a whole, and @INPROCEEDINGS{pK69a, author = &quot;Peter A. Konig&quot;, title = &quot;Composition of Functions&quot;, booktitle = &quot;Proceedings of the Conference on Universal Algebra&quot;, pages = &quot;1-106&quot;, crossref = &quot;UA69&quot;, } is the cross-referencing entry for a speciﬁc article. These two entries produce the following:
1. G. H. Birnbaum (ed.), Proceedings of the conference on universal algebra, vol. 7, Kingston, ON, Canadian Mathematical Society, 1970. 2. Peter A. Konig, Composition of functions, in Birnbaum [1], pp. 1–106.</p>

<p>Rule Cross-references 1. All the required ﬁelds of the cross-referencing entry must appear in either that entry or in the cross-referenced entry.
2. The cross-referenced entry should have both a title and a booktitle ﬁeld. 3. The cross-referenced entry must appear in thebibﬁle later than any entry that crossreferences it.</p>

<h4 id="15-1-6-theses">15.1.6 Theses</h4>

<p>Entrytype MASTERSTHESIS or PHDTHESIS Requiredﬁelds author, title, school, year Optionalﬁelds type, address, month, note, pages Examples:
1. Soo-Key Foo, Lattice constructions, Ph.D. thesis, University of Winnebago, 1990. 2. Soo-Key Foo, Lattice constructions, Ph.D. dissertation, University of Winnebago, Winnebago, MN, December 1990, ﬁnal revision not yet available, pp. 1–126.
is typed as @PHDTHESIS{sF90, author = &quot;Soo-Key Foo&quot;, title = &quot;Lattice Constructions&quot;, school = &quot;University of Winnebago&quot;, year = 1990, } @PHDTHESIS{sF90a, author = &quot;Soo-Key Foo&quot;, title = &quot;Lattice Constructions&quot;, school = &quot;University of Winnebago&quot;, address = &quot;Winnebago, MN&quot;, year = 1990, month = dec, note = &quot;final revision not yet available&quot;, type = &quot;Ph.D. dissertation&quot;, pages = &quot;1-126&quot;, } If the type ﬁeld is present, its content takes the place of the phrase Ph.D. thesis (or Master’s thesis).</p>

<h4 id="15-1-7-technical-reports">15.1.7 Technical reports</h4>

<p>Entrytype TECHREPORT Requiredﬁelds author, title, institution, year Optionalﬁelds type, number, address, month, note Examples:
1. Grant H. Foster, Computational complexity in lattice theory, tech. report, Carnegie Mellon University, 1986. 2. Grant H. Foster, Computational complexity in lattice theory, Research Note 128A, Carnegie Mellon University, Pittsburgh, PA, December 1986, in preparation.
is typed as
@TECHREPORT{gF86, author = &quot;Grant H. Foster&quot;, title = &quot;Computational Complexity in Lattice Theory&quot;, institution = &quot;Carnegie Mellon University&quot;, year = 1986, }
@TECHREPORT{gF86a, author = &quot;Grant H. Foster&quot;, title = &quot;Computational Complexity in Lattice Theory&quot;, institution = &quot;Carnegie Mellon University&quot;, year = 1986, month = dec, type = &quot;Research Note&quot;, address = &quot;Pittsburgh, PA&quot;, number = &quot;128A&quot;, note = &quot;in preparation&quot;, }</p>

<h4 id="15-1-8-manuscripts-and-other-entry-types">15.1.8 Manuscripts and other entry types</h4>

<p>Entrytype UNPUBLISHED Requiredﬁelds author, title, note Optionalﬁelds month, year Examples:
1. William A. Landau, Representations of complete lattices, manuscript, 55 pages. 2. William A. Landau, Representations of complete lattices, manuscript, 55 pages, December 1975.</p>

<p>is typed as
@UNPUBLISHED{wL75, author = &quot;William A. Landau&quot;, title = &quot;Representations of Complete Lattices&quot;, note = &quot;manuscript, 55~pages&quot;, }
@UNPUBLISHED{wL75a, author = &quot;William A. Landau&quot;, title = &quot;Representations of Complete Lattices&quot;, year = 1975, month = dec, note = &quot;manuscript, 55~pages&quot;, }
Other standard entry types include Entrytype BOOKLET Requiredﬁeld title Optionalﬁelds author, howpublished, address, month, year, note Entrytype INBOOK Requiredﬁelds author or editor, title, chapter or pages, publisher, year Optionalﬁelds series, volume, number, type, address, edition, month, pages, language, note Entrytype MANUAL Requiredﬁeld title Optionalﬁelds author, organization, address, edition, month, year, note Entrytype MISC Requiredﬁeld at least one of the optional ﬁelds must be present Optionalﬁelds author, title, howpublished, month, year, note, pages Entrytype PROCEEDINGS Requiredﬁelds title, year Optionalﬁelds editor, series, volume, number, address, organization, publisher, month, note</p>

<h4 id="15-1-9-abbreviations">15.1.9 Abbreviations</h4>

<p>You may have noticed the ﬁeld month = dec in some of the examples. This ﬁeld uses an abbreviation. Most BIBTEX styles, including the AMS styles, include abbreviations for the months of the year: jan, feb,...,dec. When an abbreviation is used, it is not enclosed in quotes (&quot;) or braces ({}). The style deﬁnes what is actually to be typeset. Most styles typeset dec as either Dec. or December.</p>

<p>The name of the abbreviation, such as dec, is a string of characters that starts with a letter, does not contain a space, an equal sign (=), a comma, or any of the special characters listed in Section 3.4.4. You may deﬁne your own abbreviations using the command @STRING. For example,
@STRING{au = &quot;Algebra Universalis&quot;}
A string deﬁnition can be placed anywhere in a bib ﬁle, as long as it precedes the ﬁrst use of the abbreviation in an entry. The AMS supplies the mrabbrev.bib ﬁle containing the standard abbreviations for many mathematical journals. Find it at ams.org, under Reference Tools, click onMR Serials Abbreviations for BibTeX.Basedonthisﬁle, youcanmakeyour ownabbrev.bibﬁlecontaining entriesforallthejournalsyoureferencewithwhatever abbreviations you ﬁnd easiest to remember. If you use this scheme, the command you use to specify the bib ﬁles may look like
\bibliography{abbrev,... }
Section 15.2.1 explains the \bibliography command.</p>

<h3 id="15-2-using-bibtex">15.2 Using BIBTEX</h3>

<p>In Section 15.1, you learned how to create database ﬁles. The sample bib ﬁles are template.biband secondarticleb.bibin thesamplesfolder (see page 5). In this section, you learn how to use BIBTEX to process these ﬁles to create a bibliography. We illustrate the process of working with BIBTEX with thesecondarticleb sample article. We use theamsplainstyle. To obtain all six examples of diﬀerent styles shown on pages 422–423, just change amsplain to the appropriate style name in your document and typeset it. One BIBTEX style behaves diﬀerently. The apacite style of the American Psychological Association requires that the preamble of your document include the line
\usepackage{apalike}
in addition to using the style ﬁle. The package can also be modiﬁed by a large number of options.</p>

<h4 id="15-2-1-sample-files">15.2.1 Sample files</h4>

<p>Type the following two lines to replace the thebibliography environment in the secondarticle.tex sample document:
\bibliographystyle{amsplain} \bibliography{secondarticleb}</p>

<p>Save the new sample article as secondarticleb.tex. The ﬁrst line speciﬁes the bst ﬁle, amsplain.bst, which is part of the AMS distribution (see Section 9.6). The second line speciﬁes the database ﬁles used, secondarticleb.bib; in this case there is only one. The contents of the secondarticleb.bib bibliographic database ﬁle are as follows:
@BOOK{gM68, author = &quot;George A. Menuhin&quot;, title = &quot;Universal Algebra&quot;, publisher = &quot;D.~Van Nostrand&quot;, address = &quot;Princeton&quot;, year = 1968, } @BOOK{fR82, author = &quot;Ferenc R. Richardson&quot;, title = &quot;General Lattice Theory&quot;, edition = &quot;Expanded and Revised&quot;, language = &quot;Russian&quot;, publisher = &quot;Mir&quot;, address = &quot;Moscow&quot;, year = 1982, } @ARTICLE{eM57, author = &quot;Ernest T. Moynahan&quot;, title = &quot;On a Problem of {M. Stone}&quot;, journal = &quot;Acta Math. Acad. Sci. Hungar.&quot;, pages = &quot;455-460&quot;, volume = 8, year = 1957, }
@ARTICLE{eM57a, author = &quot;Ernest T. Moynahan&quot;, title = &quot;Ideals and Congruence Relations in Lattices.~\textup{II}&quot;, journal = &quot;Magyar Tud. Akad. Mat. Fiz. Oszt. K{\&quot;{o}}zl.&quot;, language = &quot;Hungarian&quot;, pages = &quot;417-434&quot;, volume = 7, year = 1957, }
@PHDTHESIS{sF90, author = &quot;Soo-Key Foo&quot;, title = &quot;Lattice Constructions&quot;,</p>

<p>school = &quot;University of Winnebago&quot;, address = &quot;Winnebago, MN&quot;, year = 1990, month = dec, }
Type secondarticleb.bib or copy it from the samples folder to your work folder.</p>

<h4 id="15-2-2-setup">15.2.2 Setup</h4>

<p>Before you start BIBTEX, make sure that everything is set up properly as described in this section. To list database entries in the bibliography, use the\citecommand. Refer to Section 8.5.1 for details on how to use citations. If you want to have a reference listed in the bibliography without a citation in the text, then use the \nocite command. For example,
\cite{pK57}
includes the reference in the bibliography and cites the entry with label pK57, whereas
\nocite{pK57}
includes the reference in the bibliography but does not cite the entry. In either case, one of the bib ﬁles speciﬁed in the argument of the \bibliography command must contain an entry with the label pK57. The\nocite{*} command includes all the entries from the bibliographic databases you’ve speciﬁed. Your document must specify the bibliography style and must name the bib ﬁles to be used. For instance, the secondarticleb.tex sample article contains the lines
\bibliographystyle{amsplain} \bibliography{secondarticleb}
The \bibliographystyle command speciﬁes amsplain.bst as the style and the \bibliography command speciﬁes the database ﬁle secondarticleb.bib. To use several database ﬁles, separate them with commas, as in
\bibliography{abbrev,gg,lattice,secondarticleb}
where
abbrev.bib contains custom abbreviations gg.bib contains personal articles lattice.bib contains lattice theory articles by other authors secondarticleb.bib contains additional references needed</p>

<p>It is important to make sure that the bst ﬁle, the bib ﬁle(s), and the L ATEX document(s) are in folders where BIBTEX can ﬁnd them. If you are just starting out, you can simply copy all of them into one folder. Later, you may want to look for a more permanent solution by keeping the ﬁles abbrev.bib and lattice.bib in one “central” location, while placing secondarticleb.bib in the same folder as its corresponding L ATEX document.</p>

<h4 id="15-2-3-four-steps-of-bibtexing">15.2.3 Four steps of BIBTEXing</h4>

<p>The following steps produce a typeset bibliography in your L ATEX document. We use the secondarticleb.tex sample article as an example. Step1 Check that BIBTEX, your L ATEX document, and the bib ﬁles are placed in the appropriate folders. Step2 Typeset secondarticleb.tex to get a fresh aux ﬁle. This step is illustrated in Figure 15.1. Step3 Run BIBTEX on thesecondarticleb.aux ﬁle in one of the following three ways:
by invoking it with the argument secondarticleb by starting the application and then opening secondarticleb.aux
by running it by choosing it as a menu option of your editor or GUI front end or by clicking on an icon
If BIBTEX cannot ﬁnd a crucial ﬁle, for example, thebstﬁle, it stops. The reason it stopped is shown in the log window and also written to a blg (bibliography log) ﬁle, secondarticleb.blg. Correct the error(s) and go back to step 2. A successful run creates a bbl (bibliography) ﬁle, secondarticleb.bbl, in addition to secondarticleb.blg. This step is illustrated in Figure 15.2. Step4 Typeset the L ATEX document secondarticleb.textwice.</p>

<h4 id="15-2-4-bibtex-files">15.2.4 BIBTEX files</h4>

<p>BIBTEX uses and creates a number of ﬁles when it is run. To illustrate this process, complete the four steps using secondarticleb.tex. Step1 Start fresh by deleting the aux, blg, and bbl ﬁles, if they are present. Step2 Typeset the article secondarticleb.tex to get an aux ﬁle (see Figure 15.1). Notice that thelogﬁle contains warnings about missing references and a number of other lines not relevant to the current discussion. The lines in the aux ﬁle containing bibliographic information are</p>

<p>sampartb.tex the source file
sampartb.aux the aux file
typeset
L ATEX
Figure 15.1: Using BIBTEX, step 2.
lbb.btrapmasxua.btrapmas bibliography file
sampartb.blg the log file
the aux file
Figure 15.2: Using BIBTEX, step 3.
\citation{fR82} \citation{gM68} \citation{eM57} \citation{sF90} \citation{eM57a} \bibstyle{amsplain} \bibdata{secondarticleb}
Each \citation command in this ﬁle corresponds to a \cite or \nocite command in the article. The lines</p>

<p>\bibliographystyle{amsplain} \bibliography{secondarticleb}
in secondarticleb.tex are written as
\bibstyle{amsplain} \bibdata{secondarticleb}
in the secondarticleb.aux ﬁle. Step3 Now run BIBTEX on thesecondarticleb.auxﬁle (see Figure 15.2). How we do this, depends on the L ATEX installation you have. BIBTEX generates two new ﬁles: secondarticleb.blg and secondarticleb.bbl. Look at secondarticleb.blg:
This is BibTeX, C Version 0.99c The top-level auxiliary file: secondarticleb.aux The style: amsplain.bst Database file #1: secondarticleb.bib
On some systems, this ﬁle may be much longer than the one I show here. At present, this blg ﬁle does not contain much important information. If there were any warnings or errors, they would be listed in this ﬁle. The secondarticleb.bbl ﬁle, in which BIBTEX created a thebibliography environment (see Section 8.5.1) is more interesting:
\providecommand{\bysame}{\leavevmode% \hbox to3em {\hrulefill}\thinspace} \begin{thebibliography}{1}
\bibitem{sF90} Soo-Key Foo, \emph{Lattice constructions}, Ph.D. thesis, University of Winnebago, Winnebago, MN, December 1990.
\bibitem{gM68} George~A. Menuhin, \emph{Universal algebra}, D.~Van Nostrand, Princeton, 1968.
\bibitem{eM57a} Ernest~T. Moynahan, \emph{Ideals and congruence relations in lattices.~\textup{II}}, Magyar Tud. Akad. Mat. Fiz. Oszt. K{\&quot;{o}}zl. \textbf{7} (1957), 417-434 (Hungarian).
\bibitem{eM57}</p>

<p>\bysame, \emph{On a problem of {M. Stone}}, Acta Math. Acad. Sci. Hungar. \textbf{8} (1957), 455-460.
\bibitem{fR82} Ferenc~R. Richardson, \emph{General lattice theory}, expanded and revised ed., Mir, Moscow, 1982 (Russian).
\end{thebibliography}
Observethatthenonbreakablespaces(ties)andthe\bysamecommandhavebeen provided in the author ﬁelds. Step4 Now typeset secondarticleb.tex again. The typeset version now has a References section, constructed from the bbl ﬁle, but the new log ﬁle has warnings about missing entries. The new aux ﬁle contains ﬁve interesting new lines:
\bibcite{sF90}{1} \bibcite{gM68}{2} \bibcite{eM57a}{3} \bibcite{eM57}{4} \bibcite{fR82}{5}
These lines identify the cross-reference label sF90 (see the ﬁrst line shown—the symbol designates Foo’s thesis in secondarticleb.bib) with the number 1, and so on. Now typeset secondarticleb.tex again, and all the citations are correctly placed in the typeset article.
Observe:
1. The crucial step 3, running the BIBTEX application, gives diﬀerent messages and obeys diﬀerent rules from L ATEX—see Section 15.2.5. 2. Thesecondarticleb.bblﬁlewascreatedbyBIBTEX. Itisnotchangedbyrunning L ATEX.</p>

<h4 id="15-2-5-bibtex-rules-and-messages">15.2.5 BIBTEX rules and messages</h4>

<p>Rule BIBTEXand% You cannot comment out a ﬁeld with an %.</p>

<p>For example, the entry
@ARTICLE{eM57, author = &quot;Ernest T. Moynahan&quot;, title = &quot;On a Problem of {M. Stone}&quot;, journal = &quot;Acta Math. Acad. Sci. Hungar.&quot;, % pages = &quot;455-460&quot;, volume = 8, year = 1957, }
causes BIBTEX to generate the message
Recall that BIBTEX ignores ﬁeld names it cannot recognize. So changing the ﬁeld name pages, for example to pages-comment, does not give a message. However, doing so removes a required ﬁeld, so you get the warning message
Warning--missing pages in eM57
Rule BIBTEXﬁeldnames Do not abbreviate ﬁeld names.
For instance, if you abbreviate volume to vol, as in @ARTICLE{eM57, author = &quot;Ernest T. Moynahan&quot;, title = &quot;On a Problem of {M. Stone}&quot;, journal = &quot;Acta Math. Acad. Sci. Hungar.&quot;, pages = &quot;455-460&quot;, vol = 8, year = 1957, } the vol ﬁeld is simply ignored. This entry is typeset as
3. Ernest T. Moynahan, On a problem of M. Stone, Acta Math. Acad. Sci. Hungar. (1957), 455–460.
instead of
3. Ernest T. Moynahan, On a problem of M. Stone, Acta Math. Acad. Sci. Hungar. 8 (1957), 455–460.</p>

<p>Rule BIBTEXﬁeldterminations Make sure that every ﬁeld of an entry, except possibly the last, is terminated with a comma.
If you drop a comma before a ﬁeld, you get a message such as
I was expecting a ‘,’ or a ‘)’ line 6 of file secondarticleb.bib : : year = 1968, (ay have been on previous line) I’m skipping whatever remains of this entry Warning--missing year in gM68+
Rule BIBTEXﬁeldvalueterminations Make sure that the ﬁeld value is properly terminated.
You should be careful not to drop a double quote or brace. If you drop the closing quote on line 11 of the bib ﬁle, title = &quot;General Lattice Theory
you get the message
I was expecting a ‘,’ or a ‘}’ line 12 of file secondarticleb.bib : edition = &quot;+\ : Expanded and Revised&quot;, I’m skipping whatever remains of this entry Warning--missing publisher in fR82 Warning--missing year in fR82
I was expecting a ‘,’ or a ‘}’ line 12 of file secondarticleb.bib : edition = &quot; : Expanded and Revised&quot;, I’m skipping whatever remains of this entry Warning--missing publisher in fR82 Warning--missing year in fR82
If, instead, you drop the opening double quote in the same line, you get the message
Warning--string name &quot;general&quot; is undefined --line 11 of file secondarticleb.bib I was expecting a ‘,’ or a ‘}’</p>

<p>line 11 of file secondarticleb.bib : title = general : Lattice Theory&quot;, I’m skipping whatever remains of this entry Warning--missing title in fR82 Warning--missing publisher in fR82 Warning--missing year in fR82 (There was 1 message)+ BIBTEX assumed that general was an abbreviation, since it was not preceded by a &quot;. The obvious conclusion is that you have to be very careful about typing your bibliographic entries for BIBTEX. If you have access to special tools for maintaining your bibliographic data, use them. Otherwise, refer to the template.bib ﬁle that contains templates of often-used entry types.</p>

<h4 id="15-2-6-submitting-an-article">15.2.6 Submitting an article</h4>

<p>If you submit an article to a journal that provides you with a BIBTEX style ﬁle, then you can submit the article and the BIBTEX database ﬁle, pared down of course. If this is not the case, create the bbl ﬁle with amsplain.bst and copy and paste the content into the thebibliography environment in the article. Then the journal’s editor can edit the bibliography.</p>

<h3 id="15-3-concluding-comments">15.3 Concluding comments</h3>

<p>There is a lot more to BIBTEX than what has been covered in this chapter. For example, BIBTEX’s algorithm to alphabetize names is fairly complicated. Some names create additional diﬃculties. Where should John von Neumann be placed, under the “v”-s or the “N”-s? It depends on the style. How do we handle names where the ﬁrst word is the family name, as in Ho Chi Minh or Grätzer György? Again, it depends on the style. Oren Patashnik’s BIBTEXing [62] has many helpful hints. It includes a clever hack to order entries correctly even when the style does not do so. Chapter 13 of The L ATEX Companion, 2nd edition [56] has a long discussion of BIBTEX. It also contains a long list of styles. There are many tools to make BIBTEXing easier. BibDesk for the Mac is an excellent graphical BIBTEX-bibliography manager. For Windows, there is BibTexMng. For UNIX, there is pybibliographer and if you are an Emacs user, there is Ebib. Written in Java, so available on most platforms, is JBibtexManager. There are many BIBTEX databases. The largest one may be “The Collection of Computer Science Bibliographies” with more than two million references. You can easily build your own mathematical databases with MathSciNet from the AMS. Do a search. When the result page comes up, go to the pull down menu next to Batch Download and select Citations (BibTeX). Now you can check mark the items you want by clicking on the little squares and then click on Retrieve Marked next to the pull down menu or click on Retrieve First 50. For the latter to work</p>

<p>well, before your search, click on the Preferences button and click on the circle next to50, so you get at most 50 items per result page. ThenRetrieve First 50retrieves them all. Finally, after many years of development, the AMS released amsrefs, the kid brother of BIBTEX, at its annual meeting in January 2002. The presentation was made by Michael Downes, who designed and coded the package. I was very excited to hear his lecture—bibliographic management was the last block needed to complete the rebuilding of L ATEX. It turned out that amsrefs is not simply a BIBTEX replacement. It has a number of very important new features.
1. You can, with amsrefs, enter the marked up bibliographic entries into the document. This means that the document class of the journal publishing the paper can format your bibliography.
2. amsrefs is a L ATEX package. Therefore, you do not have to learn (another) esoteric language to control the formatting of your bibliography. Developing a format for a journal is very easy.
3. The bibliographic data ﬁles are also L ATEX ﬁles, so you can print them within L ATEX, making it easy to maintain them.
After Michael Downes passed away, David Jones took over the project, and released version 2.0 in June of 2004. Unfortunately, unlike the BIBTEX and its bbl ﬁle, amsrefs directly creates the typeset ﬁle. So if the journal you want to submit your article to does not have an amsrefs style ﬁle—and today only the AMS journals have them—then you have to manually convert the amsrefs entries into the format the journal would accept. There is no option to set in amsrefs to produce a L ATEX source ﬁle for the bibliographic entries. Therefore, unless you know that you intend to submit to an AMS journal—and you know that it will accept your article for publication—you should not use amsrefs. There is a second obstacle. There is no BibDesk or BibTexMng for amsrefs. But I believe that if amsrefs overcomes the ﬁrst obstacle, then the second obstacle would resolve itself fast. Philipp Lehman’s biblatex package shares some of Michael Downes’ goals. It works with (some) BIBTEX databases and uses L ATEX to format the bibliography.</p>

<h2 id="16-makeindex">16 MakeIndex</h2>

<p>Pehong Chen’s MakeIndex application, described in Pehong Chen and Michael A. Harrison’s Index preparation and processing [10], helps LATEX users create long indexes. For short indexes, you can easily do without it (see Section 8.5.2).</p>

<p>Pehong Chen和Michael A. Harrison的索引制备和处理[10]中描述的Pehong Chen的MakeIndex应用程序帮助LATEX用户创建长索引。对于短索引，您可以轻松地不使用它(参见8.5.2节)。</p>

<p>In Section 16.1, we show you by an example how to prepare an article for indexing. We introduce formally the index commands in Section 16.2. In Section 16.3, we describe how LATEX and MakeIndex process the index entries. The rules are stated in Section 16.4.</p>

<p>在第16.1节中，我们将通过一个示例向您展示如何为文章编制索引。我们将在第16.2节中正式介绍索引命令。在第16.3节中，我们将描述LATEX和MakeIndex如何处理索引条目。规则载于第16.4节。</p>

<p>Multiple indexes are almost as easy as single indexes. They are described in Section 16.5. We conclude with glossaries in Section 16.6.</p>

<p>多个索引几乎与单个索引一样简单。它们在第16.5节中说明。我们在第16.6节中以词汇总结。</p>

<p>Indexing is a diﬃcult task. For an extensive discussion on how to create a useful index, consult The Chicago Manual of Style, 15th edition [11].</p>

<p>索引是一项艰巨的任务。有关如何创建有用的索引的详细讨论，请参阅芝加哥风格手册第15版[11]。</p>

<h3 id="16-1-preparing-the-document">16.1 Preparing the document</h3>

<p>L ATEX provides the theindex environment (see Section 8.5.2). Within this environment, itprovidesthe\item,\subitem, and\subsubitemcommandstotypesetentries, subentries, and subsubentries, respectively, and the\indexspacecommand for adding vertical space between alphabetical blocks, see Figure 16.1 for an example.</p>

<p>The makeidx package provides the \index command for specifying the index entry at a particular point in the document, which becomes a page reference for the entry in the typeset index. Making an index entry with MakeIndex is easy. You simply place the index commands in your source ﬁle, and then let L ATEX and MakeIndex do the work of gathering theentriesandthepagenumbersfortheentries, sortingthem, andformattingthetypeset index. There are three steps:
1. In the preamble of your L ATEX document, include the line \makeindex
If you do not use an AMS document class, include the two lines
\usepackage{makeidx} \makeindex
2. Type the line
\printindex
at the point in your document where you want the index to appear, usually as part of the back matter (see Section 8.5).
3. Mark all entries in your document with \index commands. Weillustratethisprocedure withthefirstarticlei.texarticle, which modiﬁes the article firstarticle.tex by inserting a number of index entries (both these ﬁles are in thesamples folder; see page 5). We now add a dozen \index commands to firstarticle.tex.
Command1
Retype the line
\begin{theorem}
to read
\begin{theorem}\index{Main Theorem} Commands2and3
Type the commands
\index{pistar@$\Pi^{<em>}$ construction}% \index{Main Theorem!exposition|(}%
after the line
\section{The $\Pi^{</em>}$ construction}\label{S:P*}</p>

<p>Command4
Retype the line
See also Ernest~T. Moynahan~\cite{eM57a}.
as follows:
See also Ernest~T. \index{Moynahan, Ernest~T.}% Moynahan~\cite{eM57a}. Commands5to7
Type the three index items
\index{lattice|textbf}% \index{lattice!distributive}% \index{lattice!distributive!complete}%
before the line
\begin{theorem}\label{T:P*} Command8
Type
\index{Main Theorem!exposition|)}
after the line
hence $\Theta = \iota$. Command9
Retype the line
\bibitem{sF90}
as follows:
\bibitem{sF90}\index{Foo, Soo-Key}% Command10
Retype the line
\bibitem{gM68}
as follows:
\bibitem{gM68}\index{Menuhin, George~A.}%</p>

<p>Command11
Retype the line
\bibitem{eM57}
as follows:
\bibitem{eM57}\index{Moynahan, Ernest~T.}% Command12
Retype the line
\bibitem{eM57a}
as follows:
\bibitem{eM57a}\index{Moynahan, Ernest~T.}% These\indexcommandsproducetheindexforthefirstarticlei.texarticleshown in Figure 16.1. Notice that although you typed 12 index commands, only 11 entries appear in the index. The last two entries for Moynahan (commands 11 and 12) occur on the same typeset page, so only one page number shows up in the index.
Figure 16.1: A simple index.
The showidx package (see Section 10.3) lists all the index items of a page in a top corner on the margin. The top of the ﬁrst page of the typeset firstarticlei.tex is shown in Figure 16.2.</p>

<p>Figure 16.2: Using showidx.</p>

<h3 id="16-2-index-commands">16.2 Index commands</h3>

<p>There are a few major forms of \index commands. They are discussed in this section, illustrated by the commands shown in Section 16.1.
Simple\index commands
The index entry
Foo, Soo-Key, 2
was created by command 9,
\index{Foo, Soo-Key}
This entry is an example of the simplest form of an index command:
\index{entry}
The entry
lattice, 2
was created as command 5,
\index{lattice|textbf} Ignore, for the time being, the |textbf part. This entry has a subentry,
lattice, 2 distributive, 2
which was created by command 6,
\index{lattice!distributive}</p>

<p>There is also a subsubentry,
lattice, 2 distributive, 2 complete, 2
which was created by command 7, \index{lattice!distributive!complete} The form of the \index command for subentries is \index{entry!subentry}
and for subsubentries it is \index{entry!subentry!subsubentry}
Modiﬁers
Command 5 \index{lattice|textbf} produces a bold page number in the entry lattice. The command whose name follows the symbol | (in this case, the command name is textbf) is applied to the page number. For instance, if you want a large bold page number, then deﬁne the command \LargeBold as \newcommand{\LargeBoldB}[1]{\textbf{\Large #1}} and type the \index command as \index{entry|LargeBold} You can also modify \index commands to indicate pageranges:
Main Theorem, 1 exposition, 1–2
The latter index entry has a page range. It was created with commands 3 and 8: \index{Main Theorem!exposition|(} \index{Main Theorem!exposition|)} Separate an entry from its modiﬁer with |, open the page range with (, and close it with ). Modiﬁers can also be combined. The index commands \index{Main Theorem!exposition|(textbf} \index{Main Theorem!exposition|)textbf}
produce a bold page range.</p>

<p>Sortingcontrol
Observe the \index command \index{pistar@$\Pi^{*}$ construction}
This produces the entry
Π∗ construction, 1
To place this entry in the correct place in the index, use a sortkey. The general form of an \index command with a sort key is \index{sortkey@entry} In this example, the sortkey is pistar. When the entries are sorted, the sortkey is used to sort the entry. A few typical examples follow: Example1 An \index command for G.I. Žitomirski˘ ı, \index{Zitomirskii@\v{Z}itomirski\u{\i}, G.I.}
sorts Žitomirski˘ ı with the Z entries. If you used the command
\index{\v{Z}itomirski\u{\i}, G.I.}
Žitomirski˘ ı would be sorted with the v’s. Example2 An \index command for the Őrmester lemma, \index{Ormester@\H{O}rmester lemma}
would sort Őrmester lemma with the O entries. If you used the command
\index{\H{O}rmester lemma}
Őrmester lemma would be sorted with the H’s. Example3 An \index command for truncated lattice, \index{truncated lattice@\emph{truncated} lattice}
sorts truncated lattice with the t entries. If you use the command
\index{\emph{truncated} lattice}
this would sort truncated lattice with the e’s.</p>

<p>Example4 We want to place the symbol Truncat 𝑓, typed as \Trunc f (see Section 14.1.6) in the index, sorted as Trunc.
\index{$\Trunc f$} would placeTruncat 𝑓 near the beginning of the index, sorted with the$symbol. If you use the command
\index{Trunc@$\Trunc f$} this would sort Truncat 𝑓 with the T’s.
Sortingcontrolandsubentries
If you want to place a subentry under an entry with a sort key, you must include the sort key part of the entry as well: \index{sortkey@entry!subentry}
For instance, \index{Zitomirskii@\v{Z}itomirski\u{\i}, G.I.!education}
You can also use a sort key for subentries (and subsubentries), such as \index{lattice!weakly distributive@ \emph{weakly} distributive}
or, a more complicated example, \index{Zitomirskii@\v{Z}itomirski\u{\i}, G.I.!elementary education@\textbf{elementary} education}
Specialcharacters
Since the!,@, and|characters have special meanings within an\indexcommand, you need to quote those characters if you want them to appear as themselves. MakeIndex uses the double quote character (&quot;) for this purpose: &quot;!, &quot;@, and &quot;|. Because this usage makes the double quote a special character itself, it also has to be quoted if you need to use it in an \index command: &quot;&quot;. Example1 To produce the entry Start here!, type the \index command as \index{Start here&quot;!} Example2 To produce the entry @ symbol, type the \index command as \index{&quot;@ symbol} Example3 To produce the entry |𝐴|, type the \index command as \index{&quot;|A&quot;|@$&quot;|A&quot;|$}</p>

<p>Cross-references
It is easy to make a cross-reference to another index entry. For instance, to listdistributive lattice by cross-referencing it to lattice, distributive, the command is \index{distributive lattice|seeonly{lattice, distributive}}
which produces the entry
distributive lattice, see lattice, distributive
For non-AMS document classes, seeonly should be see. A command of this form can be placed anywhere in the document.
Tip Put all cross-referencing \index commands in one place in your document, so they are easy to keep track of.
Placementof \indexcommands
The principle is simple.
Rule Placementof \indexcommands An \index command should:
1. Reference the correct page
2. Not introduce unwanted space into the typeset document
For example, you should avoid placing \index commands as shown here: Let $L$ be a distributive lattice \index{lattice} \index{distributive lattice} that is strongly complete. This placement may result in unwanted extra space following the word lattice:
Let 𝐿 be a distributive lattice that is strongly complete.
Note the placement of the \index commands in Section 16.1. In each case I have placed them as close to the referenced item as I could. If you place an index entry on a separate line, use%to comment out unwanted spaces including the end-of-line character (see Section 3.5.1), as in</p>

<p>Let $L$ be a distributive lattice \index{lattice}% \index{distributive lattice}% that is strongly complete.
Read also Section 17.5 on page breaks and index entries.
Listingtheformsofthe\indexcommand
We have discussed the following forms:
\index{entry} \index{entry!subentry} \index{entry!subentry!subsubentry} \index{entry|modifier} \index{entry|open/close modifier} \index{sortkey@entry} \index{sortkey@entry!subentry} \index{sortkey@entry!subsortkey@subentry}
Of course, more combinations are possible; the following may be the longest form:
\index{sortkey@entry!subsortkey@subentry !subsubsortkey@subsubentry|open/close modifier}</p>

<h3 id="16-3-processing-the-index-entries">16.3 Processing the index entries</h3>

<p>Once you are satisﬁed with the \index commands, the index is ready to be created. Step1 Typeset firstarticlei.tex (see Figure 16.3). Step2 Run the MakeIndex application on firstarticlei.idx (see Figure 16.4). Step3 Typeset firstarticlei.tex again.
You ﬁnd the index on page 3 of the typeset document. Let us look at this process in detail. In step 1 (see Figure 16.3), L ATEX creates the firstarticlei.idx ﬁle: \indexentry{Main Theorem}{1} \indexentry{pistar@$\Pi^{*}$ construction}{1} \indexentry{Main Theorem!exposition|(}{1} \indexentry{Moynahan, Ernest~T.}{1} \indexentry{lattice|textbf}{1} \indexentry{lattice!distributive}{1} \indexentry{lattice!distributive!complete}{1} \indexentry{Main Theorem!exposition|)}{2} \indexentry{Foo, Soo-Key}{2}</p>

<p>intrarti.tex the source file
intrarti.idx index entry listing           filetypeset L ATEX
Figure 16.3: Using MakeIndex, step 1.
intrarti.idx index entry listing           file
intrarti.ind index file
intrarti.ilg the log file
Figure 16.4: Using MakeIndex, step 2.
\indexentry{Menuhin, George~A.}{2} \indexentry{Moynahan, Ernest~T.}{2} \indexentry{Moynahan, Ernest~T.}{2} In step 2 (see Figure 16.4), MakeIndex processes firstarticlei.idx and creates theindex ﬁlefirstarticlei.ind, which contains atheindexenvironment with all the index entries:</p>

<p>\begin{theindex}
\item Foo, Soo-Key, 2
\indexspace
\item lattice, \textbf{1} \subitem distributive, 1 \subsubitem complete, 1
\indexspace
\item Main Theorem, 1 \subitem exposition, 1--2 \item Menuhin, George~A., 2 \item Moynahan, Ernest~T., 1, 2
\indexspace
\item $\Pi^{*}$ construction, 1
\end{theindex} The \printindex command reads firstarticlei.ind during the next typesetting cycle. MakeIndex also produces the index log ﬁle firstarticlei.ilg: This is makeindex, version 2.14 <a href="kpathsea + Thai support">02-Oct-2002</a>. Scanning input file firstarticlei.idx....done (12 entries accepted, 0 rejected). Sorting entries....done (43 comparisons). Generating output file firstarticlei.ind....done (22 lines written, 0 warnings). Output written in firstarticlei.ind. Transcript written in firstarticlei.ilg.
It is important to understand that in step 1, L ATEX does not process the index entries, it simply writes the arguments of the \index commands in the source ﬁle to the idx ﬁle as arguments of \indexentry commands verbatim (that is, with no change). MakeIndex then processes the idx ﬁle by removing the double quote marks for the special characters, sorting the entries, and collating the page numbers. The resulting ind ﬁle is a normal L ATEX source ﬁle (you can edit it, if necessary) that is included in the original document by the \printindex command the next time you run L ATEX. In Step 2, we run the MakeIndex application on firstarticlei.idx. How we do this depends on the L ATEX installation you have. In UNIX installations, you type MakeIndex firstarticlei</p>

<p>at the command line. In newer user interfaces, MakeIndex is represented by an icon, and you drop firstarticlei.idx into it. In modern installations, your editor also runs MakeIndex.</p>

<h3 id="16-4-rules">16.4 Rules</h3>

<p>There are some simple rules to keep in mind when entering index items.
Rule Spacesin\index Do not leave unnecessary spaces in the argument of an \index command. \index{item}, \index{␣item}, and \index{item␣}
produces three diﬀerent entries.
There are options that instruct MakeIndex to ignore such spaces, but you are better oﬀ typing the \index commands correctly in the ﬁrst place.
Rule SpacingrulesforMakeIndex L ATEX’s text spacing rules (Section 3.2.1) do not apply. MakeIndexdoes not follow these rules when it sorts the index items. While L ATEX ignores spaces, MakeIndex does not.
Rule Sortkeys In \index{sortkey@item}, thesortkey is both space and case sensitive.
For instance,
\index{alpha@$\alpha$} \index{Alpha@$\alpha$} \index{ALPHA@$\alpha$}
represent three diﬀerent items.
Rule Braces In every entry, the braces must be balanced.
Normally, balancing braces isnot aproblem. Thebraces withinamath formulaoraTEX expression should always be balanced. However, the \index command that creates the entry for { with the sort key leftbrace cannot be typed as
\index{@{}</p>

<p>because L ATEX would give the error message Runaway argument? {leftbrace@{} ! Paragraph ended before \@wrindex was complete. There are many ways to correct this\indexcommand. Perhaps the simplest is to deﬁne
\newcommand{\printleftbrace}{{} and rewrite the \index command \index{@\printleftbrace}
This produces the entry
{,1
There is, of course, a lot more to MakeIndex than what we have discussed in this short introduction, but what we have covered here should do for most documents. See Pehong Chen and Michael A. Harrison’s Index preparation and processing [10] for more detail. Chapter 12 of The L ATEX Companion, 2nd edition [56] coversMakeIndex in great detail, including the customization of indexes.</p>

<h3 id="16-5-multiple-indexes">16.5 Multiple indexes</h3>

<p>We do multiple indexes with Enrico Gregorio’s imakeidx package. As an example, we split the index ﬁle into two parts, Subject Index and Author Index. We include the following three lines in the preamble:
\usepackage{imakeidx} \makeindex[title=Subject Index] \makeindex[name=author, title=Author Index]
Now enter each index command for authors in the following form:
\index{author}{Moynahan, Ernest~T.}
The other index commands are entered as usual. Where you want the two indexes to appear in the typeset document, enter the commands
\printindex[author] \printindex
These two commands are usually, but not necessarily, adjacent. If you want to typeset the indexes in the style provided by the theindex environment in your document class, invoke imakeidx with</p>

<p>\usepackage[original]{imakeidx} Also note the very useful \indexprologue command. It provides text (the argument of the command) to be typeset between the index header and the entries. The imakeidx package has lots of nice features; see the excellent documentation.</p>

<h3 id="16-6-glossary">16.6 Glossary</h3>

<p>Using the glossary commands is very similar to using the corresponding index commands. Instead of the
index makeindex
commands, use the
glossary makeglossary commands, respectively. Glossary entries are written in thegloﬁle, which corresponds to the idx ﬁle. L ATEX gives you no further assistance in making a glossary ﬁle. There is no \printglossary command, theglossary environment, orMakeGlossaryapplication. There is, however, Thomas Henlich’s makeglos package (see Section D.1).</p>

<h3 id="16-7-concluding-comments">16.7 Concluding comments</h3>

<p>Style ﬁles are available in a very limited form also for MakeIndex. Google
makeindex style
for an up-to-date listing. Indexing is a very complex process, so it is not surprising that there are many index packages available. CTAN lists a number of them in the index directory. The best known is xindy, described in detail in The L ATEX Companion, 2nd edition [56].</p>

<h2 id="17-books-in-latex">17 Books in LATEX</h2>

<p>Since the introduction of LATEX, the visual quality of articles published in mathematical journals has improved dramatically. Unfortunately, the same cannot be said of books published using LATEX. A record number of very ugly books have appeared.</p>

<p>自从引入LATEX以来，数学期刊上发表的文章的视觉质量有了显著的提高。不幸的是，使用LATEX出版的书籍却不是这样。出现了数量空前的丑陋书籍。</p>

<p>It is easy to understand why. While amsart has been designed to produce highquality printed output, the standard book document classes do not produce attractive books without additional work.</p>

<p>原因很容易理解。虽然amsart被设计成产生高质量的印刷输出，但是标准的图书文档类如果没有额外的工作就不能产生有吸引力的图书。</p>

<p>LATEX provides the book and the amsbook document classes to serve as foundations for well-designed books. Better quality books have to use document classes designed by professionals. We brieﬂy discuss logical and visual design in Section 2.3.</p>

<p>LATEX提供了book和amsbook文档类，作为设计良好的图书的基础。高质量的书籍必须使用专业人员设计的文档类。我们将在第2.3节简要讨论逻辑设计和视觉设计。</p>

<p>So this chapter is not about how to produce a ﬁnished book using LATEX. Our goal is much more modest, how to prepare a book manuscript for your publisher. In Section 17.1 we describe the book document classes book and amsbook. The table of contents and lists of ﬁgures and tables are discussed in Section 17.2.</p>

<p>所以这一章不是关于如何使用LATEX完成一本书。我们的目标是更谦虚，如何为你的出版商准备一本书的手稿。在第17.1节中，我们描述了图书文档类book和amsbook。目录和图表列表将在第17.2节中讨论。</p>

<p>Typesetting a book involves dozens of ﬁles. Section 17.3.3 gives some tips on how to organize them. Section 17.4 covers logical design. Section 17.5 deals with the ﬁnal preparation of your edited manuscript for your publisher. Finally, Section 17.6 suggests a few more things to do if you typeset your book yourself.</p>

<p>排版一本书需要几十个文件。第17.3.3节给出了一些如何组织它们的技巧。第17.4节介绍了逻辑设计。第17.5节涉及为您的出版商编辑的手稿的最后准备。最后，第17.6节建议，如果你自己排字，你应该做更多的事情。</p>

<h3 id="17-1-book-document-classes">17.1 Book document classes</h3>

<p>In this section, we brieﬂy discuss the way in which book and amsbook, the two standard book document classes, diﬀer from the corresponding article document classes.</p>

<p>在本节中，我们将简要讨论book和amsbook这两个标准的图书文档类与相应的article文档类的区别。</p>

<h4 id="17-1-1-sectioning">17.1.1 Sectioning</h4>

<p>Book document classes have chapters, invoked with the\chaptercommand andparts, invoked with\part. The\partcommand is generally used to group chapters in longer documents, for instance in this book. Parts have no eﬀect on the numbering of chapters, sections, and so on, so Chapter 1 of Part I is not numbered as I.1 but as 1. Both \chapter and \part take a title as an argument, but the \chapter command also has an optional argument:
\chapter[short_title]{title}
The optional short_title argument is used in the running head. You may need to protect any fragile commands in title and short_title with the \protect command (see Section 3.3.3). Here is the whole hierarchy:
\part
\chapter \section \subsection \subsubsection \paragraph \subparagraph
Book document classes, as a rule, do not number subsubsections or any of the sectioning divisions below that level.
Equationsinchapters
By default, equations are numbered from 1 within chapters. So in Chapter 1 as well as in Chapter 3, the equations are numbered (1), (2), and so forth. If you have the
\numberwithin{equation}{chapter} command in the preamble, then equations in Chapter 2 are numbered as (2.1), (2.2), and so on.</p>

<h4 id="17-1-2-division-of-the-body">17.1.2 Division of the body</h4>

<p>The book document classes formalize the division of the body into three parts. Frontmatter The material that appears in the front of the document, including the title pages (normally four), table of contents, preface, introduction, and so on. L ATEX numbers these pages using roman numerals. The front matter is introduced with the \frontmatter command. Mainmatter The main part of the book, including the appendices if any. Page numbering starts from 1 using arabic numerals. The main matter is introduced with the \mainmatter command. Backmatter Material that appears in the back of the book, including the bibliography, index, andvariousothersections, suchasthecolophon, afterword, andsoon. The back matter is introduced with the \backmatter command. For the book document class—and the document classes built on it—in the front and back matter, the \chapter command does not produce a chapter number but the title is listed in the table of contents. So you can start your introduction with \chapter{Introduction} Within such a chapter, you should use the *-ed forms of the sectioning commands \section, \subsection, and so on, otherwise you have sections with numbers such as 0.1. In the main matter, the \appendix command marks the beginning of the appendices. Each subsequent chapter becomes a new appendix. For example, \appendix \chapter{A proof of the Main Theorem}\label{A:Mainproof}
produces an appendix with the given title. Note that appendices may be labeled and cross-referenced. In Appendix A, sections are numbered A.1, A.2, and so on, subsections in A.1 are numbered A.1.1, A.1.2, and so on. The precise form these numbers take depends, of course, on the document class, packages, and user-speciﬁc changes (see Section 14.5.1). See Section 17.3.1 for a detailed example. The\chapterand\chapter*commands always produce atitlelisted in thetable of contents for the amsbook document class, and the document classes built on it. The following two questions are frequently asked: My book has only one appendix. How can I get it to be called just “Appendix”, not“AppendixA”? Thesingleappendixinmybookisbeinglabeled“AppendixA”.HowcanIchange this to just “Appendix”? This appendix has a title, so the answer to the preceding question doesn’t apply. These questions are answered in the author FAQ of the AMS, go to <a href="http://www.ams.org/authors/author-faq.html">http://www.ams.org/authors/author-faq.html</a></p>

<h4 id="17-1-3-document-class-options">17.1.3 Document class options</h4>

<p>The options and defaults for the book document classes are the same as those of other document classes (see Sections 9.5 and 10.1.2) with a few exceptions.
Two-sidedprinting Options: twoside default oneside The twoside option formats the output for printing on both sides of a page.
Titlepage Options: titlepage default notitlepage The titlepage option creates a separate title page. The notitlepage option creates no separate pages.
Chapterstart Options: openright default openany A chapter always starts on a new page. The book document class—and the document classes built on it—uses the option openright to start each chapter on an odd page, while the option openany starts each chapter on the ﬁrst available new page. If you use the default option, end each chapter with the command
\cleardoublepage
Then if a chapter ends on an odd page, a blank page is added with no header or page number. The \cleardoublepage command is correctly coded if you use amsbook. Otherwise, use the package cleardoublepage.sty (in the samples folder). The amsbook document class—and the document classes built on it—automatically clears to a right-hand page and leaves a totally blank page if needed.</p>

<h4 id="17-1-4-title-pages">17.1.4 Title pages</h4>

<p>The book document class supports the commands: \title, \author, \date, and \maketitle (see Section 10.1.1). The amsbook document class supports the same commands as amsart (see Section 9.2), except for \date. You can design your own title page within the titlepage environment, which does not require the use of the\maketitlecommand. Title pages for books, of course, should be created by a book designer for the publisher.</p>

<h3 id="17-2-tables-of-contents-lists-of-tables-and-figures">17.2 Tables of contents, lists of tables and figures</h3>

<p>A long document, as a rule, has a table of contents. It may also include a list of ﬁgures and a list of tables.</p>

<h4 id="17-2-1-tables-of-contents">17.2.1 Tables of contents</h4>

<p>What goes into the table of contents? For the amsbook document class—and the document classes built on it—all titles, not the short titles, of the sectioning commands, whether*-ed or not, subject only to the value of the tocdepth counter, as described in the last subsection of Section 14.5.1. For instance, if tocdepth is set to 2, the default, then the titles of chapters, sections, and subsections are included in the table of contents, and subsubsections are excluded. This leaves us with the problem, what do we do if the title is too long? You cannot break the line with \, because this would the appear in table of contents. The AMS coded the following solution: enter the line break in the form \except{toc}{\linebreak} For the book document class—and the document classes built on it—the title or optional argument of the sectioning commands, subject to the value of the tocdepth counter, with the following exceptions:
In Section 8.4.1 we discuss the *-ed versions of sectioning commands. They are excluded from the table of contents.
If the sectioning command has a short title, then it is the short title that is utilized. The example in Section 9.2 shows why this is important. If you have \ in the title, you must have a short title without it, otherwise the linebreak would show up in the running head and the table of contents.
When you typeset your document with a table of contents, L ATEX creates a ﬁle with the toc extension. The next time the document is typeset, the toc ﬁle is typeset too and included in your typeset document at the point where the command \tableofcontents
appears in the source ﬁle, normally in the front matter. If your source ﬁle is named myart.tex, thetoc ﬁle is named myart.toc. This ﬁle lists all the sectioning units as well as their titles and page numbers. If you already have a toc ﬁle, the \tableofcontents command typesets a table of contents using the previously created toc ﬁle and creates a new toc ﬁle. L ATEX adds a line to the table of contents, formatted like a section title, if you include the command
\addcontentsline{toc}{section}{text_to_be_added}</p>

<p>in your source ﬁle. There are three arguments:
1. The ﬁrst argument informs L ATEX that a line, the third argument, should be added to the toc ﬁle.
2. The second argument speciﬁes how the line should be formatted in the table of contents. In our example, the second argument is section, so the line is formatted as a section title in the table of contents. The second argument must be the name of a sectioning command.
3. The third argument is the text to be added.
You can add an unformatted line to the table of contents with the command
\addtocontents{toc}{text_to_be_added}
Such a command can also be used to add vertical spaces into the table of contents. For instance, if you want to add some vertical space before a part, you should insert the following line before the sectioning command for the part:
\addtocontents{toc}{\protect\vspace{10pt}}
Tip If you have a \addcontentsline or \addtocontents command in a ﬁle that is \include-ed, then place it as a ﬁrst line of this ﬁle.
The toc ﬁle is easy to read. The following are typical lines from the table of contents ﬁle for a document using the book document class:
\contentsline{section}{\numberline {5-4.}Top matter}{119} \contentsline{subsection}{\numberline {5-4.1.} Article info}{119} \contentsline {subsection}{\numberline {5-4.2.} Author info}{121}
Section 14.5.1 explains how you can specify which levels of sectioning appear in the table of contents. Section 2.3 of The L ATEX Companion, 2nd edition [56] lists the style parameters for the table of contents. It also shows you how to deﬁne new toc-like ﬁles and use multiple tables of contents in a single document, for instance, adding a mini table of contents for each chapter.
Tip You may have to typeset the document three times to create the table of contents and set the numbering of the rest of the document right.</p>

<ol>
<li>The ﬁrst typesetting creates the toc ﬁle.</li>
<li>The second inserts the table of contents with the old page numbers into the typeset document, re-records in the aux ﬁle the page numbers, which may have changed as a result of the insertion, and cross-references in the aux ﬁle, and generates a new toc ﬁle with the correct page numbers.</li>
<li>The third typesetting uses these new aux and toc ﬁles to typeset the document correctly and creates a new toc ﬁle.
Fragile commands in a movable argument, such as a section (short) title, must be \protect-ed (see Section3.3.3). Here is a simple example using the table of contents. If the document contains the \section command
\section{The function ( f(x^{2}) )}
the section title is stored in the toc ﬁle as
\contentsline {section}{\numberline {1}The function\relax $ f(x^{2}) \relax \GenericError { } {LaTeX Error: Bad math environment delimiter}{Your command was ignored.\MessageBreak Type I <command> <return> to replace it with another command,\MessageBreak or <return> to continue without it.}}{1}
and the log ﬁle contains the message
! LaTeX Error: Bad math environment delimiter.
... l.1 ...continue without it.}}{1}
Error messages usually refer to a line in the source ﬁle, but in this case the error message refers to a line in thetoc ﬁle. The correct form for this section title is
\section{The function \protect( f(x^{2}) \protect)}
or, even simpler,
\verb+\section{The function $f(x^{2})$}
Note that this example is merely an illustration of unprotected fragile commands in movable arguments. As a rule, avoid using formulas in (sectioning) titles.</li>
</ol>

<h4 id="17-2-2-lists-of-tables-and-figures">17.2.2 Lists of tables and figures</h4>

<p>If you place a\listoftablescommand in the document, L ATEX stores information for thelistoftablesinalotﬁle. Thelistoftablesisinsertedintothebodyofyourdocument at the point where the command appears, normally in the front matter, following the table of contents. A list of ﬁgures, similar to a list of tables, can be compiled with the command \listoffigures. This command creates an auxiliary ﬁle with the extension lof. An optional argument of the \caption commands in your tables and ﬁgures can replace the argument in the list of tables and ﬁgures. Typically, the optional argument is used to specify a shorter caption for the list of tables or list of ﬁgures. There are other uses. For instance, you may notice that, as a rule, captions should be terminated by periods. If in the list of tables or list of ﬁgures, your book style ﬁlls the space between the text and the page number with dots, the extra period looks bad. This problem goes away if you use the following form of the \caption command: \caption[title]{title.}
Thereareanalogsofthetableofcontentscommandsforusewithtablesandﬁgures. The command
\addtocontents{lot}{line_to_add} adds a line to the list of tables or to the list of ﬁgures with the ﬁrst argument lof.</p>

<h4 id="17-2-3-exercises">17.2.3 Exercises</h4>

<p>Forexercises,amsbookprovidesthexcbenvironment. Itisusedforaseriesofexercises at the end of a section or chapter. The argument of the environment speciﬁes the phrase (such as Exercises) to begin the list: \begin{xcb}{Exercises} \begin{enumerate} \item A finite lattice $L$ is modular if{f} it does not contain a pentagon.\label{E:pent} \item Can the numbers of covering pairs in\label{E:incr} Exercise~\ref{E:pent} be increased?\label{E:incr}+ \end{enumerate} \end{xcb}
which typesets as
Exercises (1) A ﬁnite lattice L is modular iff it does not contain a pentagon. (2) Can the numbers of covering pairs in Exercise 1 be increased?</p>

<h3 id="17-3-organizing-the-files-for-a-book">17.3 Organizing the files for a book</h3>

<p>An article is typically onetexﬁle and maybe some PDF ﬁles for the illustrations. On the other hand, a book, like this one, is composed of hundreds of ﬁles. In this section, I describe how the ﬁles for a book like this may be organized. There are three commands that help with the organization: \include \includeonly \graphicspath We discuss these commands in this section.</p>

<h4 id="17-3-1-the-folders-and-the-master-document">17.3.1 The folders and the master document</h4>

<p>All the ﬁles for this book are in a folder MiL5 and in this folder the most important document is MiL5.tex, themasterdocument. The master document,MiL5.texreads, ina somewhat simpliﬁed form, as follows: %MiL5 master document \documentclass[leqno]{book} \usepackage{MiL5} \usepackage{makeidx} \makeindex \usepackage{cleardoublepage} \includeonly{ %frontmatter, %intro, %Chapter1,% terminology ... Chapter17,% books %appA,% Math symbol tables ... } \begin{document} \frontmatter \include{frontmatter} \tableofcontents \listoftables\listoffigures \include{intro}%Intro \mainmatter \include{Chapter1}%Mission Impossible ... \include{Chapter17}% Books
\appendix+\ \include{AppendixA}%Math symbol tables+\ ... +\</p>

<p>\backmatter+\ \printindex+\ \end{document}+\[8pt]
Some parts of the master ﬁle deserve comment, for example, the third line, \usepackage{MiL5}
loads the command ﬁle
MiL5.sty
which contains all the commands deﬁned for the book and the code for the book style. Since the book style is based on book.cls, in line 5, we load the makeidx package and print the index with \printindex (see Section 16.1). Line 7 states \usepackage{cleardoublepage}
This creates blank pages after chapters that end on an odd page number (see Section 17.1.3). For the three ...matter commands, see Section 17.1.2.</p>

<h4 id="17-3-2-inclusion-and-selective-inclusion">17.3.2 Inclusion and selective inclusion</h4>

<p>This book is pieced together by the \include commands in the master document. For example, \include{Chapter17} inserts the contents of the ﬁle Chapter17.tex, starting on a new page, as though its contents had been typed at that place in the document. The master document for this book has a lot of \include commands...
Rule Filetermination Terminate every ﬁle you \include with an \endinput command.
If you terminate an\include-ed ﬁle with\end{document},L ATEX gives a warning such as: (\end occurred when \iftrue on line 6 was incomplete) (\end occurred when \ifnum on line 6 was incomplete) If you use \include commands in the master ﬁle, as in the example in Section 17.3.1, then you can use the \includeonly command for selective inclusion. The lines of the \includeonly command parallel the \include commands. Block comment all the lines of the argument of the\includeonlycommand, and uncomment the chapter you are working on. In the example above, I am working on this chapter. The argument of the \includeonly command is a list of ﬁles separated by commas. If you want to typeset the whole book, uncomment all the lines.</p>

<h4 id="17-3-3-organizing-your-files">17.3.3 Organizing your files</h4>

<p>The MiL5 folder, containing the ﬁles of this book, contains MiL5.tex, the master document, the command ﬁleMiL5.sty, and all thetexﬁles listed in the master document, that is, the chapters, the frontmatter, the introduction, the appendices, and of course, all the auxiliary ﬁles that L ATEX creates. This book contains about 300 illustrations in a subfolder Graphics of the folder MiL5.tex. We have to tell L ATEX to look for the illustrations in this folder. We do this with the command
\graphicspath{{Graphics/}}
in the preamble. If you have two folders, Illustr1 and Illustr2 for illustrations, the \includegraphics command takes the form
\graphicspath{{Illustr1/}{Illustr2/}}
Even if you have more than one folder for the illustrations, you must make sure that each graphics ﬁle has a unique name. We place the \graphicspath command in MiL5.sty. In the above commands, / is appropriate for Mac and UNIX computers. For a Windows computer, use \ instead. If you submit a dvi ﬁle, you cannot use the \graphicspath command.</p>

<h3 id="17-4-logical-design">17.4 Logical design</h3>

<p>The discussion of logical and visual design in Section 2.3 applies to books even more than to articles. Since books are long and complex documents, errors in the logical design are much harder to correct. Let us review some common sense rules.
Rule1 Stick with the sectioning commands provided by the document class. Deﬁne the nonstandard structures you wish to use as environments.
Here is an example which is obviously bad:
\vspace{18pt}
\noindent \textbf{Theorem 1.1.} \textit{This is bad.}
\vspace{18pt}</p>

<p>And a good way to achieve the same result:
\begin{theorem}\label{T:Goodtheorem} This is a good theorem. \end{theorem}
The bad example creates a number of diﬃculties.
You have to number the theorems yourself. Adding, deleting, and rearranging theorems becomes diﬃcult and updating cross-references is even harder.
It is diﬃcult to keep such constructs consistent.
If the publisher decides to increase the white space before and after the theorems to 20 points, ﬁnding and changing all the appropriate commands becomes a tedious and error prone task.
Rule2 Deﬁne frequently used constructs as commands.
Rather than
\textbf{Warning! Do not exceed this amount!}
deﬁne
\newcommand{\important}[1]{\textbf{#1}}
and type your warnings as
\important{Warning! Do not exceed this amount!}
You or your editor can then change all the warnings to a diﬀerent style with ease.
Rule3 Avoid text style commands.
If you use small caps for acronyms, do not type
\textsc{ibm}
but rather deﬁne
\newcommand{\ibm}{\textsc{ibm}}
and then
\ibm</p>

<p>or more generally
\newcommand{\acronym}[1]{\textsc{#1}}
and then
\verb+\acronym{ibm}+
Rule4 Avoid white space commands.
Occasionally, you may feel that there should be some white space separating two paragraphs, so you do the following:
paragraph 1
\medskip
paragraph 2
It would be better to deﬁne a new command, say \separate, as
\newcommand{\separate}{\medskip}
and type the previous example as
paragraph 1
\separate
paragraph 2
Now such white space can be adjusted throughout the entire document by simply redeﬁning one command. Note that redeﬁning\medskipitself may have unintended side eﬀects:
Many environments depend on L ATEX’s deﬁnition of \medskip. You may have used \medskip in other situations as well.
Here is a short list of commands should not redeﬁne: \bigskip \hfil \hspace \parskip \vfill \vspace \break \hfill \kern \smallskip \vglue \eject \hglue \medskip \vfil \vskip</p>

<h3 id="17-5-final-preparations-for-the-publisher">17.5 Final preparations for the publisher</h3>

<p>Throughout this book, there are a number of “don’ts”. Most are practices you should avoid while writing articles. When writing a book, it is even more important not to violate these rules. When the editors, including the copy editor, are ﬁnished with your manuscript and you have the document class designed for the book, then you can start on the ﬁnal preparations.
Step1 Eliminate all TEX commands.
TEX commands, that is, Plain TEX commands that are not part of L ATEX (not listed
as L ATEX commands in the index of this book) may interfere with L ATEX in unexpected ways. They may also cause problems with the style ﬁle that is created for your book.
Step2 Collect all your custom commands and environments together in one place, preferably in a separate command ﬁle (see Section 14.3).
Step3 Make sure that custom commands for notations and custom environments for structures are used consistently throughout your document.
This book uses the command \doc for document names, so firstarticle is typedas\doc{firstarticle}. Ofcourse,\texttt{firstarticle}givesthesame result,butifyouintermix\doc{firstarticle}and\texttt{firstarticle}commands, you lose the ability to easily change the way document names are displayed.
Step4 Watch out for vertical white space adding up.
Do not directly follow one displayed math environment with another. Multiple adjacent lines of displayed mathematics should all be in the same environment.
If your style ﬁle uses interparagraph spacing, avoid beginning paragraphs with displayed math.
For instance,
[
x=y
]</p>

<p>[
x=z
] is wrong. Use, instead, an align or gather environment.
Step5 If possible, do not place “tall” mathematical formulas inline. All formulas that might change the interline spacing, as a rule, should be displayed.
You can ﬁnd examples on pages 138 and 368. Here is one more example, double hat accents used inline: ̂ ̂ 𝐴.
Step6 Read the log ﬁle. Watch for line-too-wide warnings (see Section 1.4).
Check for font substitutions (see Section 3.6.7).
Adobe Acrobat Professional has a preﬂight utility. It will check whether the PDF version of your typeset document has all the fonts it requires.
Step7 Do not assume that gray boxes or color illustrations appear when published exactly the way that they look on your monitor or printer.
Color work requires calibration of monitors and printers. It is often best left to the experts at the publisher.
Step8 Do not assume that the application that created your PDF ﬁles (see Section 8.4.3) can create high-quality PDF ﬁles.
Many applications can create PDF ﬁles or convert ﬁles to PDF format. Very few do it right. Ask your publisher what applications they recommend. Font substitutions can also cause problems:
A font that was used in typesetting the document may not be the font you intended. Missing fonts are substituted and the substitute fonts are rarely satisfactory.
A special trap: Your publisher may have more, or maybe fewer, fonts than you do! As a result, the font substitutions on your publisher’s system may be diﬀerent from those on yours. Make sure that the fonts you use are not substituted.</p>

<h3 id="17-6-if-you-create-the-pdf-file-for-your-book">17.6 If you create the PDF file for your book</h3>

<p>Many publishers take your manuscript, prepared as described in Section 17.5, and guide it through the ﬁnal steps for printing. Some books, however, are prepared by the authors for printing using a custom document class for books and submitted to the publisher as PDF ﬁles. If your book falls into this category, there are a few more things you should do before you create the ﬁnal PDF ﬁle for your book.
Adjust the pages
MakesurethatyouaresatisﬁedwiththewaythedocumentisbrokenintopagesbyL ATEX and with the placement of the figure and table environments (see Section 8.4.3). If necessary, you should make last-minute changes to adjust page breaks. You may ﬁnd the \enlargethispage command (see Section 3.7.3) very helpful at this stage. Just be sure to apply it on both facing pages. To ensure that
Page numbers in the index are correct
\pageref references (see Section 8.4.2) are correct
Marginal comments (see Section 3.9.4) are properly placed
Tables and ﬁgures are properly placed
insert page breaks where necessary. Where pages break, add the three commands \linebreak,\pagebreak, and\noindent. Hereisanexample. Thebottomofpage3 and the top of page 4 of my bookGeneralLatticeTheory[28] are shown in Figure17.1.
In other words, lattice theory singles out a special type of poset for detailed investigation. To make such a deﬁnition worthwhile, it must be shown that this class of posets is a very useful class, that there are many such posets in various branches of mathematics (analysis, topology, logic, algebra, geometry, and so on), and that a general study of these posets will lead to a better understanding ofthebehavioroftheexamples. ThiswasdoneintheﬁrsteditionofG.Birkhoﬀ’s
4 I. First Concepts
Lattice Theory [1940]. As we go along, we shall see many examples, most of them in the exercises. For a general survey of lattices in mathematics, see G. Birkhoﬀ [1967] and H. H. Crapo and G.-C. Rota [1970].
Figure 17.1: A page break.</p>

<p>Now let us assume that we have to manually do this page break because some index items attached to this paragraph generate incorrect page numbers. The paragraph split by the page break is
In other words, lattice theory singles out a special type of poset for detailed investigation. To make such a definition worthwhile, it must be shown that this class of posets is a very useful class, that there are many such posets in various branches of mathematics (analysis, topology, logic, algebra, geometry, and so on), and that a general study of these posets will lead to a better understanding of the behavior of the examples. This was done in the first edition of G.~Birkhoff’s \emph{Lattice Theory} \cite{gB40}. As we go along, we shall see many examples, most of them in the exercises. For a general survey of lattices in mathematics, see G.~Birkhoff \cite{gB67} and H.~H.~Crapo and G.-C.~Rota \cite{CR70}.
When typesetting this paragraph, L ATEX inserts a page break following
This was done in the first edition of G.~Birkhoff’s+.
So we edit four lines as follows:
understanding of the behavior of the examples. This was done in the first edition of G.~Birkhoff’s \linebreak
\pagebreak
\noindent \emph{Lattice Theory} \cite{gB40}. As we go along, we shall see many examples, most of them in the
This change does not aﬀect the appearance of the typeset page, but now pages 3 and 4 are separated by a \pagebreak. Make sure that any \index or \label commands are moved to the appropriate half of the paragraph. Now all index commands generate the correct page numbers. Of course, if the page break is between paragraphs, only the \pagebreak command is needed. If the break occurs in the middle of a word, use -\linebreak to add a hyphen. This method works about 95 percent of the time. Occasionally, you have to drop either the \linebreak or the \pagebreak command.</p>

<p>Check for missing fonts and other defects
Open the PDF ﬁle of your book in Adobe Reader (or even better, in Adobe Acrobat Pro). Under File, go toProperties... and click on the Fonts tab. You will ﬁnd a long list of fonts. Each one should be marked Embedded Subset. If all your fonts are embedded, you are in good shape. Adobe Acrobat Pro has an excellent set of utilities to check whether your PDF ﬁle is ready for printing. You ﬁnd them under Preflight. Adobe Acrobat Pro will correct all the mistakes it ﬁnds in the ﬁle and presents a detailed report.
Other adjustments Move the figure and table environments (see Section 8.4.3) physically close to where they appear in the typeset version, and change the optional argument of the figure and table environments to !h.
Balance the white space on each page as necessary.
Generate the index only after the page breaks are ﬁxed.
Polish the auxiliary ﬁles Typeset the document one last time and then place the \nofiles command in the preamble (see Section C.2.4) to make sure that the auxiliary ﬁles are not overwritten.
Normally, you should not have to edit the table of contents (toc) ﬁle or thelot and lof ﬁles (see Section 17.2) and your style ﬁle should take care of the formatting. Sometimes, however, an unfortunate page break makes editing necessary. In an appropriate place, you may want to add to the text the command \addtocontents{toc}{\pagebreak}
to avoid such edits.
Createtheindex(ind)ﬁlefromthenewauxﬁle, asdescribedinSection16.3. Alotof help is available inTheChicagoManualofStyle,16th edition [11]; it has a section on bad breaks, remedies, andContinued lines in the index. Break theindﬁle into pages. To minimize bad breaks, use the \enlargethispage command where necessary (see Section 3.7.3). Add any Continued entries. Manybookdocumentclasses, includingbook, havetwoproblemswiththeIndex. (i) There is no Index entry in the Table of Contents.
(ii) The ﬁrst page of the Index is numbered. These are easy to correct. Add to the beginning of the ind ﬁle the command \thispagestyle{empty} and precede the \printindex with \addtocontents{toc}{Index}</p>

<h2 id="a-math-symbol-tables">A Math symbol tables</h2>

<h3 id="a-1-hebrew-and-greek-letters">A.1 Hebrew and Greek letters</h3>

<p><center>Hebrew letters</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">\aleph</td>
<td align="left">$\aleph$</td>
</tr>

<tr>
<td align="left">\beth</td>
<td align="left">$\beth$</td>
</tr>

<tr>
<td align="left">\daleth</td>
<td align="left">$\daleth$</td>
</tr>

<tr>
<td align="left">\gimel</td>
<td align="left">$\gimel$</td>
</tr>
</tbody>
</table>

<p><center>Greek letters Lowercase</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">\alpha</td>
<td align="left">$\alpha$</td>
<td align="left">\iota</td>
<td align="left">$\iota$</td>
<td align="left">\sigma</td>
<td align="left">$\sigma$</td>
</tr>

<tr>
<td align="left">\beta</td>
<td align="left">$\beta$</td>
<td align="left">\kappa</td>
<td align="left">$\kappa$</td>
<td align="left">\tau</td>
<td align="left">$\tau$</td>
</tr>

<tr>
<td align="left">\gamma</td>
<td align="left">$\gamma$</td>
<td align="left">\lambda</td>
<td align="left">$\lambda$</td>
<td align="left">\upsilon</td>
<td align="left">$\upsilon$</td>
</tr>

<tr>
<td align="left">\delta</td>
<td align="left">$\delta$</td>
<td align="left">\mu</td>
<td align="left">$\mu$</td>
<td align="left">\phi</td>
<td align="left">$\phi$</td>
</tr>

<tr>
<td align="left">\epsilon</td>
<td align="left">$\epsilon$</td>
<td align="left">\nu</td>
<td align="left">$\nu$</td>
<td align="left">\chi</td>
<td align="left">$\chi$</td>
</tr>

<tr>
<td align="left">\zeta</td>
<td align="left">$\zeta$</td>
<td align="left">\xi</td>
<td align="left">$\xi$</td>
<td align="left">\psi</td>
<td align="left">$\psi$</td>
</tr>

<tr>
<td align="left">\eta</td>
<td align="left">$\eta$</td>
<td align="left">\pi</td>
<td align="left">$\pi$</td>
<td align="left">\omega</td>
<td align="left">$\omega$</td>
</tr>

<tr>
<td align="left">\theta</td>
<td align="left">$\theta$</td>
<td align="left">\rho</td>
<td align="left">$\rho$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\varepsilon</td>
<td align="left">$\varepsilon$</td>
<td align="left">\varpi</td>
<td align="left">$\varpi$</td>
<td align="left">\varsigma</td>
<td align="left">$\varsigma$</td>
</tr>

<tr>
<td align="left">\vartheta</td>
<td align="left">$\vartheta$</td>
<td align="left">\varrho</td>
<td align="left">$\varrho$</td>
<td align="left">\varphi</td>
<td align="left">$\varphi$</td>
</tr>

<tr>
<td align="left">\digamma</td>
<td align="left">$\digamma$</td>
<td align="left">\varkappa</td>
<td align="left">$\varkappa$</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>

<p><center>Greek letters Uppercase</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">\Gamma</td>
<td align="left">$\Gamma$</td>
<td align="left">\Xi</td>
<td align="left">$\Xi$</td>
<td align="left">\Phi</td>
<td align="left">$\Phi$</td>
</tr>

<tr>
<td align="left">\Delta</td>
<td align="left">$\Delta$</td>
<td align="left">\Pi</td>
<td align="left">$\Pi$</td>
<td align="left">\Psi</td>
<td align="left">$\Psi$</td>
</tr>

<tr>
<td align="left">\Theta</td>
<td align="left">$\Theta$</td>
<td align="left">\Sigma</td>
<td align="left">$\Sigma$</td>
<td align="left">\Omega</td>
<td align="left">$\Omega$</td>
</tr>

<tr>
<td align="left">\Lambda</td>
<td align="left">$\Lambda$</td>
<td align="left">\Upsilon</td>
<td align="left">$\Upsilon$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\varGamma</td>
<td align="left">$\varGamma$</td>
<td align="left">\varXi</td>
<td align="left">$\varXi$</td>
<td align="left">\varPhi</td>
<td align="left">$\varPhi$</td>
</tr>

<tr>
<td align="left">\varDelta</td>
<td align="left">$\varDelta$</td>
<td align="left">\varPi</td>
<td align="left">$\varPi$</td>
<td align="left">\varPsi</td>
<td align="left">$\varPsi$</td>
</tr>

<tr>
<td align="left">\varTheta</td>
<td align="left">$\varTheta$</td>
<td align="left">\varSigma</td>
<td align="left">$\varSigma$</td>
<td align="left">\varOmega</td>
<td align="left">$\varOmega$</td>
</tr>

<tr>
<td align="left">\varLambda</td>
<td align="left">$\varLambda$</td>
<td align="left">\varUpsilon</td>
<td align="left">$\varUpsilon$</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>

<h3 id="a-2-binary-relations">A.2 Binary relations</h3>

<p><center>Binary relations</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">&lt;</td>
<td align="left">$&lt;$</td>
<td align="left">&gt;</td>
<td align="left">$&gt;$</td>
</tr>

<tr>
<td align="left">=</td>
<td align="left">$=$</td>
<td align="left">:</td>
<td align="left">$:$</td>
</tr>

<tr>
<td align="left">\in</td>
<td align="left">$\in$</td>
<td align="left">\ni or \owns</td>
<td align="left">$\ni$</td>
</tr>

<tr>
<td align="left">\leq or \le</td>
<td align="left">$\le$</td>
<td align="left">\geq or \ge</td>
<td align="left">$\ge$</td>
</tr>

<tr>
<td align="left">\ll</td>
<td align="left">$\ll$</td>
<td align="left">\gg</td>
<td align="left">$\gg$</td>
</tr>

<tr>
<td align="left">\prec</td>
<td align="left">$\prec$</td>
<td align="left">\succ</td>
<td align="left">$\succ$</td>
</tr>

<tr>
<td align="left">\preceq</td>
<td align="left">$\preceq$</td>
<td align="left">\succeq</td>
<td align="left">$\succeq$</td>
</tr>

<tr>
<td align="left">\sim</td>
<td align="left">$\sim$</td>
<td align="left">\approx</td>
<td align="left">$\approx$</td>
</tr>

<tr>
<td align="left">\simeq</td>
<td align="left">$\simeq$</td>
<td align="left">\cong</td>
<td align="left">$\cong$</td>
</tr>

<tr>
<td align="left">\equiv</td>
<td align="left">$\equiv$</td>
<td align="left">\doteq</td>
<td align="left">$\doteq$</td>
</tr>

<tr>
<td align="left">\subset</td>
<td align="left">$\subset$</td>
<td align="left">\supset</td>
<td align="left">$\supset$</td>
</tr>

<tr>
<td align="left">\subseteq</td>
<td align="left">$\subseteq$</td>
<td align="left">\supseteq</td>
<td align="left">$\supseteq$</td>
</tr>

<tr>
<td align="left">\sqsubseteq</td>
<td align="left">$\sqsubseteq$</td>
<td align="left">\sqsupseteq</td>
<td align="left">$\sqsupseteq$</td>
</tr>

<tr>
<td align="left">\smile</td>
<td align="left">$\smile$</td>
<td align="left">\frown</td>
<td align="left">$\frown$</td>
</tr>

<tr>
<td align="left">\perp</td>
<td align="left">$\perp$</td>
<td align="left">\models</td>
<td align="left">$\models$</td>
</tr>

<tr>
<td align="left">\mid</td>
<td align="left">$\mid$</td>
<td align="left">\parallel</td>
<td align="left">$\parallel$</td>
</tr>

<tr>
<td align="left">\vdash</td>
<td align="left">$\vdash$</td>
<td align="left">\dashv</td>
<td align="left">$\dashv$</td>
</tr>

<tr>
<td align="left">\propto</td>
<td align="left">$\propto$</td>
<td align="left">\asymp</td>
<td align="left">$\asymp$</td>
</tr>

<tr>
<td align="left">\bowtie</td>
<td align="left">$\bowtie$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\sqsubset</td>
<td align="left">$\sqsubset$</td>
<td align="left">\sqsupset</td>
<td align="left">$\sqsupset$</td>
</tr>

<tr>
<td align="left">\Join</td>
<td align="left">$\Join$</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>

<p>Note the \colon command used in $f \colon x \to x^2$, typed as f \colon x \to x^2</p>

<p><center>More binary relations</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">\leqq</td>
<td align="left">$\leqq$</td>
<td align="left">\geqq</td>
<td align="left">$\geqq$</td>
</tr>

<tr>
<td align="left">\leqslant</td>
<td align="left">$\leqslant$</td>
<td align="left">\geqslant</td>
<td align="left">$\geqslant$</td>
</tr>

<tr>
<td align="left">\eqslantless</td>
<td align="left">$\eqslantless$</td>
<td align="left">\eqslantgtr</td>
<td align="left">$\eqslantgtr$</td>
</tr>

<tr>
<td align="left">\lesssim</td>
<td align="left">$\lesssim$</td>
<td align="left">\gtrsim</td>
<td align="left">$\gtrsim$</td>
</tr>

<tr>
<td align="left">\lessapprox</td>
<td align="left">$\lessapprox$</td>
<td align="left">\gtrapprox</td>
<td align="left">$\gtrapprox$</td>
</tr>

<tr>
<td align="left">\approxeq</td>
<td align="left">$\approxeq$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\lessdot</td>
<td align="left">$\lessdot$</td>
<td align="left">\gtrdot</td>
<td align="left">$\gtrdot$</td>
</tr>

<tr>
<td align="left">\lll</td>
<td align="left">$\lll$</td>
<td align="left">\ggg</td>
<td align="left">$\ggg$</td>
</tr>

<tr>
<td align="left">\lessgtr</td>
<td align="left">$\lessgtr$</td>
<td align="left">\gtrless</td>
<td align="left">$\gtrless$</td>
</tr>

<tr>
<td align="left">\lesseqgtr</td>
<td align="left">$\lesseqgtr$</td>
<td align="left">\gtreqless</td>
<td align="left">$\gtreqless$</td>
</tr>

<tr>
<td align="left">\lesseqqgtr</td>
<td align="left">$\lesseqqgtr$</td>
<td align="left">\gtreqqless</td>
<td align="left">$\gtreqqless$</td>
</tr>

<tr>
<td align="left">\doteqdot</td>
<td align="left">$\doteqdot$</td>
<td align="left">\eqcirc</td>
<td align="left">$\eqcirc$</td>
</tr>

<tr>
<td align="left">\circeq</td>
<td align="left">$\circeq$</td>
<td align="left">\triangleq</td>
<td align="left">$\triangleq$</td>
</tr>

<tr>
<td align="left">\risingdotseq</td>
<td align="left">$\risingdotseq$</td>
<td align="left">\fallingdotseq</td>
<td align="left">$\fallingdotseq$</td>
</tr>

<tr>
<td align="left">\backsim</td>
<td align="left">$\backsim$</td>
<td align="left">\thicksim</td>
<td align="left">$\thicksim$</td>
</tr>

<tr>
<td align="left">\backsimeq</td>
<td align="left">$\backsimeq$</td>
<td align="left">\thickapprox</td>
<td align="left">$\thickapprox$</td>
</tr>

<tr>
<td align="left">\preccurlyeq</td>
<td align="left">$\preccurlyeq$</td>
<td align="left">\succcurlyeq</td>
<td align="left">$\succcurlyeq$</td>
</tr>

<tr>
<td align="left">\curlyeqprec</td>
<td align="left">$\curlyeqprec$</td>
<td align="left">\curlyeqsucc</td>
<td align="left">$\curlyeqsucc$</td>
</tr>

<tr>
<td align="left">\precsim</td>
<td align="left">$\precsim$</td>
<td align="left">\succsim</td>
<td align="left">$\succsim$</td>
</tr>

<tr>
<td align="left">\precapprox</td>
<td align="left">$\precapprox$</td>
<td align="left">\succapprox</td>
<td align="left">$\succapprox$</td>
</tr>

<tr>
<td align="left">\subseteqq</td>
<td align="left">$\subseteqq$</td>
<td align="left">\supseteqq</td>
<td align="left">$\supseteqq$</td>
</tr>

<tr>
<td align="left">\Subset</td>
<td align="left">$\Subset$</td>
<td align="left">\Supset</td>
<td align="left">$\Supset$</td>
</tr>

<tr>
<td align="left">\vartriangleleft</td>
<td align="left">$\vartriangleleft$</td>
<td align="left">\vartriangleright</td>
<td align="left">$\vartriangleright$</td>
</tr>

<tr>
<td align="left">\trianglelefteq</td>
<td align="left">$\trianglelefteq$</td>
<td align="left">\trianglerighteq</td>
<td align="left">$\trianglerighteq$</td>
</tr>

<tr>
<td align="left">\vDash</td>
<td align="left">$\vDash$</td>
<td align="left">\Vdash</td>
<td align="left">$\Vdash$</td>
</tr>

<tr>
<td align="left">\Vvdash</td>
<td align="left">$\Vvdash$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\smallsmile</td>
<td align="left">$\smallsmile$</td>
<td align="left">\smallfrown</td>
<td align="left">$\smallfrown$</td>
</tr>

<tr>
<td align="left">\shortmid</td>
<td align="left">$\shortmid$</td>
<td align="left">\shortparallel</td>
<td align="left">$\shortparallel$</td>
</tr>

<tr>
<td align="left">\bumpeq</td>
<td align="left">$\bumpeq$</td>
<td align="left">\Bumpeq</td>
<td align="left">$\Bumpeq$</td>
</tr>

<tr>
<td align="left">\between</td>
<td align="left">$\between$</td>
<td align="left">\pitchfork</td>
<td align="left">$\pitchfork$</td>
</tr>

<tr>
<td align="left">\varpropto</td>
<td align="left">$\varpropto$</td>
<td align="left">\backepsilon</td>
<td align="left">$\backepsilon$</td>
</tr>

<tr>
<td align="left">\blacktriangleleft</td>
<td align="left">$\blacktriangleleft$</td>
<td align="left">\blacktriangleright</td>
<td align="left">$\blacktriangleright$</td>
</tr>

<tr>
<td align="left">\therefore</td>
<td align="left">$\therefore$</td>
<td align="left">\because</td>
<td align="left">$\because$</td>
</tr>
</tbody>
</table>

<p><center>Negated binary relations</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">\neq or \ne</td>
<td align="left">$\ne$</td>
<td align="left">\notin</td>
<td align="left">$\notin$</td>
</tr>

<tr>
<td align="left">\nless</td>
<td align="left">$\nless$</td>
<td align="left">\ngtr</td>
<td align="left">$\ngtr$</td>
</tr>

<tr>
<td align="left">\nleq</td>
<td align="left">$\nleq$</td>
<td align="left">\ngeq</td>
<td align="left">$\ngeq$</td>
</tr>

<tr>
<td align="left">\nleqslant</td>
<td align="left">$\nleqslant$</td>
<td align="left">\ngeqslant</td>
<td align="left">$\ngeqslant$</td>
</tr>

<tr>
<td align="left">\nleqq</td>
<td align="left">$\nleqq$</td>
<td align="left">\ngeqq</td>
<td align="left">$\ngeqq$</td>
</tr>

<tr>
<td align="left">\lneq</td>
<td align="left">$\lneq$</td>
<td align="left">\gneq</td>
<td align="left">$\gneq$</td>
</tr>

<tr>
<td align="left">\lneqq</td>
<td align="left">$\lneqq$</td>
<td align="left">\gneqq</td>
<td align="left">$\gneqq$</td>
</tr>

<tr>
<td align="left">\lvertneqq</td>
<td align="left">$\lvertneqq$</td>
<td align="left">\gvertneqq</td>
<td align="left">$\gvertneqq$</td>
</tr>

<tr>
<td align="left">\lnsim</td>
<td align="left">$\lnsim$</td>
<td align="left">\gnsim</td>
<td align="left">$\gnsim$</td>
</tr>

<tr>
<td align="left">\lnapprox</td>
<td align="left">$\lnapprox$</td>
<td align="left">\gnapprox</td>
<td align="left">$\gnapprox$</td>
</tr>

<tr>
<td align="left">\nprec</td>
<td align="left">$\nprec$</td>
<td align="left">\nsucc</td>
<td align="left">$\nsucc$</td>
</tr>

<tr>
<td align="left">\npreceq</td>
<td align="left">$\npreceq$</td>
<td align="left">\nsucceq</td>
<td align="left">$\nsucceq$</td>
</tr>

<tr>
<td align="left">\precneqq</td>
<td align="left">$\precneqq$</td>
<td align="left">\succneqq</td>
<td align="left">$\succneqq$</td>
</tr>

<tr>
<td align="left">\precnsim</td>
<td align="left">$\precnsim$</td>
<td align="left">\succnsim</td>
<td align="left">$\succnsim$</td>
</tr>

<tr>
<td align="left">\precnapprox</td>
<td align="left">$\precnapprox$</td>
<td align="left">\succnapprox</td>
<td align="left">$\succnapprox$</td>
</tr>

<tr>
<td align="left">\nsim</td>
<td align="left">$\nsim$</td>
<td align="left">\ncong</td>
<td align="left">$\ncong$</td>
</tr>

<tr>
<td align="left">\nshortmid</td>
<td align="left">$\nshortmid$</td>
<td align="left">\nshortparallel</td>
<td align="left">$\nshortparallel$</td>
</tr>

<tr>
<td align="left">\nmid</td>
<td align="left">$\nmid$</td>
<td align="left">\nparallel</td>
<td align="left">$\nparallel$</td>
</tr>

<tr>
<td align="left">\nvdash</td>
<td align="left">$\nvdash$</td>
<td align="left">\nvDash</td>
<td align="left">$\nvDash$</td>
</tr>

<tr>
<td align="left">\nVdash</td>
<td align="left">$\nVdash$</td>
<td align="left">\nVDash</td>
<td align="left">$\nVDash$</td>
</tr>

<tr>
<td align="left">\ntriangleleft</td>
<td align="left">$\ntriangleleft$</td>
<td align="left">\ntriangleright</td>
<td align="left">$\ntriangleright$</td>
</tr>

<tr>
<td align="left">\ntrianglelefteq</td>
<td align="left">$\ntrianglelefteq$</td>
<td align="left">\ntrianglerighteq</td>
<td align="left">$\ntrianglerighteq$</td>
</tr>

<tr>
<td align="left">\nsubseteq</td>
<td align="left">$\nsubseteq$</td>
<td align="left">\nsupseteq</td>
<td align="left">$\nsupseteq$</td>
</tr>

<tr>
<td align="left">\nsubseteqq</td>
<td align="left">$\nsubseteqq$</td>
<td align="left">\nsupseteqq</td>
<td align="left">$\nsupseteqq$</td>
</tr>

<tr>
<td align="left">\subsetneq</td>
<td align="left">$\subsetneq$</td>
<td align="left">\supsetneq</td>
<td align="left">$\supsetneq$</td>
</tr>

<tr>
<td align="left">\varsubsetneq</td>
<td align="left">$\varsubsetneq$</td>
<td align="left">\varsupsetneq</td>
<td align="left">$\varsupsetneq$</td>
</tr>

<tr>
<td align="left">\subsetneqq</td>
<td align="left">$\subsetneqq$</td>
<td align="left">\supsetneqq</td>
<td align="left">$\supsetneqq$</td>
</tr>

<tr>
<td align="left">\varsubsetneqq</td>
<td align="left">$\varsubsetneqq$</td>
<td align="left">\varsupsetneqq</td>
<td align="left">$\varsupsetneqq$</td>
</tr>
</tbody>
</table>

<h3 id="a-3-binary-operations">A.3 Binary operations</h3>

<p><center>Binary operations</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">+</td>
<td align="left">$+$</td>
<td align="left">-</td>
<td align="left">$-$</td>
</tr>

<tr>
<td align="left">\pm</td>
<td align="left">$\pm$</td>
<td align="left">\mp</td>
<td align="left">$\mp$</td>
</tr>

<tr>
<td align="left">\times</td>
<td align="left">$\times$</td>
<td align="left">\cdot</td>
<td align="left">$\cdot$</td>
</tr>

<tr>
<td align="left">\circ</td>
<td align="left">$\circ$</td>
<td align="left">\bigcirc</td>
<td align="left">$\bigcirc$</td>
</tr>

<tr>
<td align="left">\div</td>
<td align="left">$\div$</td>
<td align="left">\bmod</td>
<td align="left">$\bmod$</td>
</tr>

<tr>
<td align="left">\cap</td>
<td align="left">$\cap$</td>
<td align="left">\cup</td>
<td align="left">$\cup$</td>
</tr>

<tr>
<td align="left">\sqcap</td>
<td align="left">$\sqcap$</td>
<td align="left">\sqcup</td>
<td align="left">$\sqcup$</td>
</tr>

<tr>
<td align="left">\wedge or \land</td>
<td align="left">$\wedge$</td>
<td align="left">\vee or \lor</td>
<td align="left">$\vee$</td>
</tr>

<tr>
<td align="left">\triangleleft</td>
<td align="left">$\triangleleft$</td>
<td align="left">\triangleright</td>
<td align="left">$\triangleright$</td>
</tr>

<tr>
<td align="left">\bigtriangleup</td>
<td align="left">$\bigtriangleup$</td>
<td align="left">\bigtriangledown</td>
<td align="left">$\bigtriangledown$</td>
</tr>

<tr>
<td align="left">\oplus</td>
<td align="left">$\oplus$</td>
<td align="left">\ominus</td>
<td align="left">$\ominus$</td>
</tr>

<tr>
<td align="left">\otimes</td>
<td align="left">$\otimes$</td>
<td align="left">\oslash</td>
<td align="left">$\oslash$</td>
</tr>

<tr>
<td align="left">\odot</td>
<td align="left">$\odot$</td>
<td align="left">\bullet</td>
<td align="left">$\bullet$</td>
</tr>

<tr>
<td align="left">\dagger</td>
<td align="left">$\dagger$</td>
<td align="left">\ddagger</td>
<td align="left">$\ddagger$</td>
</tr>

<tr>
<td align="left">\setminus</td>
<td align="left">$\setminus$</td>
<td align="left">\smallsetminus</td>
<td align="left">$\smallsetminus$</td>
</tr>

<tr>
<td align="left">\wr</td>
<td align="left">$\wr$</td>
<td align="left">\amalg</td>
<td align="left">$\amalg$</td>
</tr>

<tr>
<td align="left">\ast</td>
<td align="left">$\ast$</td>
<td align="left">\star</td>
<td align="left">$\star$</td>
</tr>

<tr>
<td align="left">\diamond</td>
<td align="left">$\diamond$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\lhd</td>
<td align="left">$\lhd$</td>
<td align="left">\rhd</td>
<td align="left">$\rhd$</td>
</tr>

<tr>
<td align="left">\unlhd</td>
<td align="left">$\unlhd$</td>
<td align="left">\unrhd</td>
<td align="left">$\unrhd$</td>
</tr>

<tr>
<td align="left">\dotplus</td>
<td align="left">$\dotplus$</td>
<td align="left">\centerdot</td>
<td align="left">$\centerdot$</td>
</tr>

<tr>
<td align="left">\ltimes</td>
<td align="left">$\ltimes$</td>
<td align="left">\rtimes</td>
<td align="left">$\rtimes$</td>
</tr>

<tr>
<td align="left">\leftthreetimes</td>
<td align="left">$\leftthreetimes$</td>
<td align="left">\rightthreetimes</td>
<td align="left">$\rightthreetimes$</td>
</tr>

<tr>
<td align="left">\circleddash</td>
<td align="left">$\circleddash$</td>
<td align="left">\uplus</td>
<td align="left">$\uplus$</td>
</tr>

<tr>
<td align="left">\barwedge</td>
<td align="left">$\barwedge$</td>
<td align="left">\doublebarwedge</td>
<td align="left">$\doublebarwedge$</td>
</tr>

<tr>
<td align="left">\curlywedge</td>
<td align="left">$\curlywedge$</td>
<td align="left">\curlyvee</td>
<td align="left">$\curlyvee$</td>
</tr>

<tr>
<td align="left">\veebar</td>
<td align="left">$\veebar$</td>
<td align="left">\intercal</td>
<td align="left">$\intercal$</td>
</tr>

<tr>
<td align="left">\doublecap or \Cap</td>
<td align="left">$\doublecap$</td>
<td align="left">\doublecup or \Cup</td>
<td align="left">$\doublecup$</td>
</tr>

<tr>
<td align="left">\circledast</td>
<td align="left">$\circledast$</td>
<td align="left">\circledcirc</td>
<td align="left">$\circledcirc$</td>
</tr>

<tr>
<td align="left">\boxminus</td>
<td align="left">$\boxminus$</td>
<td align="left">\boxtimes</td>
<td align="left">$\boxtimes$</td>
</tr>

<tr>
<td align="left">\boxdot</td>
<td align="left">$\boxdot$</td>
<td align="left">\boxplus</td>
<td align="left">$\boxplus$</td>
</tr>

<tr>
<td align="left">\divideontimes</td>
<td align="left">$\divideontimes$</td>
<td align="left">\vartriangle</td>
<td align="left">$\vartriangle$</td>
</tr>

<tr>
<td align="left">\And</td>
<td align="left">$\And$</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>

<h3 id="a-4-arrows">A.4 Arrows</h3>

<p><center>Arrows</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">\leftarrow</td>
<td align="left">$\leftarrow$</td>
<td align="left">\rightarrow or \to</td>
<td align="left">$\rightarrow$</td>
</tr>

<tr>
<td align="left">\longleftarrow</td>
<td align="left">$\longleftarrow$</td>
<td align="left">\longrightarrow</td>
<td align="left">$\longrightarrow$</td>
</tr>

<tr>
<td align="left">\Leftarrow</td>
<td align="left">$\Leftarrow$</td>
<td align="left">\Rightarrow</td>
<td align="left">$\Rightarrow$</td>
</tr>

<tr>
<td align="left">\Longleftarrow</td>
<td align="left">$\Longleftarrow$</td>
<td align="left">\Longrightarrow</td>
<td align="left">$\Longrightarrow$</td>
</tr>

<tr>
<td align="left">\leftrightarrow</td>
<td align="left">$\leftrightarrow$</td>
<td align="left">\longleftrightarrow</td>
<td align="left">$\longleftrightarrow$</td>
</tr>

<tr>
<td align="left">\Leftrightarrow</td>
<td align="left">$\Leftrightarrow$</td>
<td align="left">\Longleftrightarrow</td>
<td align="left">$\Longleftrightarrow$</td>
</tr>

<tr>
<td align="left">\uparrow</td>
<td align="left">$\uparrow$</td>
<td align="left">\downarrow</td>
<td align="left">$\downarrow$</td>
</tr>

<tr>
<td align="left">\Uparrow</td>
<td align="left">$\Uparrow$</td>
<td align="left">\Downarrow</td>
<td align="left">$\Downarrow$</td>
</tr>

<tr>
<td align="left">\updownarrow</td>
<td align="left">$\updownarrow$</td>
<td align="left">\Updownarrow</td>
<td align="left">$\Updownarrow$</td>
</tr>

<tr>
<td align="left">\nearrow</td>
<td align="left">$\nearrow$</td>
<td align="left">\searrow</td>
<td align="left">$\searrow$</td>
</tr>

<tr>
<td align="left">\swarrow</td>
<td align="left">$\swarrow$</td>
<td align="left">\nwarrow</td>
<td align="left">$\nwarrow$</td>
</tr>

<tr>
<td align="left">\iff</td>
<td align="left">$\iff$</td>
<td align="left">\mapstochar</td>
<td align="left">$\mapstochar$</td>
</tr>

<tr>
<td align="left">\mapsto</td>
<td align="left">$\mapsto$</td>
<td align="left">\longmapsto</td>
<td align="left">$\longmapsto$</td>
</tr>

<tr>
<td align="left">\hookleftarrow</td>
<td align="left">$\hookleftarrow$</td>
<td align="left">\hookrightarrow</td>
<td align="left">$\hookrightarrow$</td>
</tr>

<tr>
<td align="left">\leftharpoonup</td>
<td align="left">$\leftharpoonup$</td>
<td align="left">\rightharpoonup</td>
<td align="left">$\rightharpoonup$</td>
</tr>

<tr>
<td align="left">\leftharpoondown</td>
<td align="left">$\leftharpoondown$</td>
<td align="left">\rightharpoondown</td>
<td align="left">$\rightharpoondown$</td>
</tr>

<tr>
<td align="left">\leadsto</td>
<td align="left">$\leadsto$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\leftleftarrows</td>
<td align="left">$\leftleftarrows$</td>
<td align="left">\rightrightarrows</td>
<td align="left">$\rightrightarrows$</td>
</tr>

<tr>
<td align="left">\leftrightarrows</td>
<td align="left">$\leftrightarrows$</td>
<td align="left">\rightleftarrows</td>
<td align="left">$\rightleftarrows$</td>
</tr>

<tr>
<td align="left">\Lleftarrow</td>
<td align="left">$\Lleftarrow$</td>
<td align="left">\Rrightarrow</td>
<td align="left">$\Rrightarrow$</td>
</tr>

<tr>
<td align="left">\twoheadleftarrow</td>
<td align="left">$\twoheadleftarrow$</td>
<td align="left">\twoheadrightarrow</td>
<td align="left">$\twoheadrightarrow$</td>
</tr>

<tr>
<td align="left">\leftarrowtail</td>
<td align="left">$\leftarrowtail$</td>
<td align="left">\rightarrowtail</td>
<td align="left">$\rightarrowtail$</td>
</tr>

<tr>
<td align="left">\looparrowleft</td>
<td align="left">$\looparrowleft$</td>
<td align="left">\looparrowright</td>
<td align="left">$\looparrowright$</td>
</tr>

<tr>
<td align="left">\upuparrows</td>
<td align="left">$\upuparrows$</td>
<td align="left">\downdownarrows</td>
<td align="left">$\downdownarrows$</td>
</tr>

<tr>
<td align="left">\upharpoonleft</td>
<td align="left">$\upharpoonleft$</td>
<td align="left">\upharpoonright</td>
<td align="left">$\upharpoonright$</td>
</tr>

<tr>
<td align="left">\downharpoonleft</td>
<td align="left">$\downharpoonleft$</td>
<td align="left">\downharpoonright</td>
<td align="left">$\downharpoonright$</td>
</tr>

<tr>
<td align="left">\leftrightsquigarrow</td>
<td align="left">$\leftrightsquigarrow$</td>
<td align="left">\rightsquigarrow</td>
<td align="left">$\rightsquigarrow$</td>
</tr>

<tr>
<td align="left">\multimap</td>
<td align="left">$\multimap$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\nleftarrow</td>
<td align="left">$\nleftarrow$</td>
<td align="left">\nrightarrow</td>
<td align="left">$\nrightarrow$</td>
</tr>

<tr>
<td align="left">\nLeftarrow</td>
<td align="left">$\nLeftarrow$</td>
<td align="left">\nRightarrow</td>
<td align="left">$\nRightarrow$</td>
</tr>

<tr>
<td align="left">\nleftrightarrow</td>
<td align="left">$\nleftrightarrow$</td>
<td align="left">\nLeftrightarrow</td>
<td align="left">$\nLeftrightarrow$</td>
</tr>

<tr>
<td align="left">\dashleftarrow</td>
<td align="left">$\dashleftarrow$</td>
<td align="left">\dashrightarrow</td>
<td align="left">$\dashrightarrow$</td>
</tr>

<tr>
<td align="left">\curvearrowleft</td>
<td align="left">$\curvearrowleft$</td>
<td align="left">\curvearrowright</td>
<td align="left">$\curvearrowright$</td>
</tr>

<tr>
<td align="left">\circlearrowleft</td>
<td align="left">$\circlearrowleft$</td>
<td align="left">\circlearrowright</td>
<td align="left">$\circlearrowright$</td>
</tr>

<tr>
<td align="left">\leftrightharpoons</td>
<td align="left">$\leftrightharpoons$</td>
<td align="left">\rightleftharpoons</td>
<td align="left">$\rightleftharpoons$</td>
</tr>

<tr>
<td align="left">\Lsh</td>
<td align="left">$\Lsh$</td>
<td align="left">\Rsh</td>
<td align="left">$\Rsh$</td>
</tr>
</tbody>
</table>

<h3 id="a-5-miscellaneous-symbols">A.5 Miscellaneous symbols</h3>

<p><center>Miscellaneous symbols</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">\hbar</td>
<td align="left">$\hbar$</td>
<td align="left">\ell</td>
<td align="left">$\ell$</td>
</tr>

<tr>
<td align="left">\imath</td>
<td align="left">$\imath$</td>
<td align="left">\jmath</td>
<td align="left">$\jmath$</td>
</tr>

<tr>
<td align="left">\wp</td>
<td align="left">$\wp$</td>
<td align="left">\partial</td>
<td align="left">$\partial$</td>
</tr>

<tr>
<td align="left">\Im</td>
<td align="left">$\Im$</td>
<td align="left">\Re</td>
<td align="left">$\Re$</td>
</tr>

<tr>
<td align="left">\infty</td>
<td align="left">$\infty$</td>
<td align="left">\prime</td>
<td align="left">$\prime$</td>
</tr>

<tr>
<td align="left">\emptyset</td>
<td align="left">$\emptyset$</td>
<td align="left">\varnothing</td>
<td align="left">$\varnothing$</td>
</tr>

<tr>
<td align="left">\forall</td>
<td align="left">$\forall$</td>
<td align="left">\exists</td>
<td align="left">$\exists$</td>
</tr>

<tr>
<td align="left">\smallint</td>
<td align="left">$\smallint$</td>
<td align="left">\triangle</td>
<td align="left">$\triangle$</td>
</tr>

<tr>
<td align="left">\top</td>
<td align="left">$\top$</td>
<td align="left">\bot</td>
<td align="left">$\bot$</td>
</tr>

<tr>
<td align="left">\P</td>
<td align="left">$\P$</td>
<td align="left">\S</td>
<td align="left">$\S$</td>
</tr>

<tr>
<td align="left">\dag</td>
<td align="left">$\dag$</td>
<td align="left">\ddag</td>
<td align="left">$\ddag$</td>
</tr>

<tr>
<td align="left">\flat</td>
<td align="left">$\flat$</td>
<td align="left">\natural</td>
<td align="left">$\natural$</td>
</tr>

<tr>
<td align="left">\sharp</td>
<td align="left">$\sharp$</td>
<td align="left">\angle</td>
<td align="left">$\angle$</td>
</tr>

<tr>
<td align="left">\clubsuit</td>
<td align="left">$\clubsuit$</td>
<td align="left">\diamondsuit</td>
<td align="left">$\diamondsuit$</td>
</tr>

<tr>
<td align="left">\heartsuit</td>
<td align="left">$\heartsuit$</td>
<td align="left">\spadesuit</td>
<td align="left">$\spadesuit$</td>
</tr>

<tr>
<td align="left">\surd</td>
<td align="left">$\surd$</td>
<td align="left">\nabla</td>
<td align="left">$\nabla$</td>
</tr>

<tr>
<td align="left">\pounds</td>
<td align="left">$\pounds$</td>
<td align="left">\neg or \lnot</td>
<td align="left">$\neg$</td>
</tr>

<tr>
<td align="left">\Box</td>
<td align="left">$\Box$</td>
<td align="left">\Diamond</td>
<td align="left">$\Diamond$</td>
</tr>

<tr>
<td align="left">\mho</td>
<td align="left">$\mho$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\hslash</td>
<td align="left">$\hslash$</td>
<td align="left">\complement</td>
<td align="left">$\complement$</td>
</tr>

<tr>
<td align="left">\backprime</td>
<td align="left">$\backprime$</td>
<td align="left">\nexists</td>
<td align="left">$\nexists$</td>
</tr>

<tr>
<td align="left">\Bbbk</td>
<td align="left">$\Bbbk$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\diagup</td>
<td align="left">$\diagup$</td>
<td align="left">\diagdown</td>
<td align="left">$\diagdown$</td>
</tr>

<tr>
<td align="left">\blacktriangle</td>
<td align="left">$\blacktriangle$</td>
<td align="left">\blacktriangledown</td>
<td align="left">$\blacktriangledown$</td>
</tr>

<tr>
<td align="left">\triangledown</td>
<td align="left">$\triangledown$</td>
<td align="left">\eth</td>
<td align="left">$\eth$</td>
</tr>

<tr>
<td align="left">\square</td>
<td align="left">$\square$</td>
<td align="left">\blacksquare</td>
<td align="left">$\blacksquare$</td>
</tr>

<tr>
<td align="left">\lozenge</td>
<td align="left">$\lozenge$</td>
<td align="left">\blacklozenge</td>
<td align="left">$\blacklozenge$</td>
</tr>

<tr>
<td align="left">\measuredangle</td>
<td align="left">$\measuredangle$</td>
<td align="left">\sphericalangle</td>
<td align="left">$\sphericalangle$</td>
</tr>

<tr>
<td align="left">\circledS</td>
<td align="left">$\circledS$</td>
<td align="left">\bigstar</td>
<td align="left">$\bigstar$</td>
</tr>

<tr>
<td align="left">\Finv</td>
<td align="left">$\Finv$</td>
<td align="left">\Game</td>
<td align="left">$\Game$</td>
</tr>
</tbody>
</table>

<h3 id="a-6-delimiters">A.6 Delimiters</h3>

<p><center>Delimiters</center></p>

<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">left parenthesis</td>
<td align="left">(</td>
<td align="left">$($</td>
</tr>

<tr>
<td align="left">right parenthesis</td>
<td align="left">)</td>
<td align="left">$)$</td>
</tr>

<tr>
<td align="left">left bracket</td>
<td align="left">[ or \lbrack</td>
<td align="left">$[$</td>
</tr>

<tr>
<td align="left">right bracket</td>
<td align="left">] or \rbrack</td>
<td align="left">$]$</td>
</tr>

<tr>
<td align="left">left brace</td>
<td align="left">{ or \lbrace</td>
<td align="left">${$</td>
</tr>

<tr>
<td align="left">right brace</td>
<td align="left">} or \rbrace</td>
<td align="left">$}$</td>
</tr>

<tr>
<td align="left">backslash</td>
<td align="left">\backslash</td>
<td align="left">$\backslash$</td>
</tr>

<tr>
<td align="left">forward slash</td>
<td align="left">/</td>
<td align="left">$/$</td>
</tr>

<tr>
<td align="left">left angle bracket</td>
<td align="left">\langle</td>
<td align="left">$\langle$</td>
</tr>

<tr>
<td align="left">right angle bracket</td>
<td align="left">\rangle</td>
<td align="left">$\rangle$</td>
</tr>

<tr>
<td align="left">vertical line</td>
<td align="left"></td>
<td align="left">or \vert</td>
</tr>

<tr>
<td align="left">double vertical line</td>
<td align="left">| or \Vert</td>
<td align="left">$|$</td>
</tr>

<tr>
<td align="left">left ﬂoor</td>
<td align="left">\lfloor</td>
<td align="left">$\lfloor$</td>
</tr>

<tr>
<td align="left">right ﬂoor</td>
<td align="left">\rfloor</td>
<td align="left">$\rfloor$</td>
</tr>

<tr>
<td align="left">left ceiling</td>
<td align="left">\lceil</td>
<td align="left">$\lceil$</td>
</tr>

<tr>
<td align="left">right ceiling</td>
<td align="left">\rceil</td>
<td align="left">$\rceil$</td>
</tr>

<tr>
<td align="left">upward</td>
<td align="left">\uparrow</td>
<td align="left">$\uparrow$</td>
</tr>

<tr>
<td align="left">double upward</td>
<td align="left">\Uparrow</td>
<td align="left">$\Uparrow$</td>
</tr>

<tr>
<td align="left">downward</td>
<td align="left">\downarrow</td>
<td align="left">$\downarrow$</td>
</tr>

<tr>
<td align="left">double downward</td>
<td align="left">\Downarrow</td>
<td align="left">$\Downarrow$</td>
</tr>

<tr>
<td align="left">up-and-down</td>
<td align="left">\updownarrow</td>
<td align="left">$\updownarrow$</td>
</tr>

<tr>
<td align="left">double up-and-down</td>
<td align="left">\Updownarrow</td>
<td align="left">$\Updownarrow$</td>
</tr>

<tr>
<td align="left">upper-left corner</td>
<td align="left">\ulcorner</td>
<td align="left">$\ulcorner$</td>
</tr>

<tr>
<td align="left">upper-right corner</td>
<td align="left">\urcorner</td>
<td align="left">$\urcorner$</td>
</tr>

<tr>
<td align="left">lower-left corner</td>
<td align="left">\llcorner</td>
<td align="left">$\llcorner$</td>
</tr>

<tr>
<td align="left">lower-right corner</td>
<td align="left">\lrcorner</td>
<td align="left">$\lrcorner$</td>
</tr>
</tbody>
</table>

<h3 id="a-7-operators">A.7 Operators</h3>

<p><center>&quot;Pure&quot; operators, with no limits</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">\arccos</td>
<td align="left">$\arccos$</td>
<td align="left">\cot</td>
<td align="left">$\cot$</td>
<td align="left">\hom</td>
<td align="left">$\hom$</td>
<td align="left">\sin</td>
<td align="left">$\sin$</td>
</tr>

<tr>
<td align="left">\arcsin</td>
<td align="left">$\arcsin$</td>
<td align="left">\coth</td>
<td align="left">$\coth$</td>
<td align="left">\ker</td>
<td align="left">$\ker$</td>
<td align="left">\sinh</td>
<td align="left">$\sinh$</td>
</tr>

<tr>
<td align="left">\arctan</td>
<td align="left">$\arctan$</td>
<td align="left">\csc</td>
<td align="left">$\csc$</td>
<td align="left">\lg</td>
<td align="left">$\lg$</td>
<td align="left">\tan</td>
<td align="left">$\tan$</td>
</tr>

<tr>
<td align="left">\arg</td>
<td align="left">$\arg$</td>
<td align="left">\deg</td>
<td align="left">$\deg$</td>
<td align="left">\ln</td>
<td align="left">$\ln$</td>
<td align="left">\tanh</td>
<td align="left">$\tanh$</td>
</tr>

<tr>
<td align="left">\cos</td>
<td align="left">$\cos$</td>
<td align="left">\dim</td>
<td align="left">$\dim$</td>
<td align="left">\log</td>
<td align="left">$\log$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\cosh</td>
<td align="left">$\cosh$</td>
<td align="left">\exp</td>
<td align="left">$\exp$</td>
<td align="left">\sec</td>
<td align="left">$\sec$</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>

<p><center>Operators with limits</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">\det</td>
<td align="left">$\det$</td>
<td align="left">\limsup</td>
<td align="left">$\limsup$</td>
</tr>

<tr>
<td align="left">\gcd</td>
<td align="left">$\gcd$</td>
<td align="left">\max</td>
<td align="left">$\max$</td>
</tr>

<tr>
<td align="left">\inf</td>
<td align="left">$\inf$</td>
<td align="left">\min</td>
<td align="left">$\min$</td>
</tr>

<tr>
<td align="left">\lim</td>
<td align="left">$\lim$</td>
<td align="left">\Pr</td>
<td align="left">$\Pr$</td>
</tr>

<tr>
<td align="left">\liminf</td>
<td align="left">$\liminf$</td>
<td align="left">\sup</td>
<td align="left">$\sup$</td>
</tr>

<tr>
<td align="left">\injlim</td>
<td align="left">$\injlim$</td>
<td align="left">\projlim</td>
<td align="left">$\projlim$</td>
</tr>

<tr>
<td align="left">\varliminf</td>
<td align="left">$\varliminf$</td>
<td align="left">\varlimsup</td>
<td align="left">$\varlimsup$</td>
</tr>

<tr>
<td align="left">\varinjlim</td>
<td align="left">$\varinjlim$</td>
<td align="left">\varprojlim</td>
<td align="left">$\varprojlim$</td>
</tr>
</tbody>
</table>

<h4 id="a-7-1-large-operators">A.7.1 Large operators</h4>

<p><center>Large operators</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Inline</th>
<th align="left">Displayed</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">\int_{a}^{b}</td>
<td align="left">$\int_{a}^{b}$</td>
<td align="left">$$\int_{a}^{b}$$</td>
</tr>

<tr>
<td align="left">\oint_{a}^{b}</td>
<td align="left">$\oint_{a}^{b}$</td>
<td align="left">$$\oint_{a}^{b}$$</td>
</tr>

<tr>
<td align="left">\iint_{a}^{b}</td>
<td align="left">$\iint_{a}^{b}$</td>
<td align="left">$$\iint_{a}^{b}$$</td>
</tr>

<tr>
<td align="left">\iiint_{a}^{b}</td>
<td align="left">$\iiint_{a}^{b}$</td>
<td align="left">$$\iiint_{a}^{b}$$</td>
</tr>

<tr>
<td align="left">\iiiiint_{a}^{b}</td>
<td align="left">$\iiiiint_{a}^{b}$</td>
<td align="left">$$\iiiiint_{a}^{b}$$</td>
</tr>

<tr>
<td align="left">\idotsint_{a}^{b}</td>
<td align="left">$\idotsint_{a}^{b}$</td>
<td align="left">$$\idotsint_{a}^{b}$$</td>
</tr>

<tr>
<td align="left">\prod_{i=1}^{n}</td>
<td align="left">$\prod_{i=1}^{n}$</td>
<td align="left">$$\prod_{i=1}^{n}$$</td>
</tr>

<tr>
<td align="left">\coprod_{i=1}^{n}</td>
<td align="left">$\coprod_{i=1}^{n}$</td>
<td align="left">$$\coprod_{i=1}^{n}$$</td>
</tr>

<tr>
<td align="left">\bigcap_{i=1}^{n}</td>
<td align="left">$\bigcap_{i=1}^{n}$</td>
<td align="left">$$\bigcap_{i=1}^{n}$$</td>
</tr>

<tr>
<td align="left">\bigcup_{i=1}^{n}</td>
<td align="left">$\bigcup_{i=1}^{n}$</td>
<td align="left">$$\bigcup_{i=1}^{n}$$</td>
</tr>

<tr>
<td align="left">\bigwedge_{i=1}^{n}</td>
<td align="left">$\bigwedge_{i=1}^{n}$</td>
<td align="left">$$\bigwedge_{i=1}^{n}$$</td>
</tr>

<tr>
<td align="left">\bigvee_{i=1}^{n}</td>
<td align="left">$\bigvee_{i=1}^{n}$</td>
<td align="left">$$\bigvee_{i=1}^{n}$$</td>
</tr>

<tr>
<td align="left">\bigsqcup_{i=1}^{n}</td>
<td align="left">$\bigsqcup_{i=1}^{n}$</td>
<td align="left">$$\bigsqcup_{i=1}^{n}$$</td>
</tr>

<tr>
<td align="left">\biguplus_{i=1}^{n}</td>
<td align="left">$\biguplus_{i=1}^{n}$</td>
<td align="left">$$\biguplus_{i=1}^{n}$$</td>
</tr>

<tr>
<td align="left">\bigotimes_{i=1}^{n}</td>
<td align="left">$\bigotimes_{i=1}^{n}$</td>
<td align="left">$$\bigotimes_{i=1}^{n}$$</td>
</tr>

<tr>
<td align="left">\bigoplus_{i=1}^{n}</td>
<td align="left">$\bigoplus_{i=1}^{n}$</td>
<td align="left">$$\bigoplus_{i=1}^{n}$$</td>
</tr>

<tr>
<td align="left">\bigodot_{i=1}^{n}</td>
<td align="left">$\bigodot_{i=1}^{n}$</td>
<td align="left">$$\bigodot_{i=1}^{n}$$</td>
</tr>

<tr>
<td align="left">\sum_{i=1}^{n}</td>
<td align="left">$\sum_{i=1}^{n}$</td>
<td align="left">$$\sum_{i=1}^{n}$$</td>
</tr>
</tbody>
</table>

<h3 id="a-8-math-accents-and-fonts">A.8 Math accents and fonts</h3>

<p><center></center></p>

<table>
<thead>
<tr>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr>
</thead>

<tbody>
</tbody>
</table>

<p>A.8 Math accents and fonts Math accents
amsxtra
Type Typeset Type Typeset \acute{a} ́ 𝑎 \bar{a} ̄ 𝑎 \breve{a} ̆ 𝑎 \spbreve ˘ \check{a} ̌ 𝑎 \spcheck ∨ \dot{a} ̇ 𝑎 \spdot . \ddot{a} ̈ 𝑎 \spddot .. \dddot{a} ⃛ 𝑎 \spdddot ... \ddddot{a} ⃜ 𝑎 \grave{a} ̀ 𝑎 \hat{a} ̂ 𝑎 \widehat{a} ̂ 𝑎 \sphat ̂ \mathring{a} ̊ 𝑎 \tilde{a} ̃ 𝑎 \widetilde{a} ̃ 𝑎 \sptilde ∼ \vec{a} ⃗ 𝑎</p>

<pre><code>𝐀    𝐴  𝐴  A  𝖠  𝙰  𝜶  𝔸  𝔄  𝒜
</code></pre>

<p>And thousand more from STIX (see Section 6.2)! \mathscr requires the eucal package with the mathscr option</p>

<p><center>Math fonts</center></p>

<table>
<thead>
<tr>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">LATEX</td>
<td align="left"></td>
</tr>

<tr>
<td align="left">\mathbf{A}</td>
<td align="left">$\mathbf{A}$</td>
</tr>

<tr>
<td align="left">\mathcal{A}</td>
<td align="left">$\mathcal{A}$</td>
</tr>

<tr>
<td align="left">\mathit{A}</td>
<td align="left">$\mathit{A}$</td>
</tr>

<tr>
<td align="left">\mathnormal{A}</td>
<td align="left">$\mathnormal{A}$</td>
</tr>

<tr>
<td align="left">\mathrm{A}</td>
<td align="left">$\mathrm{A}$</td>
</tr>

<tr>
<td align="left">\mathsf{A}</td>
<td align="left">$\mathsf{A}$</td>
</tr>

<tr>
<td align="left">\mathtt{A}</td>
<td align="left">$\mathtt{A}$</td>
</tr>

<tr>
<td align="left">\boldsymbol{\alpha}</td>
<td align="left">$\boldsymbol{\alpha}$</td>
</tr>

<tr>
<td align="left">\mathbb{A}</td>
<td align="left">$\mathbb{A}$</td>
</tr>

<tr>
<td align="left">\mathfrak{A}</td>
<td align="left">$\mathfrak{A}$</td>
</tr>

<tr>
<td align="left">\mathscr{a}</td>
<td align="left">$\mathscr{a}$</td>
</tr>
</tbody>
</table>

<h3 id="a-9-math-spacing-commands">A.9 Math spacing commands</h3>

<p>A.9 Math spacing commands
Name Width Short Long 1 mu (math unit) \mspace{1mu} thinspace \, \thinspace medspace : \medspace thickspace \; \thickspace interword space \␣ 1 em \quad 2 em \qquad
Negative space 1 mu \mspace{-1mu} thinspace ! \negthinspace medspace \negmedspace thickspace \negthickspace</p>

<h2 id="b-text-symbol-tables">B Text symbol tables</h2>

<h3 id="b-1-some-european-characters">B.1 Some European characters</h3>

<p><center>Some European characters</center></p>

<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">a-ring</td>
<td align="left">\aa</td>
<td align="left">$\aa$</td>
<td align="left">\AA</td>
<td align="left">$\AA$</td>
</tr>

<tr>
<td align="left">aesc</td>
<td align="left">\ae</td>
<td align="left">$\ae$</td>
<td align="left">\AE</td>
<td align="left">$\AE$</td>
</tr>

<tr>
<td align="left">ethel</td>
<td align="left">\oe</td>
<td align="left">$\oe$</td>
<td align="left">\OE</td>
<td align="left">$\OE$</td>
</tr>

<tr>
<td align="left">eszett</td>
<td align="left">\ss</td>
<td align="left">$\ss$</td>
<td align="left">\SS</td>
<td align="left">$\SS$</td>
</tr>

<tr>
<td align="left">inverted question mark</td>
<td align="left">?‘</td>
<td align="left">$?‘$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">inverted exclamation mark</td>
<td align="left">!‘</td>
<td align="left">$!‘$</td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">slashed L</td>
<td align="left">\l</td>
<td align="left">$\l$</td>
<td align="left">\L</td>
<td align="left">$\L$</td>
</tr>

<tr>
<td align="left">slashed O</td>
<td align="left">\o</td>
<td align="left">$\o$</td>
<td align="left">\O</td>
<td align="left">$\O$</td>
</tr>
</tbody>
</table>

<h3 id="b-2-text-accents">B.2 Text accents</h3>

<p><center>Text accents</center></p>

<table>
<thead>
<tr>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
<th align="left">Name</th>
<th align="left">Type</th>
<th align="left">Typeset</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">acute</td>
<td align="left">\’{o}</td>
<td align="left">$\’{o}$</td>
<td align="left">macron</td>
<td align="left">\={o}</td>
<td align="left">$\={o}$</td>
</tr>

<tr>
<td align="left">breve</td>
<td align="left">\u{o}</td>
<td align="left">$\u{o}$</td>
<td align="left">overdot</td>
<td align="left">.{g}</td>
<td align="left">$.{g}$</td>
</tr>

<tr>
<td align="left">caron/haček</td>
<td align="left">\v{o}</td>
<td align="left">$\v{o}$</td>
<td align="left">ring</td>
<td align="left">\r{u}</td>
<td align="left">$\r{u}$</td>
</tr>

<tr>
<td align="left">cedilla</td>
<td align="left">\c{c}</td>
<td align="left">$\c{c}$</td>
<td align="left">tie</td>
<td align="left">\t{oo}</td>
<td align="left">$\t{oo}$</td>
</tr>

<tr>
<td align="left">circumﬂex</td>
<td align="left">\^{o}</td>
<td align="left">$\^{o}$</td>
<td align="left">tilde</td>
<td align="left">~{n}</td>
<td align="left">$~{n}$</td>
</tr>

<tr>
<td align="left">dieresis/umlaut</td>
<td align="left">\&quot;{u}</td>
<td align="left">$\&quot;{u}$</td>
<td align="left">underdot</td>
<td align="left">\d{m}</td>
<td align="left">$\d{m}$</td>
</tr>

<tr>
<td align="left">double acute</td>
<td align="left">\H{o}</td>
<td align="left">$\H{o}$</td>
<td align="left">underbar</td>
<td align="left">\b{o}</td>
<td align="left">$\b{o}$</td>
</tr>

<tr>
<td align="left">grave</td>
<td align="left">\‘{o}</td>
<td align="left">$\‘{o}$</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>

<tr>
<td align="left">dotless i</td>
<td align="left">\i</td>
<td align="left">$\i$</td>
<td align="left">dotless j</td>
<td align="left">\j</td>
<td align="left">$\j$</td>
</tr>

<tr>
<td align="left"></td>
<td align="left">\’{\i}</td>
<td align="left">$\’{\i}$</td>
<td align="left"></td>
<td align="left">\v{\j}</td>
<td align="left">$\v{\j}$</td>
</tr>
</tbody>
</table>

<h3 id="b-3-text-font-commands">B.3 Text font commands</h3>

<h4 id="b-3-1-text-font-family-commands">B.3.1 Text font family commands</h4>

<p>B.3 Text font commands B.3.1 Text font family commands
Command with Argument Command Declaration Switches to the
font family
\textnormal{...} {\normalfont ...} document \emph{...} {\em ...} emphasis \textrm{...} {\rmfamily ...} roman \textsf{...} {\sffamily ...} sans serif \texttt{...} {\ttfamily ...} typewriter style \textup{...} {\upshape ...} upright shape \textit{...} {\itshape ...} italic shape \textsl{...} {\slshape ...} slanted shape \textsc{...} {\scshape ...} small capitals \textbf{...} {\bfseries ...} bold \textmd{...} {\mdseries ...} normal weight and width</p>

<h4 id="b-3-2-text-font-size-changes">B.3.2 Text font size changes</h4>

<p>B.3.2 Text font size changes
Command L ATEX sample text AMS sample text
\Tiny [not available] sample text \tiny sample text sample text \SMALL or \scriptsize sample text sample text \Small or \footnotesize sample text sample text \small sample text sample text \normalsize sample text sample text \large sample text sample text \Large sample text sample text \LARGE sample text sample text \huge sample text sample text \Huge sample text sample text</p>

<h3 id="b-4-additional-text-symbols">B.4 Additional text symbols</h3>

<p>B.4 Additional text symbols
Name Type Typeset
ampersand &amp; &amp; asterisk bullet \textasteriskcentered ∗ backslash \textbackslash \ bar (caesura) \textbar | brace left { { brace right } } bullet \textbullet • circled a \textcircled{a} a ○ circumﬂex \textasciicircum ^ copyright \copyright c ○ dagger \dag † double dagger (diesis) \ddag ‡ dollar \$ $ double quotation left \textquotedblleft or ‘‘ “ double quotation right \textquotedblright or ’’ ” em dash \textemdash or --- — en dash \textendash or -- – exclamation down \textexclamdown or !‘ ¡ greater than \textgreater &gt; less than \textless &lt; lowline _ _ midpoint \textperiodcentered · octothorp # # percent \% % pilcrow (paragraph) \P ¶ question down \textquestiondown or ?‘ ¿ registered trademark \textregistered ® section \S §</p>

<p>Additionaltextsymbols,continued
Name Type Typeset
single quote left \textquoteleft or ‘ ‘ single quote right \textquoteright or ’ ’ sterling \pounds £ superscript \textsuperscript{a} a tilde \textasciitilde ~ trademark \texttrademark ™ visible space \textvisiblespace ␣
For the \textsubscript command, see Section 10.3.</p>

<h3 id="b-5-additional-text-symbols-with-t1-encoding">B.5 Additional text symbols with T1 encoding</h3>

<p>!!!!!!!!!!!!!!!!!!</p>

<h3 id="b-6-text-spacing-commands">B.6 Text spacing commands</h3>

<p>Name Width Short command Long command
Positive Space Normal varies ␣ Intersentence varies \@.␣ Interword varies \␣ Italic Corr. varies \/␣ Tie varies ~ Thinspace \, \thinspace Medspace : \medspace Thickspace \; \thickspace 1 em \quad 2 em \qquad
Negative Space Thinspace ! \negthinspace Medspace \negmedspace Thickspace \negthickspace</p>

<h2 id="c-some-background">C Some background</h2>

<p>In this book we deﬁne LATEX as the foundation TEX, the work platform LATEX, and the superstructure AMS packages rolled into one. While you do not need to know anything about LATEX’s detailed structure and history to use it, such knowledge may help you understand how and why LATEX works the way it does.</p>

<p>在这本书中，我们定义LATEX为TEX基础、工作平台LATEX和上层结构AMS包卷成一体。虽然您不需要了解LATEX的详细结构和历史，但是这些知识可以帮助您了解LATEX是如何工作的，以及为什么会这样工作。</p>

<p>In Section C.1, we present a short history of LATEX, where it has come from and where it is going. Section C.2 provides a description of how LATEX works. In Section C.3 the various prompts are deﬁned and Section C.4 discusses the separation of visual and logical design elements.</p>

<p>在第C.1节中，我们介绍了LATEX的简短历史，它的来源和去向。第C.2节描述了LATEX是如何工作的。C.3节定义了各种提示，C.4节讨论了视觉设计元素和逻辑设计元素的分离。</p>

<h3 id="c-1-a-short-history">C.1 A short history</h3>

<h4 id="c-1-1-tex">C.1.1 TEX</h4>

<p>Donald E. Knuth’s multivolume work, The Art of Computer Programming[47], caused its author a great deal of frustration because it was very diﬃcult to keep the volumes typographically uniform. To solve this problem, Knuth decided to create his own typesetting language. The result is described in The TEXbook [48].</p>

<p>Donald E. Knuth的多卷著作《计算机编程的艺术》(The Art of Computer Programming[47])给作者带来了极大的挫折，因为很难在排版上保持卷的一致性。为了解决这个问题，Knuth决定创造自己的排版语言。</p>

<p>A mathematical typesetting language takes care of the multitude of details that are so important in mathematical typesetting, including</p>

<p>数学排版语言负责处理在数学排版中非常重要的大量细节，包括</p>

<ul>
<li>Spacing formulas properly</li>
<li>Breaking text into pleasingly typeset lines and paragraphs</li>
<li>Hyphenating words where necessary</li>

<li><p>Providing hundreds of symbols for typesetting mathematics</p></li>

<li><p>正确的间距公式</p></li>

<li><p>将文本分成令人愉快的排版行和段落</p></li>

<li><p>必要时用连字符连接</p></li>

<li><p>为排字数学提供数百个符号</p></li>
</ul>

<p>LATEX does all this and more on almost any computer: Windows computer, Mac, UNIX, workstation, or mainframe. You can write your document on a Windows computer and e-mail it to a coworker who makes corrections on a Mac. The ﬁnal manuscript might be sent to a publisher who uses a UNIX computer to prepare the document for printing.</p>

<p>ATEX几乎可以在任何计算机上完成所有这些工作：Windows计算机、Mac、UNIX、工作站或大型机。你可以在Windows电脑上写文档，然后通过电子邮件发给在Mac电脑上修改文档的同事。最后的手稿可能会被发送给出版商，出版商使用UNIX计算机准备打印的文件。</p>

<p>Knuth realized that typesetting is only half the solution to the manuscript production problem. You also need a style designer—a specialist who determines what fonts to use, how large a vertical space to put before and after a theorem, and numerous other design issues.</p>

<p>Knuth意识到排版只是解决了一半的手稿会生产的问题。您还需要一个样式设计人员—一个决定使用什么字体、在一个定理之前和之后放置多大的垂直空间以及许多其他设计问题的专家。</p>

<h4 id="c-1-2-latex-2-09-and-ams-tex">C.1.2 LATEX 2.09 and AMS-TEX</h4>

<p>Knuth also realized that typesetting a complex document in TEX requires a very knowledgeable user. So TEX was designed as a platform on which convenient work environments—macro packages—could be built, more suitable for the average user to work with. It is somewhat unfortunate that two such platforms were made available to the mathematical community in the early 1980s, AMS-TEX and LATEX.</p>

<p>Knuth还意识到，在TEX中排版一个复杂的文档需要一个非常有见识的用户。因此，TEX被设计成一个可以构建方便的工作环境(宏包)的平台，更适合普通用户使用。令人遗憾的是，在20世纪80年代早期，有两个这样的平台提供给了数学社区：AMS-TEX和LATEX。</p>

<p>AMS-TEX was written by Michael D.Spivak for the American Mathematical Society, whereas LATEX was developed by Leslie Lamport. The strengths of the two systems were somewhat complementary. AMS-TEX provided many features needed by mathematical articles, including</p>

<p>AMS-TEX是由Michael D.Spivak为美国数学协会所写，而LATEX是由Leslie Lamport开发的。这两种系统的作用在某种程度上是相辅相成的。AMS-TEX提供了数学文章需要的许多特性，包括</p>

<ul>
<li>Sophisticated math typesetting capabilities</li>
<li>Extensive options for formatting multiline formulas</li>

<li><p>Flexible bibliographic references</p></li>

<li><p>复杂的数学排版能力</p></li>

<li><p>广泛的选项格式化多行公式</p></li>

<li><p>灵活的文献引用</p></li>
</ul>

<p>LATEX also provided many features, including</p>

<p>LATEX还提供了许多特性，包括</p>

<ul>
<li>The use of logical units to separate the logical and the visual design of an article</li>
<li>Automatic numbering and cross-referencing</li>

<li><p>Bibliographic databases</p></li>

<li><p>使用逻辑单元来分隔文章的逻辑设计和视觉设计</p></li>

<li><p>自动编号和交叉引用</p></li>

<li><p>Bibliographic数据库</p></li>
</ul>

<p>Both AMS-TEX and LATEX became very popular, causing a split in the mathematical community as some chose one system over the other.</p>

<p>AMS-TEX和LATEX都变得非常流行，导致了数学学界的分裂，因为各自选择了其中一种系统。</p>

<h4 id="c-1-3-latex-3">C.1.3 LATEX 3</h4>

<p>When Lamport decided not to develop LATEX any further, the LATEX 3 team took over with the aim of actively supporting, maintaining, and updating LATEX.</p>

<p>当Lamport决定不再进一步开发LATEX时，LATEX 3团队接管了公司，他们的目标是积极支持、维护和更新LATEX。</p>

<p>The goals for LATEX 3 are very ambitious. LATEX 3 will</p>

<p>LATEX 3 的目标非常远大。LATEX 3将：</p>

<ul>
<li>Provide high-quality typesetting for a wide variety of document types and typographic requirements</li>
<li>Support direct formatting commands for editors and designers, which are essential to the ﬁne-tuning of document layout and page design</li>
<li>Process complex structured documents and support a document syntax that allows automatic translation of documents conforming to the international document-type deﬁnition standard SGML (Standard Generalized Markup Language, ISO 8879)</li>

<li><p>Provide a common foundation for a number of incompatible LATEX variants that have been developed, including the old LATEX 2.09, LATEX with the New Font Selection Scheme, and AMS-LATEX</p></li>

<li><p>提供高质量的排字满足各种各样的文件类型和排字要求</p></li>

<li><p>支持编辑器和设计器的直接格式化命令，这对于文档布局和页面设计的微调非常重要</p></li>

<li><p>支持直接格式化复杂的结构化文档，支持文档语法，允许自动转换符合国际文档类型定义标准SGML(标准通用标记语言，ISO 8879)的文档</p></li>

<li><p>为已经开发的许多不兼容的LATEX变体提供一个通用的基础，包括旧的LATEX 2.09、新字体选择方案的LATEX和AMS-LATEX</p></li>
</ul>

<p>See two articles by Frank Mittelbach and Chris Rowley, LATEX 2.09 → LATEX 3 [57], 1992, and The LATEX 3 Project [59], 1994, for a statement of goals. Go to The LaTeX3 project at
<a href="http://www.latex-project.org/latex3.html">http://www.latex-project.org/latex3.html</a>
for more up-to-date articles and reports.</p>

<p>参见Frank Mittelbach和Chris Rowley的两篇文章，LATEX 2.09→LATEX 3[57]， 1992，和LATEX 3 Project[59]， 1994，目的陈述。浏览
<a href="http://www.latex-project.org/latex3.html">http://www.latex-project.org/latex3.html</a>
以访问LaTeX3项目获取最新文章和报道。</p>

<p>A number of LATEX 3 projects have already been completed and are part of LATEX, including:</p>

<p>数个LATEX 3项目已经完成，是LATEX的一部分，包括:</p>

<ul>
<li><strong>The New Font Selection Scheme</strong>
LATEX uses Knuth’s Computer Modern fonts. The New Font Selection Scheme, NFSS, of Frank Mittelbach and Rainer Schöpf, written in 1989, allows the independent changing of font attributes and the integration of new font families into LATEX. With the proliferation of PostScript fonts and printers, more and more users want to use PostScript fonts in their LATEX documents.</li>

<li><p><strong>New and improved environments</strong>
Frank Mittelbach wrote a new multicolumn environment and Rainer Schöpf improved the verbatim and comment environments. There have also been several improvements made to the tabular and array environments. The extremely important graphicx package by David Carlisle and Sebastian Rahtz was released.</p></li>

<li><p><strong>The ﬁrst interim solution</strong>
In 1990, the AMS released AMS-LATEX , version 1.0—see Rainer Schöpf’s Foreword to this book for a personal account. This release contained</p>

<ul>
<li>AMS-TEX recoded to work with LATEX</li>
<li>The NFSS styles for proclamations</li>
<li>The new verbatim environment
AMS-LATEX , version 1.0, is a L ATEX dialect. It was incompatible with the then current L ATEX—version 2.09.</li>
</ul></li>
</ul>

<p>While the LATEX 3 team wanted to unify the mathematical community, this ﬁrst attempt by the AMS split it even further apart. Many AMS-TEX users simply refused to switch. Even today, 17 years later, many mathematicians cling to AMS-TEX. Even the LATEX community was split into users of the old LATEX, those whose LATEX incorporated the NFSS, and AMS-LATEX users.</p>

<p>The second interim solution</p>

<p>When it became obvious that the goals of LATEX 3 could not be fulﬁlled any time soon, theL ATEX 3team decided toissueanew version of LATEX, version 2e(alsocalled LATEXe) in June of 1994. This version replaced LATEX 2.09, see the two Mittelbach and Rowley articles cited above. This interim release accomplished some of LATEX 3’s goals, including the projects listed previously. Since then, LATEXe (called LATEX today) has become accepted as the standard LATEX.</p>

<p>In February of 1995, the AMS released version 1.2 of AMS-LATEX (which I call the AMS packages in this book) built on top of the new LATEX. Michael Downes was the project leader.</p>

<p>The changes in AMS-LATEX were substantial. The align environment, for example, was completely rewritten by David M. Jones. The recoded AMS-TEX had now become a LATEX package, amsmath.</p>

<p>It is extremely important to note that while AMS-LATEX 1.0 and 1.1 were monolithic structures, versions 1.2 and 2.0 (see Section C.1.4) are just collections of packages that ﬁt nicely into the LATEX model. You can use one AMS package or all, by themselves or mixed with other LATEX packages. This book was typeset using the LATEX document class (book) and the AMS packages, version 2.13, along with a number of other LATEX (non-AMS) packages.</p>

<ul>
<li><strong>新的字体选择方案</strong>
LATEX使用了Knuth的现代字体。Frank Mittelbach和Rainer Schöpf在1989年提出的新的字体选择方案NFSS允许对字体属性进行独立更改，并将新的字体族集成到LATEX中。随着PostScript字体和打印机的普及，越来越多的用户希望在他们的LATEX文档中使用PostScript字体。</li>
<li><strong>新的和改进的环境</strong>
Frank Mittelbach编写了一个新的多卷环境，Rainer Schopf改进了逐字注释环境。表格和数组环境也做了一些改进。 由David Carlisle和Sebastian Rahtz设计的极其重要的graphicx软件包发布了。</li>
</ul>

<h4 id="c-1-4-more-recent-developments">C.1.4 More recent developments</h4>

<p>Since 1996, changes to LATEX have been minor. A few new symbols have been added. Much work has been done on character encoding and LM (Latin Modern) fonts by Bogusław Jackowski and Janusz M. Nowacki to extend LATEX to languages other than American English (see Appendixes E and F).</p>

<p>自1996年以来，LATEX的变化很小。添加了一些新符号。在字符编码和LM(现代)拉丁字体方面Jackowski and Janusz M. Nowacki已经完成了大量的工作，延长LATEX到非美式英语的其他语言(参见附录E和F)。</p>

<p>In 1999, the American Mathematical Society released version 2.0 of the AMS packages and in 2004, version 2.2. About the same time, a consortium (made up of the AMS, Blue Sky Research, and Y&amp;Y) released free PostScript versions of the CM and AMS fonts. These PostScript fonts are now part of any LATEX distribution.</p>

<p>1999年，美国数学学会发布了AMS包的2.0版，2004年发布了2.2版。大约在同一时间，一个由AMS、蓝天研究和Y&amp;Y组成的联盟发布了CM和AMS字体的免费PostScript版本。这些PostScript字体现在是LATEX发布版的一部分。</p>

<p>Interestingly, there are still those who argue that the AMS packages are not part and parcel of LATEX and typesetting math. In life, almost everything is a compromise, in software design, even more so. Using the AMS packages to typeset math is an exception. It costs you nothing—if you do not need their features for a document, then you don’t have to use them. You need not sacriﬁce anything in order to have the power of the AMS packages available when you need them. This is why, in this book, by LATEX we mean LATEX with the AMS packages.</p>

<p>有趣的是，仍然有人认为AMS包不是LATEX和排版数学的一部分。在生活中，几乎一切都是妥协，在软件设计中更是如此。使用AMS包进行排版是一个例外。它不需要你花费任何东西——如果你不需要他们的特性来制作一个文档，那么你就不需要使用他们。您不需要牺牲任何东西来获得AMS包的功能。这就是为什么在这本书中，我们所说的LATEX是指含AMS包的LATEX。</p>

<h3 id="c-2-how-latex-works">C.2 How LATEX works</h3>

<p>In this section, I present a very simpliﬁed overview of the inner workings of LATEX.</p>

<p>在本节中，我将非常简单地概述LATEX的内部工作原理。</p>

<h4 id="c-2-1-the-layers">C.2.1 The layers</h4>

<p>TEX and LATEX consist of many layers. These include:</p>

<p>TEX和LATEX由许多层组成。这些包括：</p>

<p>virtex TEX’s core, containing about 350 primitive commands such as</p>

<p>virtex TEX的核心，包括大约350个原始命令，如</p>

<p>input accent hsize</p>

<p>virtex can also read format ﬁles, which are precompiled sets of commands. LATEX is nothing more than virtex reading in a large set of commands, built layer upon layer.</p>

<p>virtex还可以读取格式化文件，这些文件是预先编译好的命令集。LATEX不过是virtex一层一层地读取大量命令。</p>

<p>plain.tex The most basic layer built on virtex. It adds about 600 commands to virtex. When you invoke the TeX command, virtex loads the plain format, which is the default. The core TEX commands combined with the commands deﬁned by the plain format are called Plain TEX.</p>

<p>plain.tex 构建在virtex上的最基本层。它向virtex添加了大约600条命令。当您调用TeX命令时，virtex将加载默认的纯格式。与纯格式定义的命令相结合的核心TEX命令称为纯TEX。</p>

<p>Plain TEX is described in detail in Appendix B of Knuth’s The TEXbook [48]. You can also read plain.tex, a text ﬁle in the LATEX distribution. Plain TEX is powerful enough that you could do all your work in it. This approach is advocated by many, including Michael Doob in his book, TEX Starting from 1 [12].</p>

<p>Plain TEX在Knuth的《TEXbook》[48]的附录B中有详细描述。你也可以简单地阅读。图文文件中的LATEX发行版。纯TEX功能强大，你可以在里面完成所有的工作。许多人都提倡这种方法，包括Michael Doob在他的书《从1个开始的TEX》[12]中提倡的。</p>

<p>virtex cannot build (compile) format ﬁles. For that you need another version of TEX called initex, which loads the most basic information a format needs, such as the hyphenation tables and plain.tex, and creates a format ﬁle.</p>

<p>virtex不能构建(编译)格式化文件。为此，需要另一个名为initex的TEX版本，它加载格式所需的最基本信息，比如连字符表和普通信息。，并创建一个格式文件。</p>

<p><strong>LATEX</strong></p>

<p>LATEX is a format ﬁle containing a compiled set of commands written by Leslie Lamport and others. It provides tools for logical document design, automatic numbering and cross-referencing, tables of contents, and many other features. The new LATEX we are using is under the control of the LATEX3 group.</p>

<p>LATEX是一个包含由Leslie Lamport和其他人编写的一组编译命令的格式文件。它提供了用于逻辑文档设计、自动编号和交叉引用、目录和许多其他功能的工具。我们使用的新LATEX在LATEX3组的控制下。</p>

<p><strong>Document classes</strong></p>

<p>The document class forms the next layer. You may choose</p>

<ul>
<li>amsart, amsbook, oramsproc, provided by the AMS</li>
<li>article, book, letter, proc, report, orslides, the legacy classes</li>
<li>or any one of a large (and growing) number of other document classes provided by publishers of books and journals, universities, and other interested parties</li>
</ul>

<p>文档类形成下一层。你可以选择</p>

<ul>
<li>msart, amsbook, oramsproc，由AMS提供</li>
<li>文章、书籍、信件、过程、报告、幻灯片、遗留类</li>
<li>或由图书和期刊出版商、大学和其他有兴趣的团体提供的大量(而且还在增加的)其他文件类中的任何一种</li>
</ul>

<p><strong>Packages</strong></p>

<p>The next layer is made up of the packages loaded by the document. You can use standard LATEX packages, AMS packages, or any of hundreds of other packages in the LATEX universe, mixed together as necessary. Any package may require other packages, or may automatically load other packages.</p>

<p>下一层由文档加载的包组成。您可以使用标LATEX胶包、AMS包或LATEX世界中的任何其他数百个包，根据需要混合在一起。任何包都可能需要其他包，或者自动加载其他包。</p>

<p><strong>Documents</strong></p>

<p>At the top of this hierarchy sit your documents, with their custom commands and environments, utilizing all the power derived from the layers below.</p>

<p>在这个层次结构的顶部，放置您的文档及其自定义命令和环境，利用来自下面各层的所有功能。</p>

<h4 id="c-2-2-typesetting">C.2.2 Typesetting</h4>

<p>When typesetting, LATEX uses two basic types of ﬁles, the source ﬁles and the font metric ﬁles.</p>

<p>在排版时，LATEX使用两种基本类型的文件:源文件和字体度量文件。</p>

<p>A font metric ﬁle is designed to hold the information for a font of a given size and style. Each LATEX font metric ﬁle, called a tfm ﬁle, contains the size of each character, the kerning (the space placed between two adjacent characters), the length of the italic correction, the size of the interword space, and so on. A typical tfm ﬁle is cmr10.tfm, which is the LATEX font metric ﬁle for the font cmr (CM roman) at 10-point size.</p>

<p>字体度量文件用于保存给定大小和样式的字体的信息。每个LATEX字体度量文件(称为tfm文件)包含每个字符的大小、字距(两个相邻字符之间的空间)、斜体校正的长度、字间距的大小等等。典型的tfm文件是cmr10.tfm，它是LATEX字体度量文件，用于字体cmr (CM roman)的10点大小。</p>

<p>LATEX reads the source ﬁle one line at a time. It converts the characters of each line into a token sequence. A token is either a character—together with an indication of what role the character plays—or a command. The argument of a command is the token following it unless a group enclosed in braces follows it, in which case the contents of the group becomes the argument.2 An example of this behavior can be seen when you specify an exponent. LATEX looks for the next token as the exponent unless a group enclosed in braces follows the ˆ symbol. This explains why $2^3$ and $2^\alpha$ work, but $2^\mathfrak{m}$ does not. Indeed, 3 and \alpha each become a single token but \mathfrak{m} becomes more than one, four, infact. Of course, if you always use braces, as in</p>

<p>LATEX一次一行地读取源文件。它将每一行的字符转换为一个令牌序列。令牌可以是一个字符(以及字符所扮演的角色的指示)，也可以是一个命令。命令的参数是跟随它的令牌，除非用大括号括起来的组跟随它，在这种情况下，组的内容成为参数。当您指定一个指数时，可以看到这种行为的一个例子。LATEX寻找下一个记号的指数,除非一组包含在括号遵循ˆ符号。这解释了为什么$2^3$和$2^\alpha$起作用，而$2^\mathfrak{m}$不起作用。实际上，3和\alpha都变成了一个单独的令牌，但是\mathfrak{m}实际上变成了不止一个，四个。当然，如果你总是使用括号，如在</p>

<p>$2^{3}$, $2^{\alpha}$, $2^{\mathfrak{m}}$</p>

<p>then you never have to think about tokens to type such expressions.</p>

<p>那么您就不必考虑如何使用标记来输入这样的表达式。</p>

<p>After tokenizing the text, LATEX hyphenates it and attempts to split the paragraph into lines of the required width. The measurements of the characters—also called glyphs—are absolute, as are the distances between characters—called kerning. The spaces, interword space, intersentence space, and so on, are made of glue or rubber length (see Section 14.5.2). Glue has three parameters:</p>

<ul>
<li>the length of the space</li>
<li>stretchability, the amount by which it can be made longer</li>
<li>shrinkability, the amount by which it can be made shorter</li>
</ul>

<p>在标记文本之后，LATEX用连字符连接文本，并尝试将段落分割成所需宽度的行。字符(也称为字形)的测量是绝对的，字符之间的距离(也称为字距)也是绝对的。空间、词间空间、句间空间等由胶水或橡胶长度构成(见14.5.2节)。胶水有三个参数:</p>

<ul>
<li>空间的长度</li>
<li>可拉伸性，它可以被拉长的量</li>
<li>收缩性，使其缩短的量</li>
</ul>

<p>LATEX stretches and shrinks glue to form lines of equal length.</p>

<p>LATEX可以拉伸和收缩胶水，形成等长的线条。</p>

<p>LATEX employs a formula to measure how much stretching and shrinking is necessary in a line. The result is called badness. A badness of 0 is perfect, while a badness of 10,000 is very bad. Lines that are too wide are reported with messages such as</p>

<p>LATEX使用一个公式来测量在一行中需要多少拉伸和收缩。这个结果叫做劣势。0劣势是完美的，而10,000劣势是非常糟糕的。太宽的行报告消息，如</p>

<p>Overfull \hbox (5.61168pt too wide) in paragraph at lines 49--57</p>

<p>The badness of a line that is stretched too much is reported as follows:</p>

<p>被拉得太长的线路的坏处报告如下：</p>

<p>Underfull \hbox (badness 1189) in paragraph at lines 93--93</p>

<p>Once enough paragraphs are put together, LATEX composes a page from the typeset paragraphs using vertical glue. A short page generates a warning message such as</p>

<p>将足够多的段落放在一起后，LATEX使用垂直胶水从排版段落合成一个页面。一个简短的页面会生成一条警告消息，比如</p>

<p>Underfull \vbox (badness 10000) has
occurred while \output is active</p>

<p>The typeset ﬁle is stored as a dvi (Device Independent) ﬁle or a PDF ﬁle.</p>

<p>排版文件存储为dvi(与设备无关)文件或PDF文件。</p>

<h4 id="c-2-3-viewing-and-printing">C.2.3 Viewing and printing</h4>

<p>Viewing and printing LATEX’s typeset output are not really part of LATEX proper, but they are obviously an important part of your work environment. The printer driver prints the dvi and PDF ﬁles, and the video driver lets you view them on your monitor.</p>

<p>查看和打印LATEX的排版输出并不是LATEX的一部分，但是它们显然是您工作环境的重要组成部分。打印机驱动程序打印dvi和PDF文件，而视频驱动程序允许您在显示器上查看它们。</p>

<h4 id="c-2-4-latex-s-files">C.2.4 LATEX’s files</h4>

<p><strong>Auxiliary ﬁles</strong></p>

<p>LATEX is a one-pass compiler, that is, it reads the source ﬁle once only for typesetting. As a result, LATEX must use auxiliary ﬁles to store information it generates during a run. For each typesetting run, LATEX uses the auxiliary ﬁles compiled during the previous typesetting run. This mechanism explains why you have to typeset twice or more (see Section 17.2) to make sure that changes you have made to the source ﬁles are reﬂected in the typeset document. Such an auxiliary ﬁle has the same base name as the source ﬁle, the extension indicates its type.</p>

<p>LATEX是一次性编译器，也就是说，它只读取源文件一次，用于排版。因此，LATEX必须使用辅助文件来存储它在运行期间生成的信息。对于每次排字运行，LATEX使用前一次排字运行期间编译的辅助文件。这种机制解释了为什么必须进行两次或两次以上的排版(参见第17.2节)，以确保对源文件所做的更改反映在排版文档中。这样的辅助文件具有与源文件相同的基名称，扩展名指示其类型。</p>

<p>The most important auxiliary ﬁle, the aux ﬁle, contains a great deal of information about the document, most importantly, the data needed for symbolic referencing. Here are two typical entries:</p>

<p>最重要的辅助文件aux文件包含大量关于文档的信息，最重要的是符号引用所需的数据。以下是两个典型的条目：</p>

<p>\newlabel{struct}{{5}{2}}
\bibcite{eM57a}{4}</p>

<p>The ﬁrst entry indicates that a new symbolic reference was introduced on page 2 of the typeset document in Section 5 using the command</p>

<p>第一个条目表示使用该命令在第5节的排版文档的第2页引入了一个新的符号引用</p>

<p>\label{struct}</p>

<p>The command \ref{struct} produces 5, while \pageref{struct} yields 2.</p>

<p>命令\ref{struct}生成5个，而\pageref{struct}生成2个。</p>

<p>The second entry indicates that the bibliographic entry with label eM57a has been assigned the number 4, so \cite{eM57a} produces [4].</p>

<p>134/5000
第二个条目表明，带有eM57a标签的书目条目被赋值为4，因此\cite{eM57a}生成[4]。</p>

<p>There is an aux ﬁle for the source ﬁle being processed, and another one for each ﬁle included in the main ﬁle by an \include command.</p>

<p>对于正在处理的源文件，有一个aux文件，对于通过\include命令包含在主文件中的每个文件，有另一个aux文件。</p>

<p>No auxiliary ﬁle is written if the \nofiles command is given. The message</p>

<p>如果给出\nofiles命令，则不写入辅助文件。消息为</p>

<p>No auxiliary output files.</p>

<p>in the log ﬁle reminds you that \nofiles is in eﬀect.</p>

<p>在日志文件中提醒您\nofiles已生效。</p>

<p>The log ﬁle contains all the information shown in the log window during the typesetting. The dvi ﬁle contains the typeset version of the source ﬁle.</p>

<p>日志文件包含排字期间在日志窗口中显示的所有信息。dvi文件包含源文件的排版版本。</p>

<p>There are ﬁve auxiliary ﬁles that store information for special tasks. They are written only if that special task is invoked by a command and there is no \nofiles command. The additional auxiliary ﬁles are</p>

<ul>
<li><p>glo Contains the glossary entries produced by \glossary commands. A new ﬁle is written only if there is a</p>

<pre><code>\makeglossary
</code></pre>

<p>command in the source ﬁle (see Section 16.6).</p></li>

<li><p>lof Contains the entries used to compile a list of ﬁgures. A new ﬁle is written only if there is a</p>

<pre><code>\listoffigures
</code></pre>

<p>command in the source ﬁle (see Section 8.4.3).</p></li>

<li><p>lot Contains the entries used to compile a list of tables. A new ﬁle is written only if there is a</p>

<pre><code>\listoftables
</code></pre>

<p>command in the source ﬁle (see Section 8.4.3).</p></li>

<li><p>toc Contains the entries used to compile a table of contents. A new ﬁle is written only if there is a</p>

<pre><code>\tableofcontents
</code></pre>

<p>command in the source ﬁle (see Section 17.2).</p></li>
</ul>

<p>有五个辅助文件存储特殊任务的信息。只有当某个命令调用了该特殊任务，并且没有\nofiles命令时，才会编写它们。附加的辅助文件是</p>

<ul>
<li><p>glo 包含由\glossary命令生成的术语表条目。只有在源文件存在以下在命令(参见第16.6节)</p>

<pre><code>\makeglossary
</code></pre>

<p>时才会写入新文件。</p></li>

<li><p>lof 包含用于编译图形列表的项。只有在源文件存在以下在命令(参见第8.4.3节)</p>

<pre><code>\listoffigures
</code></pre>

<p>时才会写入新文件。</p></li>

<li><p>lot 包含用于编译表列表的项。只有在源文件存在以下在命令(参见第8.4.3节)</p>

<pre><code>\listoftables
</code></pre>

<p>时才会写入新文件。</p></li>

<li><p>toc 包含用于编译目录的项。只有在源文件存在以下在命令(参见第17.2节)</p>

<pre><code>\tableofcontents
</code></pre>

<p>时才会写入新文件。</p></li>
</ul>

<p>For information about the auxiliary ﬁles created by BIBTEX and MakeIndex, see Sections 15.2.3 and 16.3, respectively. Some classes and packages create additional auxiliary ﬁles (see Section 11.2.3 for an example).</p>

<p>有关BIBTEX和MakeIndex创建的辅助文件的信息，请分别参见15.2.3和16.3节。一些类和包会创建额外的辅助文件(参见11.2.3节中的示例)。</p>

<p><strong>Versions</strong></p>

<p>A complete LATEX distribution consists of hundreds of ﬁles, all of which interact in some way. Since most of these ﬁles have had many revisions, you should make sure that they are all up-to-date and compatible with each other. You can check the version numbers and dates by reading the ﬁrst few lines of each ﬁle in a text editor or by checking the dates and version numbers that are shown on the list created by the command \listfiles, which I discuss later in this section.</p>

<p>一个完整的LATEX发行版包含数百个文件，所有这些文件都以某种方式交互。由于大多数这些文件都有许多修订，您应该确保它们都是最新的并且彼此兼容。您可以通过在文本编辑器中读取每个文件的前几行来检查版本号和日期，或者通过检查命令\listfiles创建的列表中显示的日期和版本号，我将在本节后面讨论。</p>

<p>LATEX has been updated every year. While writing this book, I used the version of LATEX that was issued on May 5, 2014.</p>

<p>LATEX每年都会更新。写这本书的时候，我用的是2014年5月5日发行的LATEX。</p>

<p>When you typeset a LATEX document, LATEX prints its release date in the log ﬁle with a line such as</p>

<p>当您对LATEX文档进行排版时，LATEX会在日志文件中打印它的发布日期，例如</p>

<p>LaTeX2e <2014/05/01></p>

<p>If you use a LATEX feature that was introduced recently, you can put a command such as the following into the preamble of your source ﬁle:</p>

<p>如果您使用最近引入的LATEX特性，可以在源文件的序言中输入如下命令：</p>

<p>\NeedsTeXFormat{LaTeX2e}[2008/12/01]</p>

<p>This command speciﬁes the date of the oldest version of LATEX that may be used to typeset your ﬁle. If someone attempts to typeset your ﬁle with an older version, LATEX generates a warning.</p>

<p>此命令指定可用于对文件进行排版的旧版本LATEX的日期。如果有人试图用旧版本对您的文件进行排版，LATEX会生成一个警告。</p>

<p>The AMS math package amsmath is at version 2.13, the document classes at version 2.26, and the AMSFonts set is at version 2.2d. See Section D.1 for more information on obtaining updated versions.</p>

<p>AMS math包amsmath的版本号是2.13，文档类的版本号是2.26,AMSFonts设置的版本号是2.2d。有关获得更新版本的更多信息，请参见D.1节。</p>

<p>If you include the \listfiles command in the preamble of your document, then the log ﬁle contains a detailed listing of all the ﬁles used in the typesetting of your document. Here are the ﬁrst few (truncated) lines from such a listing:</p>

<p>如果您将\listfiles命令包含在文档的序言中，那么日志文件将包含用于文档排版的所有文件的详细清单。以下是清单中的前几行(截短的)：</p>

<pre><code>*File List*
book.cls 1999/01/07 v1.4a Standard LaTeX document class
leqno.clo 1998/08/17 v1.1c Standard LaTeX option (left equation numbers)
bk10.clo 2007/10/19 v1.4h Standard LaTeX file (size option)
MiL5.sty 2014/12/15 Commands for MiL5
amsmath.sty 2013/01/14 v2.14 AMS math features
amstext.sty 2000/06/29 v2.01
amsgen.sty 1999/11/30 v2.0
amsbsy.sty 1999/11/29 v1.2d
amsopn.sty 1999/12/14 v2.01 operator names
amsthm.sty 2004/08/06 v2.20
verbatim.sty 2003/08/22 v1.5q LaTeX2e package for verbatim enhancements
amsxtra.sty 1999/11/15 v1.2c
eucal.sty 2009/06/22 v3.00 Euler Script fonts
amssymb.sty 2013/01/14 v3.01 AMS font symbols
amsfonts.sty 2013/01/14 v3.01 Basic AMSFonts support
omxcmex.fd 1999/05/25 v2.5h Standard LaTeX font definitions
latexsym.sty 1998/08/17 v2.2e Standard LaTeX package (lasy symbols)
amscd.sty 1999/11/29 v1.2d
alltt.sty 1997/06/16 v2.0g defines alltt environment
xspace.sty 2009/10/20 v1.13 Space after command names (DPC,MH)
graphicx.sty 2014/04/25 v1.0g Enhanced LaTeX Graphics (DPC,SPQR)
keyval.sty 2014/05/08 v1.15 key=value parser (DPC)
graphics.sty 2009/02/05 v1.0o Standard LaTeX Graphics (DPC,SPQR)
trig.sty 1999/03/16 v1.09 sin cos tan (DPC)
</code></pre>

<p>This list looks quite up-to-date (in fact, it is completely up-to-date). To conﬁrm this, open the ﬁle alltt.sty in the latest LATEX distribution. You ﬁnd the lines</p>

<p>这个列表看起来是最新的(事实上，它是完全最新的)。要确认这一点，请在最新的LATEX发行版打开文件alltt.sty。找到这些行</p>

<pre><code>\ProvidesPackage{alltt} [1997/06/16 v2.0g defines alltt environment]
</code></pre>

<p>that explain the date found in the listing.</p>

<p>这解释了清单中的日期。</p>

<h3 id="c-3-interactive-latex">C.3 Interactive LATEX</h3>

<p>If LATEX cannot carry out your instructions, it displays a prompt and possibly an error message in the log window.</p>

<p>如果LATEX不能执行您的指令，它将在日志窗口中显示提示信息，可能还会显示错误消息。</p>

<ul>
<li><p>The ** prompt means that LATEX needs to know the name of a source ﬁle to typeset. This usually means that you misspelled a ﬁle name, you are trying to typeset a document that is not located in LATEX’s current folder, or that there is a space in the name of your source ﬁle.</p></li>

<li><p>**提示符意味着LATEX需要知道源文件的名称。这通常意味着您拼错了一个文件名，您试图对一个不在LATEX当前文件夹中的文档进行排版，或者源文件的名称中有空格。</p></li>

<li><p>The ? prompt indicates that LATEX has found an error in your source ﬁle, and wants you to decide what to do next. You can try to continue typesetting the ﬁle by pressing
– Return
– q to typeset in quiet mode, not stopping for errors. Depending on the nature of the error, LATEX may either recover or generate more error messages
– x to stop typesetting your ﬁle
– h to get advice on how to correct the error</p></li>

<li><p>If you have misspelled the name of a package in a \usepackage command, or if LATEX cannot ﬁnd a ﬁle, it displays a message similar to the following:
! LaTeX Error: File ‘misspelled.sty’ not found.
Type X to quit or <RETURN> to proceed,
or enter new name. (Default extension: sty)
Enter file name:<br />
You can either type the correct name of the ﬁle at the prompt, or type x to quit LATEX.</p></li>

<li><p>?提示符表示LATEX在源文件中发现了一个错误，希望您决定下一步做什么。你可以按下继续排字</p>

<p>– Return
– q 以安静模式排字，不因错误而停止。根据错误的性质，LATEX可以恢复或生成更多的错误消息
– x 停止排字
– h 获取有关如何纠正错误的建议</p></li>

<li><p>If you have misspelled the name of a package in a \usepackage command, or if LATEX cannot ﬁnd a ﬁle, it displays a message similar to the following:
! LaTeX Error: File ‘misspelled.sty’ not found.
Type X to quit or <RETURN> to proceed,
or enter new name. (Default extension: sty)
Enter file name:<br />
You can either type the correct name of the ﬁle at the prompt, or type x to quit LATEX.</p></li>

<li><p>如果您在\usepackage命令中拼错了包的名称，或者LATEX找不到文件，它会显示类似以下的消息：</p>

<p>! LaTeX Error: File ‘misspelled.sty’ not found.
Type X to quit or <RETURN> to proceed,
or enter new name. (Default extension: sty)
or enter new name. (Default extension: sty)</p></li>
</ul>

<p>输入文件名:您可以在提示符处输入正确的文件名，或者输入x退出LATEX。</p>

<ul>
<li><p>The*prompt signiﬁes that LATEX is ininteractivemodeand is waiting for instructions. To get such a prompt, comment out the line
\end{document}
in a source ﬁle, then typeset the ﬁle. Interactive instructions, such as \show and \showthe (see Section 14.1.8) may be given at the * prompt. To exit, type
\end{document}
at the * prompt, and press Return.</p></li>

<li><p>*提示符表示LATEX是不交互的，正在等待指令。要得到这样的提示，请注释掉该行
\end{document}
在源文件中，然后对该文件进行排版。交互式指令，例如\show和\showthe(参见14.1.8节)，可以在*提示符处给出。退出,输入
\end{document}
在*提示符处，然后按Return。</p></li>

<li><p>If you get the * prompt and no error message, type \stop and press Return.</p></li>
</ul>

<p>-如果您得到*提示，没有错误消息，输入\stop并按Return。</p>

<h3 id="c-4-separating-form-and-content">C.4 Separating form and content</h3>

<p>In Section 2.3, we discuss logical and visual design and how L ATEX allows you to concentrate on the logical design and takes care of the visual design. LATEX uses four tools to separate the logical and visual design of a document:</p>

<p>在第2.3节中，我们将讨论逻辑设计和视觉设计，以及L ATEX如何让您专注于逻辑设计并处理视觉设计。LATEX使用四种工具来分离文档的逻辑和视觉设计：</p>

<ol>
<li><p><strong>Commands</strong> Information is given to LATEX in the arguments of commands. For instance, title page information is given in this form. The ﬁnal organization and appearance of the title page is completely up to the document class and its options.</p></li>

<li><p><strong>Commands</strong> 在命令的参数中给出了LATEX的信息。例如，在这个表单中给出了标题页信息。标题页的最终组织和外观完全取决于文档类及其选项。</p></li>
</ol>

<p>A more subtle example is the use of a command for distinguishing a term or notation. For instance, you may want to use an \env command for environment names. You may deﬁne \env as follows:
\newcommand{\env}[1]{\texttt{#1}}</p>

<p>一个更微妙的例子是使用命令来区分术语或符号。例如，您可能希望对环境名称使用\env命令。你可以这样定义\env：
\newcommand{\env}[1]{\texttt{#1}}</p>

<p>This gives you a command that typesets all environment names in typewriter style (seeSection3.6.2). Logically, you have decided that an environment name should be marked up. Visually, you may change your decision any time. By changing the deﬁnition to
\newcommand{\env}[1]{\textbf{#1}}</p>

<p>这提供了一个命令，可以将所有环境名称以打字机样式进行排版(seeSection3.6.2)。从逻辑上讲，您已经决定应该标记一个环境名称。在视觉上，你可以随时改变你的决定。将定义改为
\newcommand{\env}[1]{\textbf{#1}}</p>

<p>all environment names are typeset in bold (see Section 3.6.5). Thefollowing example is taken from second articleccom.tex ( see Section 9.3 and the samples folder). This article deﬁnes the construct 𝐷⟨2⟩ with the command
\newcommand{\Dsq}{D^{\langle 2 \rangle}}</p>

<p>所有环境名称都是粗体的类型集(参见3.6.5节)。下面的例子来自于secondarticleccom.tex(参见9.3节和samples文件夹)。本文定义了构造𝐷⟨2⟩命令
\newcommand{\Dsq}{D^{\langle 2 \rangle}}</p>

<p>If a referee or coauthor suggests a diﬀerent notation, editing thisonelinechanges the notation throughout the entire article.</p>

<p>如果裁判或合著者建议使用不同的符号，编辑这一行将改变整篇文章的符号。</p>

<ol>
<li><p><strong>Environments</strong> Important logical structures are placed within environments. For example, list items are typed within a list environment (see Section 4.2) and formatted accordingly. If you later decide to change the type of the list, you can do so by simply changing the name of the environment.</p></li>

<li><p><strong>Environments</strong> 重要的逻辑结构被放置在环境中。例如，列表项是在列表环境中键入的(参见4.2节)，并相应地进行格式化。如果您稍后决定更改列表的类型，那么只需更改环境的名称即可。</p></li>

<li><p><strong>Proclamations</strong> You can change the style or numbering scheme of any proclamation at any time by changing that proclamation’s deﬁnition in the preamble. See the typeset secondarticle article on pages 272–275 for examples of proclamations typeset with diﬀerent styles.</p></li>

<li><p><strong>Proclamations</strong> 你可以在任何时候通过改变宣言前言中的定义来改变宣言的风格或编号方案。参见第272-275页上的排版secondarticle文章，以获得不同风格的公告排版示例。</p></li>

<li><p><strong>Numbering and cross-referencing</strong> Theorems, lemmas, deﬁnitions, sections, and equations are logical units that can be freely moved around. LATEX automatically recalculates the numbers and cross-references.</p></li>

<li><p><strong>Numbering and cross-referencing</strong> 定理、引理、定义、部分和方程是可以自由移动的逻辑单元。LATEX自动重新计算数字和交叉引用。</p></li>
</ol>

<p>You write articles to communicate your ideas. The closer you get to a separation of logical and visual design, the more you are able to concentrate on that goal. Of course, you can never quite reach this ideal. For instance, a line too widewarning (see Sections 1.4 and 3.7.1) is a problem of visual design. When a journal changes the document class in an article you submitted, unless the new document class retains the same fonts and line width of the document class you used, new line too wide problems arise. L ATEX is successful in automatically solving visual design problems well over 95% of the time. That is getting fairly close to the ideal.</p>

<p>你写文章是为了表达你的想法。你越接近逻辑设计和视觉设计的分离，你就越能专注于这个目标。当然，你永远不可能达到这个理想。例如，一行太宽的警告(参见1.4和3.7.1节)是视觉设计的问题。当期刊更改您提交的文章中的文档类时，除非新文档类保留与您使用的文档类相同的字体和行宽，否则会出现新行太宽的问题。L ATEX成功地自动解决了95%以上的视觉设计问题。这已经很接近理想状态了。</p>

<h2 id="d-latex-and-the-internet">D LATEX and the Internet</h2>

<p>While LATEX is pretty stable, the rest of the world around us is changing very fast and the Internet plays an ever larger role in our lives. This appendix deals with the Internet as a useful source of LATEX information.</p>

<p>虽然LATEX相当稳定，但我们周围的世界变化非常快，互联网在我们的生活中扮演着越来越重要的角色。本附录论述了作为LATEX信息有用来源的因特网。</p>

<p>The Internet is clearly the main repository of all matters LATEX, and the Comprehensive TEX Archive Network (CTAN) is the preeminent collection of TEX-related material. Section D.1 discusses how and where to ﬁnd the LATEX distribution, AMS and LATEX packages, and the sample ﬁles for this book on CTAN.</p>

<p>因特网显然是LATEX的主要存储库，而全面的TEX档案网络(CTAN)是与TEX相关的材料的卓越收藏。D.1节讨论了如何以及在哪里找到LATEX发行版，AMS和LATEX包，以及这本关于CTAN的书的样本文件。</p>

<p>Various international TEX user groups (especially TUG, the T EX Users Group) and the American Mathematical Society play a signiﬁcant role in supporting LATEX. I discuss some of the major user groups in Section D.2.</p>

<p>各种国际TEX用户组(特别是TUG、TEX用户组)和美国数学协会在支持LATEX方面发挥了重要作用。我将在D.2节中讨论一些主要的用户组。</p>

<p>Finally, you ﬁnd a great deal of useful information on the Internet concerning LATEX. I provide some pointers in Section D.3.</p>

<p>最后，你会在网上找到大量关于LATEX的有用信息。我在D.3节中提供了一些指针。</p>

<h3 id="d-1-obtaining-files-from-the-internet">D.1 Obtaining files from the Internet</h3>

<p>Say you are interested in using Piet van Oostrum’s fancyhdr package mentioned in Section 8.6. Chances are you can go ahead and use it, your LATEX installation already has it. In this age of gigantic hard disks, your LATEX installation places pretty much everything on your computer. But what if your version of fancyhdr needs updating or you need a new package. How you go about getting it?</p>

<p>假设您对第8.6节中提到的Piet van Oostrum的fancyhdr包感兴趣。你可以继续使用它，你的LATEX安装中已经有它。在这个巨大的硬盘时代，LATEX可以把几乎所有的东西都放在计算机上。但是，如果您的fancyhdr版本需要更新，或者需要一个新包，该怎么办呢?你是怎么得到它的?</p>

<p>We discuss below the proper way of doing this, with an FTP client or a Webbrowser. But maybe the simplest approach is to google fancyhdr. The ﬁrst line of the ﬁrst entry of the complete list of 82,100 responses is
The TeX Catalogue OnLine, Entry for fancyhdr, Ctan Edition
Clicking on it takes you to a page describing the package. You can get the package by clicking on Download. It is this simple.</p>

<p>我们将在下面讨论使用FTP客户端或web浏览器实现此目的的正确方法。但也许最简单的方法是谷歌fancyhdr。完整的82,100个响应列表的第一个条目的第一行是
The TeX Catalogue OnLine, Entry for fancyhdr, Ctan Edition
单击它会转到描述包的页面。您可以通过单击Download获得该包。就是这么简单。</p>

<p>In general, there are two types of Internet sites from which you can download ﬁles:</p>

<ul>
<li>FTP sites (using the ﬁle transfer protocol)</li>
<li>Web sites (using the HTTP protocol)</li>
</ul>

<p>一般来说，你可以从以下两类网站下载档案:</p>

<ul>
<li>FTP站点(使用文件传输协议)</li>
<li>网站(使用HTTP协议)</li>
</ul>

<p>To access them, use a client application on your computer to connect to a server on another machine. Most Web browsers, which are designed to connect to Web sites, also handle FTP transfers.</p>

<p>要访问它们，请使用计算机上的客户机应用程序连接到另一台计算机上的服务器。大多数用于连接Web站点的Web浏览器也处理FTP传输。</p>

<p>All operating systems include a browser and an FTP client as part of the system.</p>

<p>所有操作系统都包括一个浏览器和一个FTP客户机作为系统的一部分。</p>

<p><strong>The Comprehensive TEX Archive Network</strong></p>

<p>The Comprehensive TEX Archive Network (CTAN) is the preeminent collection of TEXrelated material on the Internet. There are three main CTAN hosts:</p>

<ul>
<li>U.S.
– FTP address: <a href="ftp://tug.ctan.org/">ftp://tug.ctan.org/</a>
– Web address: <a href="http://www.ctan.org/">http://www.ctan.org/</a></li>
<li>U.K.
– FTP address: <a href="ftp://ftp.tex.ac.uk/">ftp://ftp.tex.ac.uk/</a>
– Web address: <a href="http://www.tex.ac.uk/">http://www.tex.ac.uk/</a></li>
<li>Germany
– FTP address: <a href="ftp://ftp.dante.de/">ftp://ftp.dante.de/</a>
– Web address: <a href="http://www.dante.de/">http://www.dante.de/</a></li>
</ul>

<p>综合文本档案网络(CTAN)是互联网上预先收集的文本材料。有三个主要的CTAN主机：
- 美国
    - <a href="ftp://tug.ctan.org/">ftp://tug.ctan.org/</a>
    - Web address: <a href="http://www.ctan.org/">http://www.ctan.org/</a>
- 英国
    - <a href="ftp://ftp.tex.ac.uk/">ftp://ftp.tex.ac.uk/</a>
    - Web address: <a href="http://www.tex.ac.uk/">http://www.tex.ac.uk/</a>
- 德国
    - <a href="ftp://ftp.dante.de/">ftp://ftp.dante.de/</a>
    - Web address:<a href="http://www.dante.de/">http://www.dante.de/</a></p>

<p>If you go to a CTAN site, at the very root you ﬁnd README.structure, a very important ﬁle. It describes the bottom of the archive tree.</p>

<ul>
<li>biblio Systems for maintaining and presenting bibliographies within documents typeset using LATEX</li>
<li>digests Collections of TEX mailing list digests, TEX-related ‘electronic magazines’, and indexes, etc., of printed publications</li>
<li>dviware Printer drivers and previewers, etc., for DVI ﬁles</li>
<li>fonts Fonts written in Metafont, and support for using fonts from other sources (e.g., those in Adobe Type 1 format)</li>
<li>graphics Systems and TEX macros for producing graphics help FAQs and similar direct assistance, the catalogue</li>
<li>indexing Systems for maintaining and presenting indexes of documents typeset using TEX.</li>
<li>info Manuals and extended how-to information, errata for TEX-related publications, collections of project (e.g., LATEX and NTS) documents, etc.</li>
<li>language Support for various languages</li>
<li>macros TEX macros. Several directories have signiﬁcant sub-trees.</li>
<li>obsolete Material which is now obsolete, including all of LATEX 2.09</li>
<li>support TEX support environments and the like</li>
<li>systems TEX systems. Organized by operating environment</li>
<li>tds The TEX Directory Structure standard</li>
<li>usergrps Information supplied by TEX User Groups</li>
<li>web Literate Programming tools and systems</li>
</ul>

<p>如果你去一个CTAN网站，你会发现它的最根本的内容是自述。结构，一个非常重要的文件。它描述了归档树的底部。</p>

<ul>
<li>biblio 使用LATEX在文档排版中维护和显示参考书目的系统</li>
<li>digests TEX邮件列表摘要、与TEX有关的“电子杂志”和印刷出版物索引等的集合</li>
<li>dviware 用于DVI文件的打印机驱动程序和预览器等</li>
<li>fonts 使用Metafont编写的字体，并支持使用来自其他来源的字体(例如，Adobe Type 1格式的字体)</li>
<li>graphics 用于生成图形的系统和TEX宏有助于常见问题和类似的直接帮助，目录</li>
<li>indexing 使用TEX维护和显示文档类型集索引的系统。</li>
<li>info 手册和扩展操作指南信息，与文本相关的出版物的勘误表，项目的收集(如LATEX和NTS)文档，等等。</li>
<li>language 支持多种语言</li>
<li>macros TEX宏。一些目录有重要的子树。</li>
<li>obsolete 现在已经过时的材料，包括所有的LATEX 2.09</li>
<li>support TEX支持环境之类的</li>
<li>systems TEX系统。按运行环境组织</li>
<li>tds TEX目录结构标准</li>
<li>usergrps TEX用户组提供的信息</li>
<li>web 即编程工具和系统</li>
</ul>

<p>All of these have many subdirectories, for instance, info has the examples subdirectory that contains the sample ﬁles for this book. This is a rather new subdirectory, older sample ﬁles are in info proper.</p>

<p>所有这些都有许多子目录，例如，info有包含本书示例文件的examples子目录。这是一个相当新的子目录，旧的样本文件在info中。</p>

<p>So if you are interested in BIBTEX, you go to biblio/, and so on. The explanations are clear. All matters LATEX are in macros/latex/, which has a number of subdirectories, including</p>

<ul>
<li>contrib—Contributed LATEX macros</li>
<li>unpacked—Unpacked copy of the LATEX sources</li>
<li>required—Packages “required” of a LATEX distribution</li>
</ul>

<p>如果你对BIBTEX感兴趣，你可以去biblio/，等等。解释很清楚。所有的事情LATEX都在macros/latex/中，它有很多子目录，包括</p>

<ul>
<li>contrib—贡献的LATEX宏</li>
<li>unpacked—未包装的LATEX源副本</li>
<li>required—LATEX发行版的“要求”包</li>
</ul>

<p>There are many fullmirrors, exact duplicates, of CTAN and many partial mirrors. At the root of CTAN you ﬁnd the README.mirrors ﬁle listing them all. To reduce network load, you should try to use a mirror located near you.</p>

<p>CTAN有许多完全镜像、完全复制镜像和许多部分镜像。在CTAN的基础上，你可以找到README.mirrors文件列出了所有这些。为了减少网络负载，您应该尝试使用位于您附近的镜像。</p>

<p>Many CTAN sites now have easy search access with Web browsers. For instance, point your browser to
<a href="http://tug.ctan.org/search.html">http://tug.ctan.org/search.html</a>
In the search ﬁeld, type fancyhdr, and you get a long list of links. Click on
macros/latex/contrib/fancyhdr.zip
and you are done. If you type gratzer, you get the links to the help ﬁles of my various books—in info/ and info/examples/.</p>

<p>许多CTAN站点现在可以通过Web浏览器轻松地进行搜索访问。例如，将浏览器指向
<a href="http://tug.ctan.org/search.html">http://tug.ctan.org/search.html</a>
在搜索字段中，键入fancyhdr，您将得到一长串链接。点击
macros/latex/contrib/fancyhdr.zip
做完了。如果你输入gratzer，你会得到我各种书的帮助文件的链接——在info/和info/examples/中。</p>

<p><strong>The AMS packages</strong></p>

<p>Chances are that you received the AMS packages with your L ATEX distribution. If you did not, or if you want to update them, go to a CTAN site:</p>

<ul>
<li>/tex-archive/fonts/amsfonts/latex/</li>
<li>/tex-archive/macros/latex/required/amslatex/</li>
</ul>

<p>很有可能你收到了与你的LATEX发行版的AMS包。如果你没有，或者你想更新他们，去一个CTAN网站：</p>

<ul>
<li>/tex-archive/fonts/amsfonts/latex/</li>
<li>/tex-archive/macros/latex/required/amslatex/</li>
</ul>

<p>or to the AMS site:
<a href="http://www.ams.org/tex/amslatex.html">http://www.ams.org/tex/amslatex.html</a></p>

<p>或去
<a href="http://www.ams.org/tex/amslatex.html">http://www.ams.org/tex/amslatex.html</a>
网站</p>

<p><strong>The sample ﬁles</strong></p>

<p>The sample ﬁles for this book, introduced in Section 1.1.2 on page 5, live on CTAN in the directory
/info/examples/Math_into_LaTeX-5
You can go to /info/examples/ and download it, or you can search for the directory name Math_into_LaTeX-5. If you forget these, just search for gratzer.</p>

<p>本书的示例文件(在第5页1.1.2节中介绍)位于目录中的CTAN上
/info/examples/Math_into_LaTeX-5
你可以去/info/examples/下载它，或者你可以搜索目录名Math_into_LaTeX-5。如果你忘了这些，就搜索gratzer。</p>

<p>You can also ﬁnd the MissionImpossible (Part I) on CTAN:
/info/Math_into_LaTeX-4/Mission_Impossible.pdf</p>

<p>你也可以在CTAN上找到任务不可能(第一部分):
/info/Math_into_LaTeX-4/Mission_Impossible.pdf</p>

<h3 id="d-2-the-tex-users-group">D.2 The TEX Users Group</h3>

<p>The TEX Users Group (TUG) does a tremendous job of supporting and promoting TEX, by publishing a journal, TUG boat, three times a year and organizing an annual international conference. TUG also helps support the LATEX 3 team in maintaining LATEX and developing LATEX 3.</p>

<p>TEX用户组(TUG)在支持和推广TEX方面做了大量的工作，他们每年出版三次期刊《TUG boat》，并组织了一次年度国际会议。TUG还帮助LATEX团队维护和开发LATEX。</p>

<p>Consider joining TUG if you have an interest in LATEX. TUG’s contact information is:</p>

<p>Telephone: (503) 223-9994</p>

<p>E-mail: oﬃce@tug.org</p>

<p>Web page: <a href="http://www.tug.org/">http://www.tug.org/</a></p>

<p>如果你对LATEX感兴趣，可以考虑加入TUG。TUG的联络资料如下:</p>

<p>Telephone: (503) 223-9994</p>

<p>E-mail: oﬃce@tug.org</p>

<p>Web page: <a href="http://www.tug.org/">http://www.tug.org/</a></p>

<p>If you are a member, you receive every year a brand new TEX Live DVD, which contains everything you need to install LATEX.</p>

<p>如果你是会员，你每年都会收到一张全新的TEX实时DVD，里面包含了安装LATEX所需的所有东西。</p>

<p><strong>The American Mathematical Society</strong></p>

<p>The AMS provides excellent technical advice for using the AMS packages and AMSFonts. You can reach the AMS technical staﬀ by e-mail at tech-support@ams.org, or by telephone at (800) 321-4267 or (401) 455-4080. You can also ﬁnd a great deal of helpful TEX information on the AMS Web site in the Author Resource Center.</p>

<p>AMS为使用AMS包和AMSFonts提供了优秀的技术建议。你可以通过电子邮件tech-support@ams.org，或通过电话(800)321-4267或(401)455-4080与AMS技术人员联系。您还可以在作者资源中心的AMS网站上找到大量有用的TEX信息。</p>

<h3 id="d-3-some-useful-sources-of-latex-information">D.3 Some useful sources of LATEX information</h3>

<p>You may ﬁnd useful the Frequently Asked Questions (FAQ) documents maintained on CTAN; search FAQ. The U.K. TEX Users Group maintains its own FAQ list at
<a href="http://www.tex.ac.uk/cgi-bin/texfaq2html?introduction=yes">http://www.tex.ac.uk/cgi-bin/texfaq2html?introduction=yes</a>
The AMS FAQ is at
<a href="http://www.ams.org/authors/author-faq.html">http://www.ams.org/authors/author-faq.html</a>
You can also ask most TEX-related questions in the Usenet news group comp.text.tex.</p>

<p>你可能会发现在CTAN上保存的常见问题(FAQ)文档很有用;搜索常见问题解答。英国TEX用户组在网站上有自己的常见问题解答
<a href="http://www.tex.ac.uk/cgi-bin/texfaq2html?introduction=yes">http://www.tex.ac.uk/cgi-bin/texfaq2html?introduction=yes</a>
AMS FAQ的网址是
<a href="http://www.ams.org/authors/author-faq.html">http://www.ams.org/authors/author-faq.html</a>
您还可以在Usenet新闻组comp.text.tex中询问大多数与文本相关的问题。</p>

<h2 id="e-postscript-fonts">E PostScript fonts</h2>

<p>In the late 1990s, as we mentioned in Section C.1.4, a consortium (the AMS, Blue Sky Research, and Y&amp;Y) released a free PostScript version of the CM and AMS fonts, so everyone could switch to PostScript fonts, a tremendous advance for LATEX users.</p>

<p>在20世纪90年代末，正如我们在C.1.4节中提到的，一个财团(AMS、蓝天研究和Y&amp;Y)发布了CM和AMS字体的免费PostScript版本，因此每个人都可以切换到PostScript字体，这对LATEX用户来说是一个巨大的进步。</p>

<p>The Computer Modern fonts were originally “hardwired” into LATEX. Many users liked LATEX but disliked the Computer Modern font, and with the spread of personal computers and PostScript laser printers, it was imperative that more PostScript fonts be integrated into LATEX. In Section E.1, I describe how easy it is to use standard PostScript fonts, such as Times. In Section E.2, I show you how to replace the CM and AMS fonts in a LATEX document with the Lucida Bright fonts.</p>

<p>计算机的现代字体最初是“硬连接”到LATEX中的。许多用户喜欢LATEX，但不喜欢计算机的现代字体。随着个人电脑和PostScript激光打印机的普及，将更多的PostScript字体集成到LATEX中势在必行。在第E.1节中，我描述了使用标准PostScript字体(例如Times)的简单程度。在第E.2节中，我将向您展示如何用Lucida亮字体替换LATEX文档中的CM和AMS字体。</p>

<p>“PostScript font” is the terminology that lay people, like me, use. The proper terminology is Adobe Type 1 format font. PostScript has provision for a wide range of fonts including Type 3 and Type 1 (as well as Type 42 and Type 5, and so on). The Type 3 font category is very general and includes bitmap fonts, grayscaled fonts, and so on. Type 1 fonts are tightly constrained outline fonts, which can be accurately rendered at almost any resolution, and have a special purpose code that deals only with Type 1 fonts.</p>

<p>“PostScript字体”是像我这样的外行人使用的术语。正确的术语是adobe类型1格式字体。PostScript提供了多种字体，包括类型3和类型1(以及类型42和类型5等等)。类型3字体类别非常普遍，包括位图字体、灰度字体等。类型1字体是严格约束的轮廓字体，几乎可以在任何分辨率下精确呈现，并且有一个专门用于处理类型1字体的代码。</p>

<h3 id="e-1-the-times-font-and-mathtıme">E.1 The Times font and MathTıme</h3>

<p>In this section, we step through the process of incorporating the Adobe Times font into a LATEX document to replace the Computer Modern text fonts, and, optionally, of using the MathTıme Pro 2 math fonts to replace the Computer Modern math fonts. To do so, we use the PSNFSS packages (see Section 10.3).</p>

<p>在本节中，我们将逐步完成将Adobe Times字体合并到LATEX文档中以替换计算机现代文本字体的过程，并可以选择使用MathTıme Pro 2 数字字体替换计算机现代数学字体。为此，我们使用PSNFSS包(参见10.3节)。</p>

<p>A document class speciﬁes three standard font families (see Section 3.6.2):</p>

<ul>
<li>A roman (or serif) font family</li>
<li>A sans serif font family</li>
<li>A typewriter style font family</li>
</ul>

<p>文档类指定了三个标准字体族(参见3.6.2节):</p>

<ul>
<li>一个罗马字体(或衬线)家族</li>
<li>无衬线字体家族</li>
<li>打字机风格的字体家族</li>
</ul>

<p>The times package in the PSNFSS distribution makes Times the roman font family, Helvetica the sans serif font family, and Courier the typewriter style font family.</p>

<p>PSNFSS发行版中的times包使times成为罗马字体系列，Helvetica成为sans serif字体系列，Courier成为打字机字体系列。</p>

<p>Setting up Times</p>

<p>First, install the Adobe Times, Helvetica, and Courier PostScript fonts and their TEX font metric ﬁles.</p>

<p>首先，安装Adobe Times、Helvetica和Courier PostScript字体及其TEX字体度量文件。</p>

<p>Now typeset the psfonts.ins ﬁle—in the PSNFSS distribution. This produces sty ﬁles for the standard PostScript fonts. The Times style ﬁle is called times.sty. If you do not already have it, copy it into a folder LATEX can access.</p>

<p>现在输入psfonts。文件-在PSNFSS分发版中。这将为标准PostScript字体生成sty文件。Times样式文件称为Times .sty。如果你还没有，把它复制到LATEX可以访问的文件夹中。</p>

<p>To use the times package, you must have the font deﬁnition (fd) ﬁles for the fonts speciﬁed. By checking the times.sty ﬁle, you see that you need three ﬁles for the three fonts: Times, Helvetica, and Courier. In the times package these are named ptm, phv, and pcr, respectively. The three ﬁle names, each comprising three characters, are the font names in the naming scheme devised by Karl Berry. In ptm, p stands for the foundry’s name (in this case, Adobe), tm stands for Times, hv for Helvetica, and cr for Courier. The corresponding font deﬁnition ﬁles are named ot1ptm.fd, ot1phv.fd, andot1pcr.fd, respectively. OT1 designates the old TEX font encoding scheme, which is not discussed here. You can get these ﬁles from CTAN (see Section D.1). If you do not already have it, copy it into a folder LATEX can access.</p>

<p>要使用times包，必须有指定字体的字体定义(fd)文件。通过查看times.sty文件，您可以看到，您需要三个文件来显示三种字体:Times、Helvetica和Courier。在times包中，这些分别被命名为ptm、phv和pcr。这三个文件名，每个由三个字符组成，是由Karl Berry设计的命名方案中的字体名称。在ptm中，p代表铸厂的名称(在本例中为Adobe)，tm代表Times, hv代表Helvetica, cr代表Courier。相应的字体分别定义文件命名为ot1ptm.fd，ot1phv.fd，andot1pcr.fd。OT1指定了旧的TEX字体编码方案，这里不再讨论。您可以从CTAN获取这些文件(参见D.1节)。如果你还没有，把它复制到LATEX可以访问的文件夹中。</p>

<p>Using Times</p>

<p>In the preamble of your document, type
\usepackage{times}
after the \documentclass line. Then Times becomes the roman, Helvetica the sans serif, and Courier the typewriter style document font family. That is all there is to it.</p>

<p>在文档的前言中键入
\usepackage{times}
到\documentclass行之后。然后Times变成了roman, Helvetica变成了sans serif，Courier变成了打字机风格的文档字体家族。就是这样。</p>

<p>Using the times package changes the document font family throughout your document. To switch to Times only occasionally, type
{\fontfamily{ptm}\selectfont phrase}
The text preceding and following this construct is not aﬀected. For example,
{\fontfamily{ptm}\selectfont
This text is typeset in the Times font.}
typesets as
This text is typeset in the Times font.
Similarly,
\fontfamily{ptm}\selectfont
This text is typeset in the Times font.
\normalfont
also typesets the same phrase in Times. Recall that the \normalfont command restores the document font family (see Section 3.6.2).</p>

<p>使用times包可以在整个文档中更改文档字体家族。偶尔切换到Times，输入
{\fontfamily{ptm}\selectfont phrase}
此结构前后的文本不受影响。例如，
{\fontfamily{ptm}\selectfont
This text is typeset in the Times font.}
排版为：
$${\fontfamily{ptm}\selectfont
This text is typeset in the Times font.}$$</p>

<p>类似地，
\fontfamily{ptm}\selectfont
This text is typeset in the Times font.
\normalfont
同样的短语也要按Times排版。记得\normalfont命令恢复了文档字体族(参见3.6.2节)。</p>

<p>Setting up MathTıme</p>

<p>Looking at a mathematical article typeset with the Times text font, you may ﬁnd that the Computer Modern math symbols look too thin. To more closely match Times and other PostScriptfonts, Michael Spivak modiﬁed the CM math symbols, calling these modiﬁed fonts MathTıme Pro 2. You can purchase these fonts from Personal TeX,
<a href="http://store.pctexstore.com/">http://store.pctexstore.com/</a></p>

<p>查看带有Times文本字体的数学文章排版，您可能会发现计算机的现代数学符号看起来太细了。能更好地匹配时间和其他PostScriptfonts,迈克尔·斯修改CM数学符号,把这些修改字体MathTıme专业2。你可以从Personal TeX购买这些字体，
<a href="http://store.pctexstore.com/">http://store.pctexstore.com/</a></p>

<p>Install the MathTıme Pro 2 PostScript fonts and the TEX font metric ﬁles. If you do not already have them, copy from PSNFSS the ﬁles
mathtime.ins mathtime.dtx mtfonts.fdd
into a folder LATEX can access.</p>

<p>安装MathTıme Pro 2 PostScript字体和TEX字体指标度量文件。如果你还没有，从PSNFSS拷贝文件
mathtime.ins mathtime.dtx mtfonts.fdd
到LATEX能访问的文件夹。</p>

<p>Typeset mathtime.ins to produce the necessary fd ﬁles and the mathtime.sty ﬁle.</p>

<p>排版mathtime.ins生成必要的fd文件和mathtime.sty文件。</p>

<p>Using MathTıme</p>

<p>If you want to use Times as the document font family and MathTıme as the default math font, specify
\usepackage[LY1]{fontenc} %specify font encoding
\usepackage[LY1,mtbold]{mathtime} %switch math fonts
\usepackage{times} %switch text fonts
in the preamble of your document.</p>

<p>如果你想使用Times文档字体和MathTıme默认数学字体,指定
\usepackage[LY1]{fontenc} %specify font encoding
\usepackage[LY1,mtbold]{mathtime} %switch math fonts
\usepackage{times} %switch text fonts
于你文件的前言中。</p>

<p>The mathtime package has many options. See its documentation for more information; typeset mathtime.dtx to get it.</p>

<p>mathtime包有许多选项。更多信息在其文档；排版mathtime。dtx得到它。</p>

<h3 id="e-2-lucida-bright-fonts">E.2 Lucida Bright fonts</h3>

<p>Another alternative to Computer Modern fonts is Lucida Bright for both text and math fonts. You can purchase the Lucida Bright fonts from TUG.</p>

<p>计算机现代字体的另一种选择是Lucida Bright字体，既适用于文本，也适用于数学字体。您可以从TUG购买的Lucida Bright字体。</p>

<p>Copy the ﬁles
lucidabr.ins, lucidabr.dtx,
lucidabr.fdd,lucidabr.yy
into your TEX input folder. Typeset lucidabr.yy, producing the lucidabr.sty ﬁle and a large number of fd ﬁles.</p>

<p>复制文件
lucidabr.ins, lucidabr.dtx,
lucidabr.fdd,lucidabr.yy
到你的TEX输入文件夹。排版lucidabr.yy，生成lucidabr.sty和大量的fd文件。</p>

<p>Now add the lines
\usepackage[LY1]{fontenc} %specify font encoding
\usepackage[LY1]{lucidabr} %switch text and math fonts
in the preamble of your document. The lucidabr package has many options. See its documentation—typeset lucidabr.dtx to get it.</p>

<p>现在将以下行
\usepackage[LY1]{fontenc} %specify font encoding
\usepackage[LY1]{lucidabr} %switch text and math fonts
加进你的文件的序言。lucidabr包有很多选项。参见它的文档类型集lucidabr.dtx得到这些选项。</p>

<h3 id="e-3-more-postscript-fonts">E.3 More PostScript fonts</h3>

<p>You can obtain PostScript fonts from a wide variety of sources. There are many free PostScript fonts on CTAN. Table E.1 is a short list of the more prominent commercial vendors.</p>

<p>您可以从各种来源获得PostScript字体。在CTAN上有许多免费的PostScript字体。表E.1列出了一些比较著名的商业供应商。</p>

<p>See also the Web page at <a href="http://www.microsoft.com/typography/">http://www.microsoft.com/typography/</a> for a lot of useful information and links.</p>

<p>也可以在<a href="http://www.microsoft.com/typography/的网页上找到很多有用的信息和链接。">http://www.microsoft.com/typography/的网页上找到很多有用的信息和链接。</a></p>

<table>
<thead>
<tr>
<th align="left">Foundry</th>
<th align="left">URL</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">Adobe</td>
<td align="left">www.adobe.com/type/</td>
</tr>

<tr>
<td align="left">Agfa/Monotype</td>
<td align="left">www.agfamonotype.com/</td>
</tr>

<tr>
<td align="left">Berthold</td>
<td align="left">www.bertholdtypes.com/</td>
</tr>

<tr>
<td align="left">Bitstream</td>
<td align="left">www.bitstream.com/</td>
</tr>

<tr>
<td align="left">Emigre</td>
<td align="left">www.emigre.com/</td>
</tr>

<tr>
<td align="left">Hoeﬂer</td>
<td align="left">www.typography.com/</td>
</tr>

<tr>
<td align="left">ITC</td>
<td align="left">www.itcfonts.com/</td>
</tr>

<tr>
<td align="left">Linotype</td>
<td align="left">www.linotype.com/</td>
</tr>

<tr>
<td align="left">Monotype</td>
<td align="left">www.fonts.com/</td>
</tr>

<tr>
<td align="left">Scriptorium</td>
<td align="left">www.fontcraft.com/</td>
</tr>

<tr>
<td align="left">Vintage</td>
<td align="left">www.vintagetype.com/</td>
</tr>
</tbody>
</table>

<p>Table E.1: Some type foundries on the Internet.</p>

<h2 id="f-latex-localized">F LATEX localized</h2>

<p>If the language in which you write articles is not American English and/or your keyboard is not the standard American keyboard, you may ﬁnd it annoying and sometimes diﬃcult to use standard LATEX. The annoyance may start with ﬁnding out how to type, for a nonbreakable space, to LATEX’s inability to properly hyphenate Gr\&quot;{a}tzer, and LATEX’s inability to use a diﬀerent alphabet.</p>

<p>如果你写文章的语言不是美式英语，或者你的键盘不是标准的美式键盘，你可能会觉得使用标准LATEX很烦人，有时甚至很困难。烦恼可能始于如何打字，对于一个无空格空间，LATEX不能正确地断字Gr\&quot;{a}tzer，并且LATEX不能使用不同的字母。。</p>

<p>Many of the improvements to LATEX in recent years have been to localize LATEX, that is, to adapt LATEX for use with languages other than American English and keyboards other than standard American keyboards. The babel, fontenc, inputenc packages are the major players, along with new font-encoding schemes, including the T1encoding. You ﬁnd these packages as part of the LATEX distribution (see Section 10.3).</p>

<p>近年来，LATEX的许多改进都是为了将LATEX本地化，也就是说，将LATEX应用于美式英语以外的语言和标准美式键盘之外的键盘。babel、fontenc、inputenc包是主要的参与者，还有新的字体编码方案，包括T1编码。你会发现这些包装是LATEX发行版的一部分(见10.3节)。</p>

<p>The babel package is described in detail in Johannes Braams, Babel, a multilingual package for use with LATEX’s standard document classes [7] and in Chapter 9 of The LATEX Companion, 2nd edition [56].</p>

<p>babel包在Johannes Braams中有详细描述，babel是一个多语言包，与LATEX的标准文档类[7]一起使用，在LATEX伴侣的第二版[56]的第9章中有详细描述。</p>

<p>If you are interested in using a localized LATEX, you should turn to the TEX user group for that linguistic group to ﬁnd out what is available. You should also consult the babel user guide.</p>

<p>如果您对使用本地化的LATEX感兴趣，应该向TEX用户组查询该语言组的可用内容。您还应该参考babel用户指南。</p>

<p>At a minimum, a supported language has translated redeﬁnable names (see Table 14.1), and a localized variant of the \today command. Two very advanced language adaptations are German and French.</p>

<p>至少，支持的语言已经翻译了可重定义的名称(参见表14.1)和\today命令的本地化变体。两种非常先进的语言适应是德语和法语。</p>

<p>We ﬁrst illustrate the use of the babel package with the German language, which gives you a rich set of features, including</p>

<p>...</p>

<p>我们首先演示如何将babel包与德语一起使用，它提供了一组丰富的特性，包括</p>

<p>（略）</p>

<h2 id="g-latex-on-the-ipad">G LATEX on the iPad</h2>

<p>A few years back, personal computing was desktop-centric. For many tasks, for instance, for back up and for updating the operating system, you had to connect your smartphone and tablet with a computer. Tim Cook (Apple’s CEO as I am writing this book) coined the term “Post PC revolution” to describe the trend that a tablet is no longer a younger brother of a PC, but an equal partner; in fact, for many users, it can be the only computer they will ever need. But can you use it for your L ATEX documents? Isn’t the iPad designed only for e-mail, to read news, and enjoy entertainment? Certainly. While it has a fast CPU, it has an even more powerful graphics chip so viewing videos and complex Web pages is quick. The operating system is designed to make performing these basic tasks very easy and intuitive. iOS masks the complexities of the underlying computer. Nevertheless, underneath this easy-to-use interface there is a Mac. Get a little familiar with the iPad as a computer, and you can work with your L ATEX documents pretty well. There are good reasons why the iPad is the only tablet I’ll discuss. Today, the iPad is clearly the dominant tablet of more than a hundred on the market and the iPad is the only tablet with a decent market share that is in an ecosystem: the iPad is just one device under iCloud along with the iPhone, the Mac desktops, and the Mac notebooks.</p>

<p>I work on a L ATEX document on my iMac, and when I am away from home, I continue my work on my MacBook Air or iPad; there is no interruption, all the devices are fully synchronized. In Section G.1, we discuss the iPad ﬁle system, sandboxing, ﬁle transfers, printing, and text editing. We discuss where are the ﬁles to be L ATEXed and where the L ATEX process takes place in Section G.2. Finally, in Section G.3, we introduce two L ATEX implementations for the iPad: Texpad and TeX Writer. This appendix is based on my articles in the Notices of the Amer. Math. Soc. 60 (2013), pp. 332–334 and 434–439. You can ﬁnd these two articles, NoticesV.pdf and NoticesVI.pdf, in thesamples folder for some more detail.</p>

<h3 id="g-1-the-ipad-as-a-computer">G.1 The iPad as a computer</h3>

<p>To work on a L ATEX document, you sit in front of your computer, in the complex folder hierarchy you ﬁnd document.tex, double clicks it to start the L ATEX implementation, edit the document, typeset it. Then you print document.pdf, proofread it, and then you go back to editing... How do you do these steps on an iPad? On the iPad, there is only a rectangular array of apps, see Figure G.1. No documents are visible. There may be folders containing more apps, but no folder in a folder. There are no Library folders, no Download folder. And no File menu containing the Print command! I havedocument.texon my desktop, but how do I transfer it to the iPad? I would plug in my thumb drive to facilitate the transfer, but the iPad has no USB port.</p>

<h4 id="g-1-1-file-system">G.1.1 File system</h4>

<p>As we pointed out, the iPad starts up displaying a rectangular array of icons and folders for apps, as in see Figure G.1. There are no icons for documents. There is no familiar Desktop for documents and folders. No Applications folder. The screen is always occupied by a single window; the ﬁle system, as we know it from desktop computers, is gone. In its place is an app-centric starting point. Touch the icon of an app and you are in business. When the app opens, you get access to the documents of the app. For security reasons, the apps are sandboxed, limiting an app’s access to ﬁles, preferences, network resources, hardware, and so on. Ars Technica’s John Siracusa described the goal of sandboxing as follows: “Running an application inside a sandbox ismeanttominimizethedamagethatcouldbecausedifthatapplicationiscompromised by a piece of malware. A sandboxed application voluntarily surrenders the ability to do many things that a normal process run by the same user could do. For example, a normal application run by a user has the ability to delete every single ﬁle owned by that user. Obviously, a well-behaved application will not do this. But if an application becomes compromised, it can be coerced into doing something destructive.”</p>

<p>Figure G.1: A rectangular array of apps
Of course, the iPad is a computer, and it has a File System, we just do not see it. But it is important to visualize it. To help us along, we will use an app.</p>

<h4 id="g-1-2-fileapp">G.1.2 FileApp</h4>

<p>If you search the iPad’s App Store for “ﬁle” apps, there are more than 1,000 of them. ManyofthemcouldbeusedtohelpusunderstandtheiPadﬁlesystem. IchooseFileApp by DigiDNA (Figures G.2 and G.3). Toget started, plug the iPad into a desktop computer, download and start the application iMazing on the computer; download and start FileApp on the iPad. On the left panel of iMazing, click on Apps, then on FileApp. Anything you drag into the right pane of DiskAid is copied to FileApp. So much for ﬁle transfer. To see the ﬁle structure of the various iPad apps, click on their names. Of course, for ﬁle transfers I should also mention the ubiquitous Dropbox. Download it for the iPad, sign in (as you did for your computer Dropbox); that’s it.</p>

<p>Figure G.2: iMazing
Figure G.3: FileApp</p>

<h4 id="g-1-3-printing">G.1.3 Printing</h4>

<p>When I ﬁrst wanted to print from my iPhone, I realized that there is no print command. However, lots of apps would do the job. In fact, searching for “print” in the App Store, I discovered over 600 apps; many of them print, utilizing my desktop computer. Typical of these apps is PrintDirect (EuroSmartz) and Printer Pro (Readdle Productivity). They can use any printer connected with your desktop computer. They wirelessly connect to your computer and print with its help. If so many apps can help me out with printing, how come iOS does not? Read the comments about iOS printing; I was not the only one confused. However, iftheiPadistheposterchildofthePostPCRevolution, itsnativeprinting solution cannot involve desktop computers. Apple introduced the appropriate technology; they named it AirPrint. The idea is simple: the iPad collaborates with the printer. Of course, for this you need a wireless printer that is AirPrint aware. Apple lists all the AirPrint aware printers:
<a href="http://support.apple.com/kb/ht4356">http://support.apple.com/kb/ht4356</a> as of this writing, about 2,000. If you are lucky and have one of these printers, test it. Open an e-mail and touch the Action icon (here it is the Reply icon); this oﬀers you the options: Reply, Forward, and Print. Touch Print. Printer Options appears, and you can choose how many copies and on which printer. (Lots of apps provide more choices, such as page range.) Choose the printer and print. For a second test, open a Web page in Safari. There is only one diﬀerence: the action icon is a curved arrow in a rectangle. As a third test, open the Drudge Report. It has the familiar Action icon; we are in business. Finally, open the Politico app, read the news and look for an action icon. There is none. So to use AirPrint, you need an AirPrint aware printer and an AirPrint aware app! For the time being, these are limiting restrictions.</p>

<h4 id="g-1-4-text-editors">G.1.4 Text editors</h4>

<p>Many of us edit L ATEX documents in text editors more sophisticated than the text editor that comes with the L ATEX implementation. There are so many text editors, well over 200...,seethetableat
<a href="http://brettterpstra.com/ios-text-editors/">http://brettterpstra.com/ios-text-editors/</a>
Keeping the iPad horizontal, the keyboard gobbles up too much real estate. Keeping it vertical, the keyboard is less intrusive, but the keys are smaller. If you want to do serious work on the iPad, use a keyboard. The iOS’s touch text editing is nice, but it lacks a feature crucial for text editing: moving the cursor a character ahead or back. (Of course, keyboards have cursor keys!) Text editors oﬀer a variety of solutions, for instance, ﬁnger swiping.</p>

<p>Iwilldiscussbrieﬂyaverysophisticatedtexteditor: Textastics. IfyouwantSyntax Highlighting, SearchandReplace, andTextExpander, thisagoodchoice. InFigureG.4, you see me editing a document. You can see the cursor navigation wheel (which appears with a two ﬁnger tap— ﬁnger swipe also moves the cursor). It comes with an excellent user manual. Textastics also has a Mac version. And if you spend time shaping it to your liking, then you would like the same tamed editor for all your work.</p>

<h3 id="g-2-files">G.2 Files</h3>

<p>The L ATEX ﬁles, of course, can always be composed in the app. You can obtain your existing ﬁles in two ways: 1.UsingiTunes. Totransferﬁles—oneatatime—toyourappfromyourcomputer using iTunes, connect your iPad to your computer and start iTunes by double clicking on its icon. Under Devices, we selected the iPad from the left side of the iTunes window (see Figure G.5). At the top of the iTunes window, next to Summary and Info, select Apps (see Figure G.6). The lower part of the window now has File Sharing; see Figure G.7. On the left, you see a listing of the apps available for ﬁle transfer. Select the app; the ﬁles already in the app are then listed in the right pane. Click on the add button and a ﬁle browser appears. Choose the ﬁle you want to transfer. 2. Via Dropbox. I assume that you have Dropbox. For an introduction, go to dropbox.com. In the app, you sign in to Dropbox. Now the app can see the contents of your Dropbox, or some part of it (at the Dropbox server) as long as you have an Internet connection. 3. WithFileApp. See the discussion in Section G.1.2 (Figures G.2 and G.3).</p>

<h3 id="g-3-two-latex-implementations-for-the-ipad">G.3 Two LATEX implementations for the iPad</h3>

<p>We now discuss two L ATEX implementations.</p>

<h4 id="g-3-1-texpad">G.3.1 Texpad</h4>

<p>There are three ways Texpad can typeset. A.OnyouriPad. The app places a L ATEX distribution on the iPad and you typeset with it. However, a complete L ATEX distribution is about 4 GB! No app can be this big. So you only get a small L ATEX distribution. B.OnyourcomputerviaDropbox. This is the most powerful option. You have all the packages and fonts on your computer available to you. An app (such as AutomaTeX by Jonathan Weisberg) monitors if there is any change in the L ATEX ﬁle in Dropbox. If there is, the ﬁle is retypeset and the pdf is made available to you via the Dropbox.</p>

<p>Figure G.4: Editing with Textastics</p>

<p>Figure G.5: Under Devices, we selected the iPad
Figure G.6: Choose Apps
Figure G.7: Select app</p>

<p>Figure G.8: Editing with soft keyboard
Figure G.9: Editing with Bluetooth keyboard</p>

<p>C.IntheCloud. This option provides you with a remote server, the Cloud; you connect to it with Wi-Fi. The server has a full L ATEX implementation, so you miss only the special fonts. And, of course, you must have Wi-Fi to use it. So you can polish up your lecture on the airplane on the way to a meeting. Texpad has some interesting features, including: Autocompletion of all common commands and autoﬁlling \cite-s and \ref-s.
Replacement of the L ATEX console with a list of errors and warnings linked to the source.
Global search, outline view, and syntax highlight. Step 1. To get started with Texpad, go to the iPad App Store and install Texpad. Sign up for Dropbox with the same e-mail address and password as for your computer’s Dropbox. Step 2. Now open Texpad. Figure G.10 shows Texpad at the ﬁrst startup. The Help button gets the help ﬁle. Step 3. Touch Oﬀ to turn Dropbox On. (If you have Dropbox installed and connected, it’s even simpler, you just have to Allow the connection.) Your File Storage now gives two options: iPad and Dropbox (see Figure G.11). It is important to understand that your L ATEX ﬁles will live in the Dropbox (in the Cloud, at the Dropbox server) or locally on your iPad. Step 4. The Dropbox ﬁles are now available to you by touching Dropbox under File Storage, see Figure G.11.
First, create a folder for the L ATEX ﬁles to be transferred. Navigate to iPad ﬁle storage. Touch the + in the bottom right, and choose Folder. Name the folder.
Second, navigate to the Dropbox ﬁle system view and to the folder containing the ﬁle you want to copy. Touch Edit. Select the ﬁle to transfer. At the bottom center, touch Copy. Navigate to the folder into which you want to copy the ﬁle and touch Copy. Step 5. Typesetting will take place either on the iPad or in the Cloud. Go to the folder of a L ATEX ﬁle, touch the ﬁle (on the iPad or in the Dropbox), and typeset it on the iPad (touch Local Typeset) or in the Cloud, that is, at Valletta’s server (touch Cloud Typeset). Step6. Try to visualize what is happening.
If you typeset on the iPad and the ﬁle is on the iPad, it just typesets locally; that is it.
If you typeset on the iPad and the ﬁle is in Dropbox, the ﬁle is transferred to the iPad, typeset, and the resulting pdf is sent back to the Dropbox; nothing is kept at the iPad.
If you typeset in the Cloud and the ﬁle is in Dropbox, the ﬁle is transferred to the Cloud, typeset, and the resulting pdf is sent back to the Dropbox; nothing is kept in the Cloud.</p>

<p>Figure G.10: Texpad ﬁrst start up
Figure G.11: Expanded File Storage
If you typeset in the Cloud and the ﬁle is on the iPad, the ﬁle is transferred to the Cloud, typeset, and the resulting pdf is sent back to the iPad.
Step7. Once you touch a L ATEX ﬁle, you are ready to edit it. Cursor control is very important. You do it with a two ﬁnger swipe. Of course, this is not so important if you use a Bluetooth keyboard; it has cursor keys.</p>

<p>Figure G.12: Organizer window
Step 8. You edited and typeset your L ATEX ﬁle. You want to get to another ﬁle. Touch the organize button (the folder icon on the upper left). You get the Organizer window (see Figure G.12). Touch the button in the upper left of the window, you get back to Dropbox, eventually, to the expanded File Storage of Figure 7. These eight steps should be enough to get you started. Read the detailed Help ﬁle for some more information. It is available as a help ﬁle and also at
<a href="https://www.texpadapp.com/support/ios">https://www.texpadapp.com/support/ios</a></p>

<h4 id="g-3-2-tex-writer">G.3.2 TeX Writer</h4>

<p>You get your ﬁles via Dropbox, typeset on your iPad. Documentation: readme.pdf is no quick start, but it is useful for understanding how TeX Writer works and how to customize it. TeX Writer was the ﬁrst to typeset on the iPad. It could only typeset TeX ﬁles. Now it has L ATEX and the AMS packages on board. Step 1. When you start up TeX Writer, ﬁrst link to Dropbox. In TeX Writer, you get a display showing the source ﬁle readme.tex; see Figure G.13. Pressing the</p>

<p>More icon (right pointing arrow), you get more icons, to read the pdf version or Air Printingreadme.pdf. On the left is the Organize icon; touching it, you get a ﬁle listing: readme.tex and readme.pdf. At the bottom is New File; touch it to compose one. Step2. So you are perplexed about what to do next, you ran out of icons. You have to know that TeX Writer accesses the Dropbox in a special way. When you connect to Dropbox from TeX Writer, it creates a new folder App in Dropbox. In the folder App it creates the subfolder TeX Writer. In this subfolder you ﬁnd readme.tex. Anything you put in the TeX Writer subfolder is visible in the ﬁle listing window on the iPad; anything not in this subfolder is not visible to TeX Writer. Step 3. TeX Writer gets your ﬁles from this subfolder in Dropbox. Place a folder in there with the ﬁles of your current project. These will be available to you on your iPad. Moreover, these ﬁles are fully synchronized, so the editing changes you make on your iPad show up in Dropbox. Step 4. L ATEXing, you spend most of your time editing. TeX Writer’s editor has some interesting features. Excellent cursor control. Touch begin{}, type in the name of the environment, and the environment is placed in your document. You also have undo, redo, search, and so on. When typing, you retain the editing functions you get at the start, and in addition, you get an extra row of L ATEX speciﬁc keys. You do not get them with a Bluetooth keyboard; however, the keyboard can have many of these keys you need for typing L ATEX. Nice feature: the Log viewer links to error lines.</p>

<h3 id="g-4-conclusion">G.4 Conclusion</h3>

<p>Jason Snell was interviewing Craig Federighi, Apple senior vice president of software engineering (and two more executives of Apple), for MacWorld. Snell writes: “When I walked into Apple’s oﬃces for my conversation with the three executives, they noticed that I had brought a phone, a tablet, and a laptop, and had ultimately selected my MacBook Air as my tool of choice for the interview. ‘You had a bunch of tools,’ Federighi said, pointing at my bag. ‘And you pulled out the one that felt right for the job that you were doing. It wasn’t because it had more computing power... You pulled it out because it was the most natural device to accomplish a task.’ ” I’m not suggesting that you write all your document on an iPad. I do suggest, however, that you can L ATEX with ease, say on a trip, correcting a document or adding a slide to your presentation. Use your iPad to L ATEX when appropriate. L ATEXing on an iPad requires some compromises, for instance, you cannot use nonstandard fonts. Nevertheless, when not at your desk, the iPad will be nearly as functional as your MacBook Air, and it is so much easier to carry around... And the best is yet to come: the larger iPad will make working on the iPad easier.</p>

<p>Figure G.13: TeX Writer startup</p>

<h2 id="h-final-thoughts">H Final thoughts</h2>

<p>In this ﬁnal appendix, I will outline some of the material I did not discuss and suggest some additional reading to learn more about LATEX, typesetting, and writing. We conclude by looking at some projects that may come to fruition soon.</p>

<p>在这最后的附录中，我将概述一些我没有讨论的材料，并建议一些额外的阅读来学习更多关于LATEX，排版和写作。最后，我们来看看一些可能很快实现的项目。</p>

<h3 id="h-1-what-was-left-out">H.1 What was left out?</h3>

<p>The mission statement in the introduction stated that my goal for this book was to provide you with a good foundation in LATEX including the AMS packages, and that we would not cover programming or visual design. As a result, I have omitted a great deal of material.</p>

<p>介绍部分的任务说明指出，我这本书的目标是为您提供一个良好的LATEX基础，包括AMS包，我们不会介绍编程或可视化设计。因此，我省略了许多材料。</p>

<h4 id="h-1-1-latex-omissions">H.1.1 LATEX omissions</h4>

<p>LATEX has some additional features that I have not discussed in this book:</p>

<ol>
<li>The picture environment allows you to draw simple pictures with lines and circles.</li>

<li><p>The array, tabular, and tabbing environments have a number of additional features.</p></li>

<li><p>LATEX makes the style parameters of a document and of most LATEX construct savailable to the user for modiﬁcation. Very few of these parameters have been mentioned in this book.</p></li>

<li><p>Low-level NFSS commands provide ﬁner control over fonts.</p></li>
</ol>

<p>LATEX还有一些我在本书中没有提到的特性：</p>

<ol>
<li>图片环境允许您用线条和圆圈绘制简单的图片。</li>
<li>数组、表格和制表环境还有许多其他特性。</li>
<li>LATEX使用户可以修改文档和大多数LATEX构造的样式参数。这些参数在本书中很少被提及。</li>
<li>低级NFSS命令提供对字体的更好控制。</li>
</ol>

<p>The following are some pointers to additional information on these topics:</p>

<ol>
<li>Drawing with the picture environment has the advantage of portability. This environment is described in Leslie Lamport’s LATEX: A Document Preparation System, 2nd edition [53]. A very advanced internal drawing system is TikZ by Till Tantau, see
<a href="http://sourceforge.net/projects/pgf/">http://sourceforge.net/projects/pgf/</a>
However, I believe that the best approach is to use a drawing application that can save your illustrations in EPS or PDF format so that you can include them in your document using the graphicx package (see Section 8.4.3).</li>
<li>The tabbing, tabular, and array environments—and their extensions—are described in detail in Leslie Lamport’s LATEX: A Document Preparation System, 2nd edition [53] and Chapter 5 of The LATEX Companion, 2nd edition [56].</li>
<li>The style parameters for LATEX are set by the document class. When a publisher changes the document class loaded by your document, the style parameters are set to its speciﬁcations. If you explicitly change style parameters in your document, a publisher will have trouble getting your source ﬁle to conform to their publishing style. If you must change any basic style parameters, be sure to explain what you did with comments.</li>
<li>There are two types of commands deﬁned in the NFSS, high-level and low-level commands. The latter are, by and large, meant for style designers and package writers. Nevertheless, anyone who wants to use fonts other than Computer Modern (the default) would do well to read Chapter 7 of The LATEX Companion, 2nd edition [56]. Low-level NFSS commands are brieﬂy mentioned in Section 3.6.9 and are used in Appendix E.</li>
</ol>

<p>以下是一些关于这些主题的附加信息：</p>

<ol>
<li>使用图片环境进行绘图具有可移植性的优点。这种环境在Leslie Lamport的《LATEX:文件准备系统，第二版》[53]中有描述。一个非常先进的内部绘图系统是Till Tantau的TikZ，参见
<a href="http://sourceforge.net/projects/pgf/">http://sourceforge.net/projects/pgf/</a>
但是，我认为最好的方法是使用一个绘图应用程序，它可以将您的插图保存为EPS或PDF格式，这样您就可以使用graphicx包将它们包含在文档中(参见第8.4.3节)。</li>
<li>Leslie Lamport的《LATEX:文件准备系统，第二版》[53]和《LATEX伴侣第二版》[56]的第五章详细描述了tabbing、tabular和array环境及其扩展。</li>
<li>LATEX的样式参数是由文档类设置的。当发布者更改由文档加载的文档类时，将样式参数设置为其规范。如果您显式地更改文档中的样式参数，发布者将很难使源文件符合其发布样式。如果您必须更改任何基本样式参数，请务必解释您是如何处理注释的。</li>
<li>NFSS中定义了两种类型的命令，高级命令和低级命令。总的来说，后者是为样式设计人员和包编写人员准备的。然而，任何想要使用计算机现代字体(默认字体)的人都可以阅读LATEX伴侣第二版[56]的第七章。低级NFSS命令在第3.6.9节中简要提到，并在附录E中使用。</li>
</ol>

<h4 id="h-1-2-tex-omissions">H.1.2 TEX omissions</h4>

<p>Almost all discussions of Plain TEX were omitted from this book. TEX is a powerful programming language, allowing you to design any page layout or formula. Remember, however, that to change any design feature, you should be knowledgeable not only about TEX, but also about document design. Also keep in mind that making such changes may make it diﬃcult or impossible for a publisher to make your document conform to its own speciﬁcations.</p>

<p>这本书几乎省略了所有有关朴素TEX的讨论。TEX是一种强大的编程语言，允许您设计任何页面布局或公式。但是，请记住，要更改任何设计特性，不仅需要了解TEX，还需要了解文档设计。而且，做这样的更改可能会使出版商很难或不可能使您的文档符合他的的规范。</p>

<h3 id="h-2-further-reading">H.2 Further reading</h3>

<p>Much documentation is included with the LATEX and the AMS distributions and many third-party packages are also well documented. You will also ﬁnd a great deal of documentation on CTAN.</p>

<p>LATEX和AMS发行版中包含了很多文档，许多第三方包也有很好的文档。您还将在CTAN发现大量的文档。</p>

<p>As you have no doubt noticed, there are many references to The LATEX Companion, 2nd edition [56] in this book. While it is not a beginner’s book, it is indispensable for advanced LATEX users with special needs. It is also the best overview of more than a hundred important packages. For package writers and students of NFSS, it is the basic textbook. For graphics work, read The LATEX Graphics Companion [17], and on Web publishing The LATEX Web Companion [18].</p>

<p>毫无疑问，您已经注意到，在这本书中有许多关于《LATEX伴侣(第二版》[56])的参考资料。虽然它不是初学者的书，它提供了高级LATEX用户必不可少的特殊的需要。它也是一百多个重要包的最佳概述。对于包作者和NFSS的学生来说，它是基础的教科书。有关图形工作，请阅读《LATEX图形伴侣》[17]，而在Web上发布有《LATEX Web伴侣》[18]。</p>

<p>Learning TEX is a bit more complicated than learning LATEX. You may want to start with Wynter Snow’s TEX for the Beginner [67]. It introduces many of TEX’s basic concepts in a very relaxed style with many examples. The notes on LATEX make the book especially useful, and the author gives many examples of writing macros. The use of TEX as a programming language is not discussed.</p>

<p>学习TEX比学习LATEX要复杂一点。你可以从Wynter Snow的《初学者的TEX》开始[67]。它以一种非常轻松的方式介绍了TEX的许多基本概念，并提供了许多示例。关于LATEX的注释使这本书特别有用，并且作者给出了许多编写宏的例子。没有讨论TEX作为编程语言的使用。</p>

<p>Raymond Seroul and Silvio Levy’s A Beginner’s Book of TEX[ 66] is another good introduction. This book also includes a chapter on TEX programming. Donald E. Knuth’s The TEXbook [48] provides a nice introduction to TEX.</p>

<p>Raymond Seroul和Silvio Levy的《TEX的初学者之书》[66]也是一本不错的入门书。这本书也包括一个关于TEX编程的章节。Donald E. Knuth的《TEX书》[48]很好地介绍了TEX。</p>

<p>Paul W. Abrahams, Karl Berry, and Kathryn A. Hargreaves’ TEX for the Impatient [1] explains many TEX commands, grouped by topic. This book has a very useful, nonsequential approach. Finally, Victor Eijkhout’s TEX by Topic: A TEXnician’sReference [14] is an excellent reference book on TEX, mainly for experts. For many tutorial examples, see the articles and columns in TUGboat (see Section D.2).</p>

<p>Paul W. Abrahams、Karl Berry和Kathryn A. Hargreaves的《为没耐心人准备的TEX》[1]解释了许多TEX命令，按主题分组。这本书有一个非常有用的，非连续的方法。最后，Victor Eijkhout的《按主题分类:一个TEX人的参考》[14]是一本关于TEX的优秀参考书，主要面向专家。</p>

<p>For advice to authors of mathematical articles and books, see Mathematics into Type [68] by Ellen Swanson (updated by Arlene Ann O’Sean and Antoinette Tingley Schleyer). You may ﬁnd it interesting to see how many of the rules in Swanson’s book have been incorporated into LATEX. The deﬁnitive book on style (in North America) is The Chicago Manual of Style, 16th edition [11]. Two other views on copy editing are presented in Judith Butcher’s Copy Editing: The Cambridge Handbook [9] and Hart’s Rules for Compositors and Readers at the University Press, Oxford by Horace Hart [45], updated in R. M. Ritter’s New Hart’s Rules: The Handbook of Style for Writers and Editors [64]. The special problems of writing about math and computer science are admirably dissected in Lyn Dupré’s BUGS in Writing: A Guide to Debugging Your Prose, 2nd edition [13].</p>

<p>对于数学文章和书籍的作者的建议，参见Ellen Swanson的《数学归类》(由Arlene Ann O’sean和Antoinette Tingley Schleyer更新)。你可能会觉得很有趣，看看Swanson的书中有多少规则被融入LATEX。关于风格的权威书籍(在北美)是芝加哥风格手册，第16版[11]。另外两种关于文案编辑的观点出现在Judith Butcher的《剑桥手册》[9]和Horace Hart的《牛津大学出版社排版与读者Hart的规则》中，并在R. M. Ritter的《新Hart的规则: 作者和编辑的风格手册》中进行了更新[64]。关于数学和计算机科学写作的特殊问题，在Lyn Dupre的《写作中的错误:调试散文指南》(第二版[13])中得到了令人钦佩的剖析。</p>

<p>Most people who write math have little or no background in typography, the art of printing with type. But when you become a typesetter, it can be useful to learn a little bit about typography. I would highly recommend Robert Bringhurst’s The Elements of Typographic Style[8]. See also Ruari McLean’s The Thames and Hudson Manual of Typography[54] and Alison Black’s Typefaces for Desktop Publishing: A User Guide[6].</p>

<p>大多数写数学的人几乎没有印刷术的背景，印刷术是一种用铅字印刷的艺术。但是当你成为一名排字工时，学一点排字术是很有用的。我强烈推荐Robert Bringhurst的《排版风格的元素》[8]。参见Ruari McLean的《泰晤士和哈德逊字体印刷手册》[54]和Alison Black的《桌面印刷字体:用户指南[6]》。</p>

<p>Harley Hahn’s A Student’s Guide to Unix [44] provides an excellent introduction to UNIX.</p>

<p>Harley Hahn的《Unix学生指南》[44]提供了一个很好的Unix介绍。</p>

<h2 id="bibliography">Bibliography</h2>

<p>[1] Paul W. Abrahams, Karl Berry, and Kathryn A. Hargreaves, TEX for the Impatient. Addison-Wesley, Reading, MA, 1990. [2] Adobe Systems, PDF Reference,Version1.7. 1st edition. Adobe Press, 2009. [3] American Mathematical Society, AMSFonts, Version 2.2 User’s Guide. Providence, RI, 1997. [4] , User’s Guide for the amsmath Package (version 2.0). Providence, RI, 1999. (Revised 2002.) [5] , Usingtheamsthmpackage (version 2.20). Providence, RI, 2004. [6] Alison Black, Typefaces for Desktop Publishing: A User Guide. Architecture Design and Technology Press, London, 1990. [7] Johannes Braams, Babel, a multilingual package for use with L ATEX’s standard document classes. 2005, on CTAN. [8] Robert Bringhurst, TheElementsofTypographicStyle. Hartley &amp; Marks Publishers, 2004. [9] Judith Butcher, Caroline Drake, Maureen Leach, Butcher’sCopy-editing: TheCambridge HandbookforEditors,Copy-editorsandProofreaders. 4th edition. Cambridge University Press, London, 2006. [10] Pehong Chen and Michael A. Harrison, Indexpreparationandprocessing. Software Practice and Experience19(9) (1988), 897–915. [11] TheChicagoManualofStyle. 16th edition. University of Chicago Press, Chicago, 2010. [12] Michael Doob, TEX Startingfrom 1 . Springer-Verlag, New York, 1993. [13] Lyn Dupré, BUGS in Writing. A Guide to Debugging Your Prose. 2nd edition. AddisonWesley Professional, Reading, MA, 1998.</p>

<p>[14] Victor Eijkhout, TEX by Topic: A TEXnician’s Reference. Addison-Wesley, Reading, MA, 1991. Free download at <a href="http://www.eijkhout.net/tbt/">http://www.eijkhout.net/tbt/</a> [15] Michel Goossens, Frank Mittelbach, and Alexander Samarin, The L ATEX Companion. Addison-Wesley, Reading, MA, 1994. Second edition 2004. [16] Enrico Gregorio,HorrorsinL ATEX: HowtomisuseL ATEXandmakeacopyeditorunhappy, TUGboat26(2005), 273–279. [17] Michel Goossens, Sebastian Rahtz, and Frank Mittelbach,TheL ATEXGraphicsCompanion. Addison-Wesley, Reading, MA, 1997.
[18] Michel Goossens and Sebastian Rahtz (with Eitan Gurari, Ross Moore, and Robert Sutor), The L ATEX Web Companion: Integrating TEX, HTML and XML. Addison-Wesley, Reading, MA, 1999. [19] George Grätzer,MathintoTEX: ASimpleIntroductiontoAMS-L ATEX.Birkhäuser Boston, 1993.
[20] , AMS-L ATEX . Notices Amer. Math. Soc.40(1993), 148–150. [21] GeorgeGrätzer,AdvancesinTEXimplementations.I.PostScriptfonts.NoticesAmer.Math. Soc.40(1993), 834–838. [22] , Advances in TEX implementations. II. Integrated environments. Notices Amer. Math. Soc.41(1994), 106–111. [23] , Advances in TEX implementations. III. A new version of L ATEX, ﬁnally. Notices Amer. Math. Soc.41(1994), 611–615. [24] , Advances in TEX. IV. Header and footer control in L ATEX. Notices Amer. Math. Soc.41(1994), 772–777. [25] , Advances in TEX. V. Using text fonts in the new standard L ATEX. Notices Amer. Math. Soc.41(1994), 927–929. [26] , Advancesin TEX.VI.Usingmathfontsinthenewstandard L ATEX. Notices Amer. Math. Soc.41(1994), 1164–1165. [27] George Grätzer, Math into L ATEX: An Introduction to L ATEX and AMS-L ATEX . Birkhäuser Boston, 1996. 2nd printing, 1998. [28] George Grätzer, General Lattice Theory. 2nd edition. Birkhäuser Verlag, Basel, 1998. xix+663 pp. [29] George Grätzer,FirstStepsin L ATEX.Birkhäuser Boston, Springer-Verlag, New York, 1999.
[30] George Grätzer, Pervije Sagi v LaTeX’e. Mir Publisher, Moscow, 2000. (Russian) [31] George Grätzer, Mathinto L ATEX. 3rd edition. Birkhäuser Verlag, Boston, Springer-Verlag, New York, 2000. xl+584 pp. ISBN: 0-8176-4131-9; 3-7643-4131-9 [32] George Grätzer, Turbulenttransition,TUGboat21(2001), 111–113. [33] , PublishinglegacydocumentontheWeb,TUGboat22(2001), 74–77.</p>

<p>[34] G. Grätzer, More Math into L ATEX. 4th edition. Springer-Verlag, New York, 2007. xxxiv+619 pp. ISBN-13: 978-0-387-32289-6, e-ISBN: 978-0-387-68852-7. Kindle Edition 2007, ASIN: B001C3ABDA [35] G. Grätzer, Agentlelearningcurvefor L ATEX. PracTeX Journal Number 3, 2008. [36] , WhatIsNewin L ATEX? I.BreakingFree. Notices AMS56(2009), 52–54. [37] , WhatIsNewinL ATEX? II.TEXimplementations,EvolutionorRevolution.Notices AMS56(2009), 627–629. [38] , What Is New in L ATEX? III. Formatting references. Notices AMS 56 (2009), 954–956. [39] , WhatIsNewin L ATEX? IV.WYSIWYG L ATEX. Notices AMS58(2011), 828–830. [40] ,WhatIsNewinL ATEX? V.L ATEXonaniPad.Foundation.Notices AMS60(2013), 332–334. [41] , What Is New in L ATEX? VI.L ATEX on an iPad. Empire. Notices AMS 60 (2013), 434–439. [42] George Grätzer, Practical L ATEX. Springer-Verlag, New York, 2014. ISBN: 978-3-319-06424-6 [43] George Grätzer, What Is New in L ATEX? VII. The STIX math symbols. Notices AMS 62 (2015). [44] Harley Hahn, Harley Hahn’s Student’s Guide to Unix. 2nd edition. McGraw-Hill, New York, 1993. [45] Horace Hart, Hart’s Rules For Compositors and Readers at the University Press, Oxford. Oxford University Press, Oxford, 1991. [46] Uwe Kern, Extending L ATEX’scolorfacilities: thexcolorpackage. December 21, 2005. http:\www.ukern.de\tex\xcolor.html [47] Donald E. Knuth, The Art of Computer Programming. Volumes 1–3. Addison-Wesley, Reading, MA, 1968–1998. [48] Donald E. Knuth, The TEXbook. Computers and Typesetting. Vol. A. Addison-Wesley, Reading, MA, 1984, 1990. [49] DonaldE.Knuth, TEX: TheProgram.ComputersandTypesetting.Vol.B.Addison-Wesley, Reading, MA, 1986. [50] Donald E. Knuth, The METAFONTbook. Computers and Typesetting. Vol. C. AddisonWesley, Reading, MA, 1986. [51] Donald E. Knuth, METAFONT: The Program. Computers and Typesetting. Vol. D. Addison-Wesley, Reading, MA, 1986. [52] Donald E. Knuth, Computer Modern Typefaces. Computers and Typesetting. Vol. E. Addison-Wesley, Reading, MA, 1987.</p>

<p>[53] Leslie Lamport, L ATEX: A Document Preparation System. 2nd edition. Addison-Wesley, Reading, MA, 1994. [54] Ruari McLean, The Thames and Hudson Manual of Typography. Thames and Hudson, London, 1980. [55] Frank Mittelbach, An extension of the L ATEX theorem environment. TUGboat 10 (1989), 416–426.
[56] Frank Mittelbach and Michel Goosens (with Johannes Braams, David Carlisle, and Chris Rowley), The L ATEX Companion. 2nd edition. Addison-Wesley, Reading, MA, 2004.
[57] FrankMittelbachandChrisRowley, L ATEX2.09→L ATEX3.TUGboat13(1)(1992), 96–101.
[58] ,L ATEX—Anewversionof L ATEX. TEX andTUG NEWS 2(4) (1993), 10–11. [59] , The L ATEX 3project. Euromath Bulletin1(1994), 117–125.
[60] ,L ATEX 3in’93. TEX andTUG NEWS 3(1) (1994), 7–11. [61] Frank Mittelbach and Rainer Schöpf,Thenewfontfamilyselection—userinterfacetostandard L ATEX.TUGboat11(1990), 297–305. [62] Oren Patashnik, BIBTEXing. Document in the BIBTEX distribution. [63] , BIBTEX1.0.TUGboat15(1994), 269–273. [64] R. M. Ritter, New Hart’s Rules: The Handbook of Style for Writers and Editors, Oxford. Oxford University Press, Oxford, 2005. [65] Rainer Schöpf, A new implementation of the L ATEX verbatim and verbatim* environments.TUGboat11(1990), 284–296. [66] Raymond Seroul and Silvio Levy, ABeginner’sBookof TEX. Springer-Verlag New York, 1995. [67] Wynter Snow, TEX fortheBeginner. Addison-Wesley, Reading, MA, 1992. [68] Ellen Swanson, Mathematics into Type. Updated edition. Updated by Arlene Ann O’Sean and Antoinette Tingley Schleyer. American Mathematical Society, Providence, RI, 1999. [69] Till Tantau, User’sGuidetotheBeamerClass. 2005. <a href="http://latex-beamer.sourceforge.net">http://latex-beamer.sourceforge.net</a> [70] Gérard Tisseau and Jacques Duma, TikZpurl’impatient, 2015. <a href="http://math.et.info.free.fr/TikZ/index.html">http://math.et.info.free.fr/TikZ/index.html</a></p>

<h2 id="index">Index</h2>

<p>lueluelue</p>

    </article>
  </div>

  
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-123456789-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>